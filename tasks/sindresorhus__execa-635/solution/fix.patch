diff --git a/index.d.ts b/index.d.ts
index 2034ab6..5b5ac94 100644
--- a/index.d.ts
+++ b/index.d.ts
@@ -256,7 +256,7 @@ export type CommonOptions<EncodingType extends EncodingOption = DefaultEncodingO
 
 	@default false
 	*/
-	readonly shell?: boolean | string;
+	readonly shell?: boolean | string | URL;
 
 	/**
 	Specify the character encoding used to decode the `stdout` and `stderr` output. If set to `'buffer'`, then `stdout` and `stderr` will be a `Uint8Array` instead of a string.
diff --git a/index.js b/index.js
index 8a4265a..38e5df8 100644
--- a/index.js
+++ b/index.js
@@ -30,16 +30,16 @@ const getEnv = ({env: envOption, extendEnv, preferLocal, localDir, execPath}) =>
 	return env;
 };
 
+const normalizeFileUrl = file => file instanceof URL ? fileURLToPath(file) : file;
+
 const getFilePath = file => {
-	if (file instanceof URL) {
-		return fileURLToPath(file);
-	}
+	const fileString = normalizeFileUrl(file);
 
-	if (typeof file !== 'string') {
+	if (typeof fileString !== 'string') {
 		throw new TypeError('First argument must be a string or a file URL.');
 	}
 
-	return file;
+	return fileString;
 };
 
 const handleArguments = (file, args, options = {}) => {
@@ -63,6 +63,7 @@ const handleArguments = (file, args, options = {}) => {
 		windowsHide: true,
 		verbose: verboseDefault,
 		...options,
+		shell: normalizeFileUrl(options.shell),
 	};
 
 	options.env = getEnv(options);
diff --git a/index.test-d.ts b/index.test-d.ts
index c6ad45c..59b6555 100644
--- a/index.test-d.ts
+++ b/index.test-d.ts
@@ -264,6 +264,7 @@ execa('unicorns', {uid: 0});
 execa('unicorns', {gid: 0});
 execa('unicorns', {shell: true});
 execa('unicorns', {shell: '/bin/sh'});
+execa('unicorns', {shell: fileUrl});
 execa('unicorns', {timeout: 1000});
 execa('unicorns', {maxBuffer: 1000});
 execa('unicorns', {killSignal: 'SIGTERM'});
diff --git a/package.json b/package.json
index 1a1900a..b3a9ce3 100644
--- a/package.json
+++ b/package.json
@@ -65,6 +65,7 @@
 		"path-key": "^4.0.0",
 		"tempfile": "^5.0.0",
 		"tsd": "^0.29.0",
+		"which": "^4.0.0",
 		"xo": "^0.56.0"
 	},
 	"c8": {
diff --git a/readme.md b/readme.md
index c6ffd09..7e83d1e 100644
--- a/readme.md
+++ b/readme.md
@@ -718,7 +718,7 @@ Sets the group identity of the process.
 
 #### shell
 
-Type: `boolean | string`\
+Type: `boolean | string | URL`\
 Default: `false`
 
 If `true`, runs `file` inside of a shell. Uses `/bin/sh` on UNIX and `cmd.exe` on Windows. A different shell can be specified as a string. The shell should understand the `-c` switch on UNIX or `/d /s /c` on Windows.
