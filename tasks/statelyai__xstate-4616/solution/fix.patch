diff --git a/.changeset/red-terms-stare.md b/.changeset/red-terms-stare.md
new file mode 100644
index 0000000000..8c9ef8da2e
--- /dev/null
+++ b/.changeset/red-terms-stare.md
@@ -0,0 +1,17 @@
+---
+'xstate': minor
+---
+
+`context` factories receive `self` now so you can immediately pass that as part of the input to spawned actors.
+
+```ts
+setup({
+  /* ... */
+}).createMachine({
+  context: ({ spawn, self }) => {
+    return {
+      childRef: spawn('child', { input: { parent: self } })
+    };
+  }
+});
+```
diff --git a/packages/core/src/StateMachine.ts b/packages/core/src/StateMachine.ts
index a6f62e0a3c..b1bd554f85 100644
--- a/packages/core/src/StateMachine.ts
+++ b/packages/core/src/StateMachine.ts
@@ -372,8 +372,8 @@ export class StateMachine<
     );
 
     if (typeof context === 'function') {
-      const assignment = ({ spawn, event }: any) =>
-        context({ spawn, input: event.input });
+      const assignment = ({ spawn, event, self }: any) =>
+        context({ spawn, input: event.input, self });
       return resolveActionsAndContext(
         preInitial,
         initEvent,
diff --git a/packages/core/src/interpreter.ts b/packages/core/src/interpreter.ts
index 46728387ba..51f6ec1d2b 100644
--- a/packages/core/src/interpreter.ts
+++ b/packages/core/src/interpreter.ts
@@ -697,6 +697,11 @@ export class Actor<TLogic extends AnyActorLogic>
    * @see {@link Actor.getPersistedSnapshot} to persist the internal state of an actor (which is more than just a snapshot).
    */
   public getSnapshot(): SnapshotFrom<TLogic> {
+    if (isDevelopment && !this._snapshot) {
+      throw new Error(
+        `Snapshot can't be read while the actor initializes itself`
+      );
+    }
     return this._snapshot;
   }
 }
diff --git a/packages/core/src/types.ts b/packages/core/src/types.ts
index 7b929990a7..f761bae947 100644
--- a/packages/core/src/types.ts
+++ b/packages/core/src/types.ts
@@ -1302,14 +1302,34 @@ export type MachineImplementations<
 type InitialContext<
   TContext extends MachineContext,
   TActor extends ProvidedActor,
-  TInput
-> = TContext | ContextFactory<TContext, TActor, TInput>;
+  TInput,
+  TEvent extends EventObject
+> = TContext | ContextFactory<TContext, TActor, TInput, TEvent>;
 
 export type ContextFactory<
   TContext extends MachineContext,
   TActor extends ProvidedActor,
-  TInput
-> = ({ spawn, input }: { spawn: Spawner<TActor>; input: TInput }) => TContext;
+  TInput,
+  TEvent extends EventObject = EventObject
+> = ({
+  spawn,
+  input,
+  self
+}: {
+  spawn: Spawner<TActor>;
+  input: TInput;
+  self: ActorRef<
+    MachineSnapshot<
+      TContext,
+      TEvent,
+      Record<string, AnyActorRef | undefined>, // TODO: this should be replaced with `TChildren`
+      StateValue,
+      string,
+      unknown
+    >,
+    TEvent
+  >;
+}) => TContext;
 
 export type MachineConfig<
   TContext extends MachineContext,
@@ -1358,8 +1378,8 @@ export type MachineConfig<
   output?: Mapper<TContext, DoneStateEvent, TOutput, TEvent> | TOutput;
 }) &
   (MachineContext extends TContext
-    ? { context?: InitialContext<LowInfer<TContext>, TActor, TInput> }
-    : { context: InitialContext<LowInfer<TContext>, TActor, TInput> });
+    ? { context?: InitialContext<LowInfer<TContext>, TActor, TInput, TEvent> }
+    : { context: InitialContext<LowInfer<TContext>, TActor, TInput, TEvent> });
 
 export interface ProvidedActor {
   src: string;
