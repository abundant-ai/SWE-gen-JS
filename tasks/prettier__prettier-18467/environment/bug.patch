diff --git a/package.json b/package.json
index abfd74e6c..a5f978c21 100644
--- a/package.json
+++ b/package.json
@@ -97,7 +97,6 @@
     "micromark-extension-math": "3.1.0",
     "micromark-extension-wiki-link": "0.0.4",
     "micromark-util-character": "2.1.1",
-    "micromark-util-html-tag-name": "2.0.1",
     "micromark-util-symbol": "2.0.1",
     "micromark-util-types": "2.0.2",
     "micromatch": "4.0.8",
diff --git a/src/language-markdown/parser-remark-11-markdown.js b/src/language-markdown/parser-remark-11-markdown.js
index 6cf2d978d..dc392bff6 100644
--- a/src/language-markdown/parser-remark-11-markdown.js
+++ b/src/language-markdown/parser-remark-11-markdown.js
@@ -1,3 +1,4 @@
+import { fromMarkdown } from "mdast-util-from-markdown";
 import { mathFromMarkdown } from "mdast-util-math";
 import { fromMarkdown as wikiLinkFromMarkdown } from "mdast-util-wiki-link";
 import { gfm as gfmSyntax } from "micromark-extension-gfm";
@@ -5,7 +6,6 @@ import { math as mathSyntax } from "micromark-extension-math";
 import { syntax as wikiLinkSyntax } from "micromark-extension-wiki-link";
 import parseFrontMatter from "../main/front-matter/parse.js";
 import { locEnd, locStart } from "./loc.js";
-import { fromMarkdown } from "./parser/html-flow-hack.js";
 import { gfmFromMarkdown } from "./parser/mdast-util-gfm.js";
 import {
   liquidFromMarkdown,
diff --git a/src/language-markdown/parser/html-flow-hack.js b/src/language-markdown/parser/html-flow-hack.js
deleted file mode 100644
index 31142a866..000000000
--- a/src/language-markdown/parser/html-flow-hack.js
+++ /dev/null
@@ -1,51 +0,0 @@
-/**
-Hack this line https://github.com/micromark/micromark/blob/774a70c6bae6dd94486d3385dbd9a0f14550b709/packages/micromark-core-commonmark/dev/lib/html-flow.js#L304
-To enforce all html tags parse like `<div>`
-https://github.com/remarkjs/remark-gfm/issues/81
-*/
-import { fromMarkdown as originalFromMarkdown } from "mdast-util-from-markdown";
-import { htmlBlockNames, htmlRawNames } from "micromark-util-html-tag-name";
-import * as assert from "#universal/assert";
-
-const isProduction = process.env.NODE_ENV !== "production";
-
-if (!isProduction) {
-  assert.ok(Array.isArray(htmlBlockNames));
-}
-
-let htmlRawNamesSet;
-const treatEverythingExceptRawNamesAsBlock = (tagName) => {
-  htmlRawNamesSet ??= new Set(htmlRawNames);
-  return !htmlRawNamesSet.has(tagName);
-};
-
-let fromMarkdown = originalFromMarkdown;
-if (isProduction) {
-  // In production, the array is bundled, it's fine to override
-  Object.defineProperty(htmlBlockNames, "includes", {
-    enumerable: false,
-    configurable: true,
-    get: () => treatEverythingExceptRawNamesAsBlock,
-  });
-} else {
-  let enabled = false;
-  const ArrayIncludes = Array.prototype.includes;
-  Object.defineProperty(htmlBlockNames, "includes", {
-    enumerable: false,
-    configurable: true,
-    get: () => (enabled ? treatEverythingExceptRawNamesAsBlock : ArrayIncludes),
-  });
-
-  fromMarkdown = function (...arguments_) {
-    enabled = true;
-
-    try {
-      // @ts-expect-error -- Safe
-      return originalFromMarkdown(...arguments_);
-    } finally {
-      enabled = false;
-    }
-  };
-}
-
-export { fromMarkdown };
diff --git a/src/language-markdown/parser/mdast-util-gfm.js b/src/language-markdown/parser/mdast-util-gfm.js
index 616ba02e1..2ad69826f 100644
--- a/src/language-markdown/parser/mdast-util-gfm.js
+++ b/src/language-markdown/parser/mdast-util-gfm.js
@@ -18,13 +18,11 @@ export function gfmFromMarkdown() {
     Boolean(extension.enter.literalAutolink),
   );
 
-  if (process.env.NODE_ENV !== "production") {
-    assert.ok(
-      autolinkExtension &&
-        Array.isArray(autolinkExtension.transforms) &&
-        autolinkExtension.transforms.length === 1,
-    );
-  }
+  assert.ok(
+    autolinkExtension &&
+      Array.isArray(autolinkExtension.transforms) &&
+      autolinkExtension.transforms.length === 1,
+  );
 
   // Prevent the autolink extension generate nodes without position
   autolinkExtension.transforms = [];
diff --git a/tests/format/markdown/commonmark-test-suite/__snapshots__/format.test.js.snap b/tests/format/markdown/commonmark-test-suite/__snapshots__/format.test.js.snap
index a87e18635..75d8f0a91 100644
--- a/tests/format/markdown/commonmark-test-suite/__snapshots__/format.test.js.snap
+++ b/tests/format/markdown/commonmark-test-suite/__snapshots__/format.test.js.snap
@@ -1521,8 +1521,8 @@ of dashes"/>
 
 \`
 
-<a title="a lot
----
+## <a title="a lot
+
 of dashes"/>
 
 ================================================================================
@@ -3030,7 +3030,7 @@ proseWrap: "always"
 <del>*foo*</del>
 
 =====================================output=====================================
-<del>*foo*</del>
+<del>_foo_</del>
 
 ================================================================================
 `;
@@ -3456,10 +3456,7 @@ Foo
 baz
 
 =====================================output=====================================
-Foo
-
-<a href="bar">
-baz
+Foo <a href="bar"> baz
 
 ================================================================================
 `;
@@ -3649,10 +3646,7 @@ proseWrap: "always"
 [Foo bar]
 
 =====================================output=====================================
-[Foo bar]:
-
-<my url>
-'title'
+[Foo bar]: <my url> "title"
 
 [Foo bar]
 
@@ -10979,10 +10973,7 @@ foo><bar/ >
 bim!bop />
 
 =====================================output=====================================
-< a>< foo><bar/ >
-
-<foo bar=baz
-bim!bop />
+< a>< foo><bar/ > <foo bar=baz bim!bop />
 
 ================================================================================
 `;
diff --git a/tests/format/markdown/html/__snapshots__/format.test.js.snap b/tests/format/markdown/html/__snapshots__/format.test.js.snap
index cd93ea4f2..b90827a0c 100644
--- a/tests/format/markdown/html/__snapshots__/format.test.js.snap
+++ b/tests/format/markdown/html/__snapshots__/format.test.js.snap
@@ -129,56 +129,6 @@ proseWrap: "always"
 ================================================================================
 `;
 
-exports[`multiline-attribute.md - {"proseWrap":"always"} format 1`] = `
-====================================options=====================================
-parsers: ["markdown"]
-printWidth: 80
-proseWrap: "always"
-                                                                                | printWidth
-=====================================input======================================
-<unknown title="line 1
-  line 2
-"></unknown>
-
-<div title="line 1
-  line 2
-"></div>
-
-- In list
-
-  - In list
-
-    <unknown title="line 1
-      line 2
-    "></unknown>
-
-    <div title="line 1
-      line 2
-    "></div>
-
-=====================================output=====================================
-<unknown title="line 1
-  line 2
-"></unknown>
-
-<div title="line 1
-  line 2
-"></div>
-
-- In list
-  - In list
-
-    <unknown title="line 1
-      line 2
-    "></unknown>
-
-    <div title="line 1
-      line 2
-    "></div>
-
-================================================================================
-`;
-
 exports[`multiline-with-trailing-space.md - {"proseWrap":"always"} format 1`] = `
 ====================================options=====================================
 parsers: ["markdown"]
diff --git a/tests/format/markdown/html/multiline-attribute.md b/tests/format/markdown/html/multiline-attribute.md
deleted file mode 100644
index 56006f789..000000000
--- a/tests/format/markdown/html/multiline-attribute.md
+++ /dev/null
@@ -1,19 +0,0 @@
-<unknown title="line 1
-  line 2
-"></unknown>
-
-<div title="line 1
-  line 2
-"></div>
-
-- In list
-
-  - In list
-
-    <unknown title="line 1
-      line 2
-    "></unknown>
-
-    <div title="line 1
-      line 2
-    "></div>
diff --git a/tests/format/markdown/markdown/__snapshots__/format.test.js.snap b/tests/format/markdown/markdown/__snapshots__/format.test.js.snap
index a0bb5599a..97cc3b6c8 100644
--- a/tests/format/markdown/markdown/__snapshots__/format.test.js.snap
+++ b/tests/format/markdown/markdown/__snapshots__/format.test.js.snap
@@ -1031,7 +1031,8 @@ objects]._
 
 If you want to learn more, these two conference talks are great introductions:
 
-<a href="https://www.youtube.com/watch?v=hkfBvpEfWdA"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886367/dda8a6f0-1e08-11e7-865b-22492450f10f.png"></a> <a href="https://www.youtube.com/watch?v=0Q4kUNx85_4"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886368/ddacd6f8-1e08-11e7-806a-9febd23cbf47.png"></a>
+<a href="https://www.youtube.com/watch?v=hkfBvpEfWdA"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886367/dda8a6f0-1e08-11e7-865b-22492450f10f.png"></a>
+<a href="https://www.youtube.com/watch?v=0Q4kUNx85_4"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886368/ddacd6f8-1e08-11e7-806a-9febd23cbf47.png"></a>
 
 ## Why Prettier?
 
@@ -3002,7 +3003,8 @@ objects]._
 
 If you want to learn more, these two conference talks are great introductions:
 
-<a href="https://www.youtube.com/watch?v=hkfBvpEfWdA"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886367/dda8a6f0-1e08-11e7-865b-22492450f10f.png"></a> <a href="https://www.youtube.com/watch?v=0Q4kUNx85_4"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886368/ddacd6f8-1e08-11e7-806a-9febd23cbf47.png"></a>
+<a href="https://www.youtube.com/watch?v=hkfBvpEfWdA"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886367/dda8a6f0-1e08-11e7-865b-22492450f10f.png"></a>
+<a href="https://www.youtube.com/watch?v=0Q4kUNx85_4"><img width="298" src="https://cloud.githubusercontent.com/assets/197597/24886368/ddacd6f8-1e08-11e7-806a-9febd23cbf47.png"></a>
 
 ## Why Prettier?
 
diff --git a/yarn.lock b/yarn.lock
index d1f442b9c..6f41c4567 100644
--- a/yarn.lock
+++ b/yarn.lock
@@ -7020,7 +7020,7 @@ __metadata:
   languageName: node
   linkType: hard
 
-"micromark-util-html-tag-name@npm:2.0.1, micromark-util-html-tag-name@npm:^2.0.0":
+"micromark-util-html-tag-name@npm:^2.0.0":
   version: 2.0.1
   resolution: "micromark-util-html-tag-name@npm:2.0.1"
   checksum: 10/dea365f5ad28ad74ff29fcb581f7b74fc1f80271c5141b3b2bc91c454cbb6dfca753f28ae03730d657874fcbd89d0494d0e3965dfdca06d9855f467c576afa9d
@@ -8052,7 +8052,6 @@ __metadata:
     micromark-extension-math: "npm:3.1.0"
     micromark-extension-wiki-link: "npm:0.0.4"
     micromark-util-character: "npm:2.1.1"
-    micromark-util-html-tag-name: "npm:2.0.1"
     micromark-util-symbol: "npm:2.0.1"
     micromark-util-types: "npm:2.0.2"
     micromatch: "npm:4.0.8"
