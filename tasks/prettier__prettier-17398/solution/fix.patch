diff --git a/changelog_unreleased/api/17344.md b/changelog_unreleased/api/17344.md
deleted file mode 100644
index fb4762bdc..000000000
--- a/changelog_unreleased/api/17344.md
+++ /dev/null
@@ -1,20 +0,0 @@
-#### Ignore files with `--check-ignore-pragma` (#17344 by @wnayes)
-
-Individual files can now opt out of formatting via `@noformat` or `@noprettier` "pragma" comments at the top of the file.
-
-To enable this feature, use the new option [`--check-ignore-pragma`](https://prettier.io/docs/options#check-ignore-pragma) (`checkIgnorePragma` via configuration or API).
-
-Language plugins can [implement support](https://prettier.io/docs/plugins#parsers) for this feature. Most built-in parsers, including JavaScript (TypeScript), CSS, HTML, JSON, Markdown (MDX), YAML, and GraphQL, were updated to support this feature.
-
-<!-- prettier-ignore -->
-```jsx
-/**
- * @noformat
- */
-
-export default matrix(
-  1, 0, 0,
-  0, 1, 0,
-  0, 0, 1
-);
-```
diff --git a/changelog_unreleased/javascript/17398.md b/changelog_unreleased/javascript/17398.md
new file mode 100644
index 000000000..a45a7831f
--- /dev/null
+++ b/changelog_unreleased/javascript/17398.md
@@ -0,0 +1,19 @@
+#### Preserve spaces between CSS words and embedded expression (#17398 by @sosukesuzuki)
+
+<!-- prettier-ignore -->
+```jsx
+// Input
+const Heading = styled.h1`
+    font-size: var(--font-size-h${level});
+`;
+
+// Prettier stable
+const Heading = styled.h1`
+    font-size: var(--font-size-h ${level});
+`;
+
+// Prettier main
+const Heading = styled.h1`
+    font-size: var(--font-size-h${level});
+`;
+```
diff --git a/cspell.json b/cspell.json
index 246432cdd..65802f9be 100644
--- a/cspell.json
+++ b/cspell.json
@@ -159,7 +159,6 @@
         "lintstaged",
         "lintstagedrc",
         "literalline",
-        "llms",
         "loglevel",
         "lydell",
         "Marek",
@@ -195,11 +194,9 @@
         "neoformat",
         "neovim",
         "nnoremap",
-        "noformat",
         "nonenumerable",
         "Nonspacing",
         "noopener",
-        "noprettier",
         "noreferrer",
         "normalise",
         "normalised",
diff --git a/docs/options.md b/docs/options.md
index 9f5bf1afe..157110b60 100644
--- a/docs/options.md
+++ b/docs/options.md
@@ -394,34 +394,6 @@ Note that “in tandem” doesn’t mean “at the same time”. When the two op
 
 [adoption strategy]: https://prettier.io/blog/2017/05/03/1.3.0.html#facebook-adoption-update
 
-## Check Ignore Pragma
-
-_First available in v3.6.0_
-
-Prettier can allow individual files to opt out of formatting if they contain a special comment, called a pragma, at the top of the file.
-
-Checking for these markers incurs a small upfront cost during formatting, so it's not enabled by default.
-
-A file with the following as its first comment will **not** be formatted when `--check-ignore-pragma` is supplied:
-
-```js
-/**
- * @noprettier
- */
-```
-
-or
-
-```js
-/**
- * @noformat
- */
-```
-
-| Default | CLI Override            | API Override                |
-| ------- | ----------------------- | --------------------------- |
-| `false` | `--check-ignore-pragma` | `checkIgnorePragma: <bool>` |
-
 ## Prose Wrap
 
 _First available in v1.8.2_
diff --git a/docs/plugins.md b/docs/plugins.md
index e7e6c8864..7597a6e23 100644
--- a/docs/plugins.md
+++ b/docs/plugins.md
@@ -113,7 +113,6 @@ export const parsers = {
     // The name of the AST that the parser produces.
     astFormat: "dance-ast",
     hasPragma,
-    hasIgnorePragma,
     locStart,
     locEnd,
     preprocess,
@@ -139,12 +138,6 @@ _(Optional)_ The pragma detection function (`hasPragma`) should return if the te
 function hasPragma(text: string): boolean;
 ```
 
-_(Optional)_ The "ignore pragma" detection function (`hasIgnorePragma`) should return if the text contains a pragma indicating the text should not be formatted.
-
-```ts
-function hasIgnorePragma(text: string): boolean;
-```
-
 _(Optional)_ The preprocess function can process the input text before passing into `parse` function.
 
 ```ts
diff --git a/jest.config.js b/jest.config.js
index 873afa7be..4376f74e1 100644
--- a/jest.config.js
+++ b/jest.config.js
@@ -63,7 +63,7 @@ const config = {
     "<rootDir>/tests/config/format-test-setup.js",
     "<rootDir>/tests/integration/integration-test-setup.js",
   ],
-  runner: "jest-light-runner/child-process",
+  runner: "jest-light-runner",
   snapshotSerializers: [
     "jest-snapshot-serializer-raw",
     "jest-snapshot-serializer-ansi",
diff --git a/package.json b/package.json
index b5e435d6d..dac94147d 100644
--- a/package.json
+++ b/package.json
@@ -30,7 +30,7 @@
     "bin"
   ],
   "dependencies": {
-    "@angular/compiler": "19.2.7",
+    "@angular/compiler": "19.2.5",
     "@babel/code-frame": "7.26.2",
     "@babel/parser": "7.27.0",
     "@babel/types": "7.27.0",
@@ -136,7 +136,7 @@
     "globals": "16.0.0",
     "index-to-position": "1.1.0",
     "jest": "30.0.0-alpha.7",
-    "jest-light-runner": "0.7.8",
+    "jest-light-runner": "0.6.0",
     "jest-snapshot-serializer-ansi": "2.2.1",
     "jest-snapshot-serializer-raw": "2.0.0",
     "jest-watch-typeahead": "2.2.2",
@@ -160,7 +160,7 @@
   },
   "scripts": {
     "prepublishOnly": "echo \"Error: must publish from dist/\" && exit 1",
-    "test": "jest",
+    "test": "jest --runInBand",
     "test:dev-package": "cross-env INSTALL_PACKAGE=1 yarn test",
     "test:dist": "cross-env NODE_ENV=production yarn test",
     "test:dist-standalone": "cross-env TEST_STANDALONE=1 yarn test:dist",
diff --git a/src/cli/format.js b/src/cli/format.js
index eedeb4c9b..5f3e04b51 100644
--- a/src/cli/format.js
+++ b/src/cli/format.js
@@ -1,20 +1,22 @@
 import fs from "node:fs/promises";
 import path from "node:path";
-import getStdin from "get-stdin";
 import * as prettier from "../index.js";
 import { expandPatterns } from "./expand-patterns.js";
 import findCacheFile from "./find-cache-file.js";
 import FormatResultsCache from "./format-results-cache.js";
-import mockable from "./mockable.js";
+import isTTY from "./is-tty.js";
 import getOptionsForFile from "./options/get-options-for-file.js";
 import {
   createIsIgnoredFunction,
   createTwoFilesPatch,
   errors,
+  mockable,
   picocolors,
 } from "./prettier-internal.js";
 import { normalizeToPosix, statSafe } from "./utils.js";
 
+const { getStdin, writeFormattedFile } = mockable;
+
 function diff(a, b) {
   return createTwoFilesPatch("", "", a, b, "", "", { context: 2 });
 }
@@ -30,7 +32,7 @@ function handleError(context, filename, error, printedFilename, ignoreUnknown) {
     error instanceof errors.UndefinedParserError;
 
   if (printedFilename) {
-    // Can't test on CI, `isTTY` is always false, see comments in `formatFiles`
+    // Can't test on CI, `isTTY()` is always false, see ./is-tty.js
     /* c8 ignore next 3 */
     if ((context.argv.write || ignoreUnknown) && errorIsUndefinedParseError) {
       printedFilename.clear();
@@ -190,11 +192,14 @@ async function format(context, input, opt) {
     context.logger.debug(
       `'${performanceTestFlag.name}' found, running formatWithCursor ${repeat} times.`,
     );
-    const start = mockable.getTimestamp();
+    let totalMs = 0;
     for (let i = 0; i < repeat; ++i) {
+      // should be using `performance.now()`, but only `Date` is cross-platform enough
+      const startMs = Date.now();
       await prettier.formatWithCursor(input, opt);
+      totalMs += Date.now() - startMs;
     }
-    const averageMs = (mockable.getTimestamp() - start) / repeat;
+    const averageMs = totalMs / repeat;
     const results = {
       repeat,
       hz: 1000 / averageMs,
@@ -300,11 +305,6 @@ async function formatFiles(context) {
     }
   }
 
-  // Some CI pipelines incorrectly report process.stdout.isTTY status,
-  // which causes unwanted lines in the output. An additional check for isCI() helps.
-  // See https://github.com/prettier/prettier/issues/5801
-  const isTTY = mockable.isStreamTTY(process.stdout) && !mockable.isCI();
-
   for await (const { error, filename, ignoreUnknown } of expandPatterns(
     context,
   )) {
@@ -333,7 +333,7 @@ async function formatFiles(context) {
 
     const fileNameToDisplay = normalizeToPosix(path.relative(cwd, filename));
     let printedFilename;
-    if (isTTY) {
+    if (isTTY()) {
       printedFilename = context.logger.log(fileNameToDisplay, {
         newline: false,
         clearable: true,
@@ -365,7 +365,7 @@ async function formatFiles(context) {
       continue;
     }
 
-    const start = mockable.getTimestamp();
+    const start = Date.now();
 
     const isCacheExists = formatResultsCache?.existsAvailableFormatResultsCache(
       filename,
@@ -407,16 +407,15 @@ async function formatFiles(context) {
     }
 
     if (context.argv.write) {
-      const timeToDisplay = `${Math.round(mockable.getTimestamp() - start)}ms`;
       // Don't write the file if it won't change in order not to invalidate
       // mtime based caches.
       if (isDifferent) {
         if (!context.argv.check && !context.argv.listDifferent) {
-          context.logger.log(`${fileNameToDisplay} ${timeToDisplay}`);
+          context.logger.log(`${fileNameToDisplay} ${Date.now() - start}ms`);
         }
 
         try {
-          await mockable.writeFormattedFile(filename, output);
+          await writeFormattedFile(filename, output);
 
           // Set cache if format succeeds
           shouldSetCache = true;
@@ -429,7 +428,9 @@ async function formatFiles(context) {
           process.exitCode = 2;
         }
       } else if (!context.argv.check && !context.argv.listDifferent) {
-        const message = `${picocolors.gray(fileNameToDisplay)} ${timeToDisplay} (unchanged)`;
+        const message = `${picocolors.gray(fileNameToDisplay)} ${
+          Date.now() - start
+        }ms (unchanged)`;
         if (isCacheExists) {
           context.logger.log(`${message} (cached)`);
         } else {
diff --git a/src/cli/index.js b/src/cli/index.js
index 9335874ef..81e6ef407 100644
--- a/src/cli/index.js
+++ b/src/cli/index.js
@@ -4,7 +4,6 @@ import logFileInfoOrDie from "./file-info.js";
 import logResolvedConfigPathOrDie from "./find-config-path.js";
 import { formatFiles, formatStdin } from "./format.js";
 import createLogger from "./logger.js";
-import mockable from "./mockable.js";
 import { parseArgvWithoutPlugins } from "./options/parse-cli-arguments.js";
 import printSupportInfo from "./print-support-info.js";
 import { createDetailedUsage, createUsage } from "./usage.js";
@@ -89,8 +88,7 @@ async function main(context) {
 
   const hasFilePatterns = context.filePatterns.length > 0;
   const useStdin =
-    !hasFilePatterns &&
-    (!mockable.isStreamTTY(process.stdin) || context.argv.filepath);
+    !hasFilePatterns && (!process.stdin.isTTY || context.argv.filepath);
 
   if (useStdin) {
     if (context.argv.cache) {
@@ -111,5 +109,3 @@ async function main(context) {
 }
 
 export { run };
-// Exposed for tests
-export { mockable } from "./mockable.js";
diff --git a/src/cli/is-tty.js b/src/cli/is-tty.js
new file mode 100644
index 000000000..fc8e9bca0
--- /dev/null
+++ b/src/cli/is-tty.js
@@ -0,0 +1,8 @@
+import { mockable } from "./prettier-internal.js";
+
+// Some CI pipelines incorrectly report process.stdout.isTTY status,
+// which causes unwanted lines in the output. An additional check for isCI() helps.
+// See https://github.com/prettier/prettier/issues/5801
+export default function isTTY() {
+  return process.stdout.isTTY && !mockable.isCI();
+}
diff --git a/src/cli/logger.js b/src/cli/logger.js
index ba59caa90..1eab35dee 100644
--- a/src/cli/logger.js
+++ b/src/cli/logger.js
@@ -1,6 +1,31 @@
-import mockable from "./mockable.js";
+import readline from "node:readline";
+import stripAnsi from "strip-ansi";
+import wcwidth from "wcwidth.js";
 import { picocolors } from "./prettier-internal.js";
 
+const countLines = (stream, text) => {
+  const columns = stream.columns || 80;
+  let lineCount = 0;
+  for (const line of stripAnsi(text).split("\n")) {
+    lineCount += Math.max(1, Math.ceil(wcwidth(line) / columns));
+  }
+  return lineCount;
+};
+
+const clear = (stream, text) => () => {
+  const lineCount = countLines(stream, text);
+
+  for (let line = 0; line < lineCount; line++) {
+    /* c8 ignore next 3 */
+    if (line > 0) {
+      readline.moveCursor(stream, 0, -1);
+    }
+
+    readline.clearLine(stream, 0);
+    readline.cursorTo(stream, 0);
+  }
+};
+
 const emptyLogResult = { clear() {} };
 function createLogger(logLevel = "log") {
   return {
@@ -31,7 +56,7 @@ function createLogger(logLevel = "log") {
 
       if (options.clearable) {
         return {
-          clear: () => mockable.clearStreamText(stream, message),
+          clear: clear(stream, message),
         };
       }
     };
diff --git a/src/cli/mockable.js b/src/cli/mockable.js
deleted file mode 100644
index 804da58fd..000000000
--- a/src/cli/mockable.js
+++ /dev/null
@@ -1,17 +0,0 @@
-import fs from "node:fs/promises";
-import { performance } from "node:perf_hooks";
-import { isCI } from "ci-info";
-// @ts-expect-error
-import { __internal as sharedWithCli } from "../index.js";
-import clearStreamText from "./utilities/clear-stream-text.js";
-
-const mockable = sharedWithCli.utils.createMockable({
-  clearStreamText,
-  getTimestamp: performance.now.bind(performance),
-  isCI: () => isCI,
-  isStreamTTY: (stream) => stream.isTTY,
-  writeFormattedFile: (file, data) => fs.writeFile(file, data),
-});
-
-export default mockable.mocked;
-export { mockable };
diff --git a/src/cli/prettier-internal.js b/src/cli/prettier-internal.js
index 055114054..ef7d83d61 100644
--- a/src/cli/prettier-internal.js
+++ b/src/cli/prettier-internal.js
@@ -12,6 +12,7 @@ export const {
   vnopts,
   fastGlob,
   createTwoFilesPatch,
+  mockable,
   picocolors,
   leven,
 } = sharedWithCli;
diff --git a/src/cli/utilities/clear-stream-text.js b/src/cli/utilities/clear-stream-text.js
deleted file mode 100644
index 36c8355f2..000000000
--- a/src/cli/utilities/clear-stream-text.js
+++ /dev/null
@@ -1,28 +0,0 @@
-import readline from "node:readline";
-import stripAnsi from "strip-ansi";
-import wcwidth from "wcwidth.js";
-
-const countLines = (stream, text) => {
-  const columns = stream.columns || 80;
-  let lineCount = 0;
-  for (const line of stripAnsi(text).split("\n")) {
-    lineCount += Math.max(1, Math.ceil(wcwidth(line) / columns));
-  }
-  return lineCount;
-};
-
-function clearStreamText(stream, text) {
-  const lineCount = countLines(stream, text);
-
-  for (let line = 0; line < lineCount; line++) {
-    /* c8 ignore next 3 */
-    if (line > 0) {
-      readline.moveCursor(stream, 0, -1);
-    }
-
-    readline.clearLine(stream, 0);
-    readline.cursorTo(stream, 0);
-  }
-}
-
-export default clearStreamText;
diff --git a/src/common/mockable.js b/src/common/mockable.js
index cbf68566c..97acb8c6b 100644
--- a/src/common/mockable.js
+++ b/src/common/mockable.js
@@ -1,8 +1,16 @@
-import createMockable from "../utils/create-mockable.js";
+import fs from "node:fs/promises";
+import { isCI } from "ci-info";
+import getStdin from "get-stdin";
 
-const mockable = createMockable({
+function writeFormattedFile(file, data) {
+  return fs.writeFile(file, data);
+}
+
+const mockable = {
   getPrettierConfigSearchStopDirectory: () => undefined,
-});
+  getStdin,
+  isCI: () => isCI,
+  writeFormattedFile,
+};
 
-export default mockable.mocked;
-export { mockable };
+export default mockable;
diff --git a/src/index.d.ts b/src/index.d.ts
index c8f10e1e7..ea505bdf8 100644
--- a/src/index.d.ts
+++ b/src/index.d.ts
@@ -385,11 +385,6 @@ export interface RequiredOptions extends doc.printer.Options {
    * @default false
    */
   insertPragma: boolean;
-  /**
-   * Prettier can allow individual files to opt out of formatting if they contain a special comment, called a pragma, at the top of the file.
-   * @default false
-   */
-  checkIgnorePragma: boolean;
   /**
    * By default, Prettier will wrap markdown text as-is since some services use a linebreak-sensitive renderer.
    * In some cases you may want to rely on editor/viewer soft wrapping instead, so this option allows you to opt out.
@@ -476,7 +471,6 @@ export interface Parser<T = any> {
   parse: (text: string, options: ParserOptions<T>) => T | Promise<T>;
   astFormat: string;
   hasPragma?: ((text: string) => boolean) | undefined;
-  hasIgnorePragma?: ((text: string) => boolean) | undefined;
   locStart: (node: T) => number;
   locEnd: (node: T) => number;
   preprocess?:
diff --git a/src/index.js b/src/index.js
index cf06e88c9..6d88aa219 100644
--- a/src/index.js
+++ b/src/index.js
@@ -12,7 +12,7 @@ import picocolors from "picocolors";
 import * as vnopts from "vnopts";
 import * as errors from "./common/errors.js";
 import getFileInfoWithoutPlugins from "./common/get-file-info.js";
-import { mockable } from "./common/mockable.js";
+import mockable from "./common/mockable.js";
 import {
   clearCache as clearConfigCache,
   resolveConfig,
@@ -31,7 +31,6 @@ import {
   getSupportInfo as getSupportInfoWithoutPlugins,
   normalizeOptionSettings,
 } from "./main/support.js";
-import createMockable from "./utils/create-mockable.js";
 import { createIsIgnoredFunction } from "./utils/ignore.js";
 import inferParserWithoutPlugins from "./utils/infer-parser.js";
 import omit from "./utils/object-omit.js";
@@ -115,8 +114,8 @@ const sharedWithCli = {
   leven,
   utils: {
     omit,
-    createMockable,
   },
+  mockable,
 };
 
 const debugApis = {
@@ -125,7 +124,6 @@ const debugApis = {
   formatDoc: withPlugins(core.formatDoc),
   printToDoc: withPlugins(core.printToDoc),
   printDocToString: withPlugins(core.printDocToString),
-  // Exposed for tests
   mockable,
 };
 
diff --git a/src/language-css/loc.js b/src/language-css/loc.js
index c01e5f896..6b4ea4dc4 100644
--- a/src/language-css/loc.js
+++ b/src/language-css/loc.js
@@ -2,6 +2,14 @@ import isNonEmptyArray from "../utils/is-non-empty-array.js";
 import lineColumnToIndex from "../utils/line-column-to-index.js";
 import { skipEverythingButNewLine } from "../utils/skip.js";
 
+function fixValueWordLoc(node, originalIndex) {
+  const { value } = node;
+  if (value === "-" || value === "--" || value.charAt(0) !== "-") {
+    return originalIndex;
+  }
+  return originalIndex - (value.charAt(1) === "-" ? 2 : 1);
+}
+
 function calculateLocStart(node, text) {
   // `postcss>=8`
   if (typeof node.source?.start?.offset === "number") {
@@ -10,6 +18,9 @@ function calculateLocStart(node, text) {
 
   // value-* nodes have this
   if (typeof node.sourceIndex === "number") {
+    if (node.type === "value-word") {
+      return fixValueWordLoc(node, node.sourceIndex);
+    }
     return node.sourceIndex;
   }
 
@@ -33,7 +44,11 @@ function calculateLocEnd(node, text) {
 
   if (node.source) {
     if (node.source.end) {
-      return lineColumnToIndex(node.source.end, text);
+      const index = lineColumnToIndex(node.source.end, text);
+      if (node.type === "value-word") {
+        return fixValueWordLoc(node, index);
+      }
+      return index;
     }
 
     if (isNonEmptyArray(node.nodes)) {
diff --git a/src/language-css/parser-postcss.js b/src/language-css/parser-postcss.js
index c7923a532..ff46fa30f 100644
--- a/src/language-css/parser-postcss.js
+++ b/src/language-css/parser-postcss.js
@@ -13,7 +13,7 @@ import parseMediaQuery from "./parse/parse-media-query.js";
 import parseSelector from "./parse/parse-selector.js";
 import parseValue from "./parse/parse-value.js";
 import { addTypePrefix } from "./parse/utils.js";
-import { hasIgnorePragma, hasPragma } from "./pragma.js";
+import { hasPragma } from "./pragma.js";
 import isModuleRuleName from "./utils/is-module-rule-name.js";
 import isSCSSNestedPropertyNode from "./utils/is-scss-nested-property-node.js";
 
@@ -430,7 +430,6 @@ function parseScss(text, options = {}) {
 const postCssParser = {
   astFormat: "postcss",
   hasPragma,
-  hasIgnorePragma,
   locStart,
   locEnd,
 };
diff --git a/src/language-css/pragma.js b/src/language-css/pragma.js
index 6145002ca..5f28841d1 100644
--- a/src/language-css/pragma.js
+++ b/src/language-css/pragma.js
@@ -1,5 +1,4 @@
 import {
-  hasIgnorePragma as jsHasIgnorePragma,
   hasPragma as jsHasPragma,
   insertPragma as jsInsertPragma,
 } from "../language-js/pragma.js";
@@ -9,10 +8,6 @@ function hasPragma(text) {
   return jsHasPragma(parseFrontMatter(text).content);
 }
 
-function hasIgnorePragma(text) {
-  return jsHasIgnorePragma(parseFrontMatter(text).content);
-}
-
 function insertPragma(text) {
   const { frontMatter, content } = parseFrontMatter(text);
   return (
@@ -20,4 +15,4 @@ function insertPragma(text) {
   );
 }
 
-export { hasIgnorePragma, hasPragma, insertPragma };
+export { hasPragma, insertPragma };
diff --git a/src/language-css/print/comma-separated-value-group.js b/src/language-css/print/comma-separated-value-group.js
index ab4cdce7f..37f112255 100644
--- a/src/language-css/print/comma-separated-value-group.js
+++ b/src/language-css/print/comma-separated-value-group.js
@@ -147,11 +147,15 @@ function printCommaSeparatedValueGroup(path, options, print) {
       continue;
     }
 
-    // styled.div` background: var(--${one}); `
+    // We should keep spaces between words in a embedded JS expression
+    // examples:
+    //   styled.div` font-size: var(--font-size-h${({ level }) => level}); `;
+    //   styled.div` grid-area: area-${({ area }) => area}; `;
+    //   styled.div` border: 1px ${solid} red; `;
     if (
       iNode.type === "value-word" &&
-      iNode.value.endsWith("-") &&
-      isAtWordPlaceholderNode(iNextNode)
+      isAtWordPlaceholderNode(iNextNode) &&
+      locEnd(iNode) === locStart(iNextNode)
     ) {
       continue;
     }
diff --git a/src/language-graphql/parser-graphql.js b/src/language-graphql/parser-graphql.js
index d833863f5..8f35ce61e 100644
--- a/src/language-graphql/parser-graphql.js
+++ b/src/language-graphql/parser-graphql.js
@@ -1,7 +1,7 @@
 import { parse as parseGraphql } from "graphql/language/parser.mjs";
 import createError from "../common/parser-create-error.js";
 import { locEnd, locStart } from "./loc.js";
-import { hasIgnorePragma, hasPragma } from "./pragma.js";
+import { hasPragma } from "./pragma.js";
 
 function parseComments(ast) {
   const comments = [];
@@ -48,7 +48,6 @@ export const graphql = {
   parse,
   astFormat: "graphql",
   hasPragma,
-  hasIgnorePragma,
   locStart,
   locEnd,
 };
diff --git a/src/language-graphql/pragma.js b/src/language-graphql/pragma.js
index 005c0dc9c..449d93781 100644
--- a/src/language-graphql/pragma.js
+++ b/src/language-graphql/pragma.js
@@ -1,6 +1,5 @@
 import {
   FORMAT_PRAGMA_TO_INSERT,
-  GRAPHQL_HAS_IGNORE_PRAGMA_REGEXP,
   GRAPHQL_HAS_PRAGMA_REGEXP,
 } from "../utils/pragma/pragma.evaluate.js";
 
@@ -8,12 +7,8 @@ function hasPragma(text) {
   return GRAPHQL_HAS_PRAGMA_REGEXP.test(text);
 }
 
-function hasIgnorePragma(text) {
-  return GRAPHQL_HAS_IGNORE_PRAGMA_REGEXP.test(text);
-}
-
 function insertPragma(text) {
   return `# @${FORMAT_PRAGMA_TO_INSERT}\n\n${text}`;
 }
 
-export { hasIgnorePragma, hasPragma, insertPragma };
+export { hasPragma, insertPragma };
diff --git a/src/language-html/parser-html.js b/src/language-html/parser-html.js
index e9af4eee9..57af1d01f 100644
--- a/src/language-html/parser-html.js
+++ b/src/language-html/parser-html.js
@@ -15,7 +15,7 @@ import isNonEmptyArray from "../utils/is-non-empty-array.js";
 import { Node } from "./ast.js";
 import { parseIeConditionalComment } from "./conditional-comment.js";
 import { locEnd, locStart } from "./loc.js";
-import { hasIgnorePragma, hasPragma } from "./pragma.js";
+import { hasPragma } from "./pragma.js";
 import HTML_ELEMENT_ATTRIBUTES from "./utils/html-elements-attributes.evaluate.js";
 import HTML_TAGS from "./utils/html-tag-names.evaluate.js";
 import isUnknownNamespace from "./utils/is-unknown-namespace.js";
@@ -428,7 +428,6 @@ function createParser(parseOptions) {
   return {
     parse: (text, options) => parse(text, parseOptions, options),
     hasPragma,
-    hasIgnorePragma,
     astFormat: "html",
     locStart,
     locEnd,
diff --git a/src/language-html/pragma.js b/src/language-html/pragma.js
index e220fcdcb..198c92e5e 100644
--- a/src/language-html/pragma.js
+++ b/src/language-html/pragma.js
@@ -1,19 +1,15 @@
 import {
   FORMAT_PRAGMA_TO_INSERT,
-  HTML_HAS_IGNORE_PRAGMA_REGEXP,
   HTML_HAS_PRAGMA_REGEXP,
 } from "../utils/pragma/pragma.evaluate.js";
 
 function hasPragma(text) {
+  // FIXME
   return HTML_HAS_PRAGMA_REGEXP.test(text);
 }
 
-function hasIgnorePragma(text) {
-  return HTML_HAS_IGNORE_PRAGMA_REGEXP.test(text);
-}
-
 function insertPragma(text) {
   return `<!-- @${FORMAT_PRAGMA_TO_INSERT} -->\n\n${text}`;
 }
 
-export { hasIgnorePragma, hasPragma, insertPragma };
+export { hasPragma, insertPragma };
diff --git a/src/language-html/print/tag.js b/src/language-html/print/tag.js
index d10c8219f..da50dff68 100644
--- a/src/language-html/print/tag.js
+++ b/src/language-html/print/tag.js
@@ -355,17 +355,15 @@ function printOpeningTagStartMarker(node, options) {
     case "docType": {
       // Only lowercase HTML5 doctype in `.html` and `.htm` files
       if (node.value === "html") {
-        const { filepath } = options;
-        if (filepath && /\.html?$/u.test(filepath)) {
+        const filepath = options.filepath ?? "";
+        if (/\.html?$/u.test(filepath)) {
           return HTML5_DOCTYPE_START_MARKER;
         }
       }
 
-      const start = locStart(node);
-      return options.originalText.slice(
-        start,
-        start + HTML5_DOCTYPE_START_MARKER.length,
-      );
+      const original = options.originalText.slice(locStart(node), locEnd(node));
+
+      return original.slice(0, HTML5_DOCTYPE_START_MARKER.length);
     }
 
     case "angularIcuExpression":
diff --git a/src/language-js/parse/utils/create-parser.js b/src/language-js/parse/utils/create-parser.js
index c82a41986..c93042cd4 100644
--- a/src/language-js/parse/utils/create-parser.js
+++ b/src/language-js/parse/utils/create-parser.js
@@ -1,5 +1,5 @@
 import { locEnd, locStart } from "../../loc.js";
-import { hasIgnorePragma, hasPragma } from "../../pragma.js";
+import { hasPragma } from "../../pragma.js";
 
 function createParser(options) {
   options = typeof options === "function" ? { parse: options } : options;
@@ -7,7 +7,6 @@ function createParser(options) {
   return {
     astFormat: "estree",
     hasPragma,
-    hasIgnorePragma,
     locStart,
     locEnd,
     ...options,
diff --git a/src/language-js/pragma.js b/src/language-js/pragma.js
index 3f7ad568d..62b669526 100644
--- a/src/language-js/pragma.js
+++ b/src/language-js/pragma.js
@@ -1,7 +1,6 @@
 import { extract, parseWithComments, print, strip } from "jest-docblock";
 import { normalizeEndOfLine } from "../common/end-of-line.js";
 import {
-  FORMAT_IGNORE_PRAGMAS,
   FORMAT_PRAGMA_TO_INSERT,
   FORMAT_PRAGMAS,
 } from "../utils/pragma/pragma.evaluate.js";
@@ -24,11 +23,6 @@ function hasPragma(text) {
   return FORMAT_PRAGMAS.some((pragma) => Object.hasOwn(pragmas, pragma));
 }
 
-function hasIgnorePragma(text) {
-  const { pragmas } = parseDocBlock(text);
-  return FORMAT_IGNORE_PRAGMAS.some((pragma) => Object.hasOwn(pragmas, pragma));
-}
-
 function insertPragma(originalText) {
   const { shebang, text, pragmas, comments } = parseDocBlock(originalText);
   const strippedText = strip(text);
@@ -56,4 +50,4 @@ function insertPragma(originalText) {
   );
 }
 
-export { hasIgnorePragma, hasPragma, insertPragma };
+export { hasPragma, insertPragma };
diff --git a/src/language-json/parser-json.js b/src/language-json/parser-json.js
index 3f4e4b1ac..9ef5b96d6 100644
--- a/src/language-json/parser-json.js
+++ b/src/language-json/parser-json.js
@@ -176,7 +176,6 @@ const jsonParsers = {
   json: createParser({
     parse: (text) => parseJson(text),
     hasPragma: () => true,
-    hasIgnorePragma: () => false,
   }),
   json5: createParser((text) => parseJson(text)),
   jsonc: createParser((text) => parseJson(text, { allowEmpty: true })),
diff --git a/src/language-markdown/clean.js b/src/language-markdown/clean.js
index 9c53c6821..b2a5da084 100644
--- a/src/language-markdown/clean.js
+++ b/src/language-markdown/clean.js
@@ -1,6 +1,5 @@
 import collapseWhiteSpace from "collapse-white-space";
 import isFrontMatter from "../utils/front-matter/is-front-matter.js";
-import { FORMAT_PRAGMAS } from "../utils/pragma/pragma.evaluate.js";
 import { startWithPragma } from "./pragma.js";
 
 const ignoredProperties = new Set([
@@ -78,7 +77,7 @@ function clean(original, cloned, parent) {
     (parent.children[0] === original ||
       (isFrontMatter(parent.children[0]) && parent.children[1] === original)) &&
     original.type === "html" &&
-    startWithPragma(original.value, FORMAT_PRAGMAS)
+    startWithPragma(original.value)
   ) {
     return null;
   }
diff --git a/src/language-markdown/parser-markdown.js b/src/language-markdown/parser-markdown.js
index f6049a92e..2522c06a0 100644
--- a/src/language-markdown/parser-markdown.js
+++ b/src/language-markdown/parser-markdown.js
@@ -4,7 +4,7 @@ import remarkParse from "remark-parse";
 import unified from "unified";
 import { locEnd, locStart } from "./loc.js";
 import { BLOCKS_REGEX, esSyntax } from "./mdx.js";
-import { hasIgnorePragma, hasPragma } from "./pragma.js";
+import { hasPragma } from "./pragma.js";
 import frontMatter from "./unified-plugins/front-matter.js";
 import htmlToJsx from "./unified-plugins/html-to-jsx.js";
 import liquid from "./unified-plugins/liquid.js";
@@ -47,7 +47,6 @@ function noop() {}
 const baseParser = {
   astFormat: "mdast",
   hasPragma,
-  hasIgnorePragma,
   locStart,
   locEnd,
 };
diff --git a/src/language-markdown/pragma.js b/src/language-markdown/pragma.js
index 735aed6e3..71e6bb7ec 100644
--- a/src/language-markdown/pragma.js
+++ b/src/language-markdown/pragma.js
@@ -1,13 +1,11 @@
 import parseFrontMatter from "../utils/front-matter/parse.js";
-import {
-  FORMAT_IGNORE_PRAGMAS,
-  FORMAT_PRAGMA_TO_INSERT,
-  FORMAT_PRAGMAS,
-} from "../utils/pragma/pragma.evaluate.js";
 
-function startWithPragma(text, pragmas) {
+const pragmas = ["format", "prettier"];
+
+function startWithPragma(text) {
   const pragma = `@(${pragmas.join("|")})`;
   const regex = new RegExp(
+    // eslint-disable-next-line regexp/match-any
     [
       `<!--\\s*${pragma}\\s*-->`,
       `\\{\\s*\\/\\*\\s*${pragma}\\s*\\*\\/\\s*\\}`,
@@ -20,20 +18,14 @@ function startWithPragma(text, pragmas) {
 }
 
 const hasPragma = (text) =>
-  startWithPragma(parseFrontMatter(text).content.trimStart(), FORMAT_PRAGMAS);
-
-const hasIgnorePragma = (text) =>
-  startWithPragma(
-    parseFrontMatter(text).content.trimStart(),
-    FORMAT_IGNORE_PRAGMAS,
-  );
+  startWithPragma(parseFrontMatter(text).content.trimStart());
 
 const insertPragma = (text) => {
   const extracted = parseFrontMatter(text);
-  const pragma = `<!-- @${FORMAT_PRAGMA_TO_INSERT} -->`;
+  const pragma = `<!-- @${pragmas[0]} -->`;
   return extracted.frontMatter
     ? `${extracted.frontMatter.raw}\n\n${pragma}\n\n${extracted.content}`
     : `${pragma}\n\n${extracted.content}`;
 };
 
-export { hasIgnorePragma, hasPragma, insertPragma, startWithPragma };
+export { hasPragma, insertPragma, startWithPragma };
diff --git a/src/language-yaml/parser-yaml.js b/src/language-yaml/parser-yaml.js
index 86ac5a5ef..e97d35d93 100644
--- a/src/language-yaml/parser-yaml.js
+++ b/src/language-yaml/parser-yaml.js
@@ -1,7 +1,7 @@
 import { parse as parseYaml } from "yaml-unist-parser/lib/parse.js";
 import createError from "../common/parser-create-error.js";
 import { locEnd, locStart } from "./loc.js";
-import { hasIgnorePragma, hasPragma } from "./pragma.js";
+import { hasPragma } from "./pragma.js";
 
 function parse(text) {
   try {
@@ -33,7 +33,6 @@ export const yaml = {
   astFormat: "yaml",
   parse,
   hasPragma,
-  hasIgnorePragma,
   locStart,
   locEnd,
 };
diff --git a/src/language-yaml/pragma.js b/src/language-yaml/pragma.js
index 286ab5af0..e868d3089 100644
--- a/src/language-yaml/pragma.js
+++ b/src/language-yaml/pragma.js
@@ -1,24 +1,21 @@
 import {
   FORMAT_PRAGMA_TO_INSERT,
-  YAML_HAS_IGNORE_PRAGMA_REGEXP,
   YAML_HAS_PRAGMA_REGEXP,
   YAML_IS_PRAGMA_REGEXP,
 } from "../utils/pragma/pragma.evaluate.js";
 
 function isPragma(text) {
+  // FIXME
   return YAML_IS_PRAGMA_REGEXP.test(text);
 }
 
 function hasPragma(text) {
+  // FIXME
   return YAML_HAS_PRAGMA_REGEXP.test(text);
 }
 
-function hasIgnorePragma(text) {
-  return YAML_HAS_IGNORE_PRAGMA_REGEXP.test(text);
-}
-
 function insertPragma(text) {
   return `# @${FORMAT_PRAGMA_TO_INSERT}\n\n${text}`;
 }
 
-export { hasIgnorePragma, hasPragma, insertPragma, isPragma };
+export { hasPragma, insertPragma, isPragma };
diff --git a/src/main/core-options.evaluate.js b/src/main/core-options.evaluate.js
index ea9c813f2..921b5c549 100644
--- a/src/main/core-options.evaluate.js
+++ b/src/main/core-options.evaluate.js
@@ -44,14 +44,6 @@ import {
 
 /** @type {{ [name: string]: OptionInfo }} */
 const options = {
-  checkIgnorePragma: {
-    category: CATEGORY_SPECIAL,
-    type: "boolean",
-    default: false,
-    description:
-      "Check whether the file's first docblock comment contains '@noprettier' or '@noformat' to determine if it should be formatted.",
-    cliCategory: CATEGORY_OTHER,
-  },
   cursorOffset: {
     category: CATEGORY_SPECIAL,
     type: "int",
@@ -184,8 +176,10 @@ const options = {
     category: CATEGORY_SPECIAL,
     type: "boolean",
     default: false,
-    description:
-      "Require either '@prettier' or '@format' to be present in the file's first docblock comment in order for it to be formatted.",
+    description: outdent`
+      Require either '@prettier' or '@format' to be present in the file's first docblock comment
+      in order for it to be formatted.
+    `,
     cliCategory: CATEGORY_OTHER,
   },
   tabWidth: {
diff --git a/src/main/core.js b/src/main/core.js
index 193da4fa5..eedc17bf3 100644
--- a/src/main/core.js
+++ b/src/main/core.js
@@ -311,11 +311,6 @@ async function hasPragma(text, options) {
   return !selectedParser.hasPragma || selectedParser.hasPragma(text);
 }
 
-async function hasIgnorePragma(text, options) {
-  const selectedParser = await resolveParser(options);
-  return selectedParser.hasIgnorePragma?.(text);
-}
-
 async function formatWithCursor(originalText, originalOptions) {
   let { hasBOM, text, options } = normalizeInputAndOptions(
     originalText,
@@ -324,8 +319,7 @@ async function formatWithCursor(originalText, originalOptions) {
 
   if (
     (options.rangeStart >= options.rangeEnd && text !== "") ||
-    (options.requirePragma && !(await hasPragma(text, options))) ||
-    (options.checkIgnorePragma && (await hasIgnorePragma(text, options)))
+    (options.requirePragma && !(await hasPragma(text, options)))
   ) {
     return {
       formatted: originalText,
diff --git a/src/utils/create-mockable.js b/src/utils/create-mockable.js
deleted file mode 100644
index 4f7b43bbb..000000000
--- a/src/utils/create-mockable.js
+++ /dev/null
@@ -1,42 +0,0 @@
-/**
-@template {{ [key: string]: any }} T
-@template {keyof T} K
-@param {T} implementations
-@returns {{
-  mocked: T,
-  implementations: T,
-  mockImplementation(functionality: K, implementation: T[K]): void,
-  mockImplementations(overrideImplementations: T): void,
-  mockRestore(): void,
-}}
-*/
-function createMockable(implementations) {
-  const mocked = { ...implementations };
-  const mockImplementation = (functionality, implementation) => {
-    if (!Object.hasOwn(implementations, functionality)) {
-      throw new Error(`Unexpected mock '${functionality}'.`);
-    }
-    // @ts-expect-error -- ??
-    mocked[functionality] = implementation;
-  };
-  const mockImplementations = (overrideImplementations) => {
-    for (const [functionality, implementation] of Object.entries(
-      overrideImplementations,
-    )) {
-      mockImplementation(functionality, implementation);
-    }
-  };
-  const mockRestore = () => {
-    Object.assign(mocked, implementations);
-  };
-
-  return {
-    mocked,
-    implementations,
-    mockImplementation,
-    mockImplementations,
-    mockRestore,
-  };
-}
-
-export default createMockable;
diff --git a/src/utils/pragma/pragma.evaluate.js b/src/utils/pragma/pragma.evaluate.js
index 483514894..9e7150f8b 100644
--- a/src/utils/pragma/pragma.evaluate.js
+++ b/src/utils/pragma/pragma.evaluate.js
@@ -1,42 +1,44 @@
+import assert from "node:assert";
+
 export const FORMAT_PRAGMAS = ["format", "prettier"];
-export const FORMAT_IGNORE_PRAGMAS = FORMAT_PRAGMAS.map(
-  (pragma) => `no${pragma}`,
-);
 export const FORMAT_PRAGMA_TO_INSERT = FORMAT_PRAGMAS[0];
 
-// Regular expressions are put in this file so they can be evaluated
+// Regular expressions put in this file so they can be evaluate
+
+// This exists because the regexp was rewrite from existing, feel free to remove when updating them
+const assertRegexpEqual = (regexpA, regexpB) => {
+  assert.ok(regexpA.source, regexpB.source);
+};
 
 export const YAML_IS_PRAGMA_REGEXP = new RegExp(
   String.raw`^\s*@(?:${FORMAT_PRAGMAS.join("|")})\s*$`,
   "u",
 );
+assertRegexpEqual(YAML_IS_PRAGMA_REGEXP, /^\s*@(?:prettier|format)\s*$/u);
 
-export const [YAML_HAS_PRAGMA_REGEXP, YAML_HAS_IGNORE_PRAGMA_REGEXP] = [
-  FORMAT_PRAGMAS,
-  FORMAT_IGNORE_PRAGMAS,
-].map(
-  (pragmas) =>
-    new RegExp(
-      String.raw`^\s*#[^\S\n]*@(?:${pragmas.join("|")})\s*?(?:\n|$)`,
-      "u",
-    ),
+export const YAML_HAS_PRAGMA_REGEXP = new RegExp(
+  String.raw`^\s*#[^\S\n]*@(?:${FORMAT_PRAGMAS.join("|")})\s*?(?:\n|$)`,
+  "u",
+);
+assertRegexpEqual(
+  YAML_HAS_PRAGMA_REGEXP,
+  /^\s*#[^\S\n]*@(?:prettier|format)\s*?(?:\n|$)/u,
 );
 
-export const [GRAPHQL_HAS_PRAGMA_REGEXP, GRAPHQL_HAS_IGNORE_PRAGMA_REGEXP] = [
-  FORMAT_PRAGMAS,
-  FORMAT_IGNORE_PRAGMAS,
-].map(
-  (pragmas) =>
-    new RegExp(
-      String.raw`^\s*#[^\S\n]*@(?:${pragmas.join("|")})\s*(?:\n|$)`,
-      "u",
-    ),
+export const GRAPHQL_HAS_PRAGMA_REGEXP = new RegExp(
+  String.raw`^\s*#[^\S\n]*@(?:${FORMAT_PRAGMAS.join("|")})\s*(?:\n|$)`,
+  "u",
+);
+assertRegexpEqual(
+  GRAPHQL_HAS_PRAGMA_REGEXP,
+  /^\s*#[^\S\n]*@(?:format|prettier)\s*(?:\n|$)/u,
 );
 
-export const [HTML_HAS_PRAGMA_REGEXP, HTML_HAS_IGNORE_PRAGMA_REGEXP] = [
-  FORMAT_PRAGMAS,
-  FORMAT_IGNORE_PRAGMAS,
-].map(
-  (pragmas) =>
-    new RegExp(String.raw`^\s*<!--\s*@(?:${pragmas.join("|")})\s*-->`, "u"),
+export const HTML_HAS_PRAGMA_REGEXP = new RegExp(
+  String.raw`^\s*<!--\s*@(?:${FORMAT_PRAGMAS.join("|")})\s*-->`,
+  "u",
+);
+assertRegexpEqual(
+  HTML_HAS_PRAGMA_REGEXP,
+  /^\s*<!--\s*@(?:format|prettier)\s*-->/u,
 );
diff --git a/website/docusaurus.config.js b/website/docusaurus.config.js
index 7fb3f039f..30d627db5 100644
--- a/website/docusaurus.config.js
+++ b/website/docusaurus.config.js
@@ -4,7 +4,6 @@ import fs from "node:fs";
 import { createRequire } from "node:module";
 import { load as parseYaml } from "js-yaml";
 import { themes as prismThemes } from "prism-react-renderer";
-import llmsTxtPlugin from "./plugins/llms-txt-plugin.mjs";
 
 const require = createRequire(import.meta.url);
 
@@ -259,7 +258,7 @@ const config = {
         darkTheme: prismThemes.dracula,
       },
     },
-  plugins: [llmsTxtPlugin],
+
   future: {
     experimental_faster: {
       swcJsLoader: true,
diff --git a/website/playground/Playground.jsx b/website/playground/Playground.jsx
index 0357fd837..2b4762cb8 100644
--- a/website/playground/Playground.jsx
+++ b/website/playground/Playground.jsx
@@ -45,8 +45,6 @@ const ENABLED_OPTIONS = [
   "htmlWhitespaceSensitivity",
   "insertPragma",
   "requirePragma",
-  // TODO: Enable this after release 3.6
-  // "checkIgnorePragma",
   "vueIndentScriptAndStyle",
   "embeddedLanguageFormatting",
   "bracketSameLine",
diff --git a/website/plugins/llms-txt-plugin.mjs b/website/plugins/llms-txt-plugin.mjs
deleted file mode 100644
index dd60b5c9c..000000000
--- a/website/plugins/llms-txt-plugin.mjs
+++ /dev/null
@@ -1,100 +0,0 @@
-// https://github.com/facebook/docusaurus/issues/10899
-// https://github.com/defi-wonderland/handbook/blob/dev/plugins/llmsTxtPlugin.ts
-import fs from "node:fs/promises";
-import path from "node:path";
-
-export default function llmsTxtPlugin(context) {
-  return {
-    name: "llms-txt-plugin",
-    async loadContent() {
-      const { siteDir } = context;
-      const contentDir = path.join(siteDir, "versioned_docs/version-stable");
-      const allMdx = [];
-      const docsRecords = [];
-
-      const getMdxFiles = async (dir, relativePath = "", depth = 0) => {
-        const entries = await fs.readdir(dir, {
-          withFileTypes: true,
-        });
-
-        entries.sort((a, b) => {
-          if (a.isDirectory() && !b.isDirectory()) {
-            return -1;
-          }
-          if (!a.isDirectory() && b.isDirectory()) {
-            return 1;
-          }
-          return a.name.localeCompare(b.name);
-        });
-
-        for (const entry of entries) {
-          const fullPath = path.join(dir, entry.name);
-          const currentRelativePath = path.join(relativePath, entry.name);
-
-          if (entry.isDirectory()) {
-            const dirName = entry.name
-              .split("-")
-              .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
-              .join(" ");
-            const headingLevel = "#".repeat(depth + 2);
-            allMdx.push(`\n${headingLevel} ${dirName}\n`);
-            await getMdxFiles(fullPath, currentRelativePath, depth + 1);
-          } else if (entry.name.endsWith(".md")) {
-            const content = await fs.readFile(fullPath, "utf8");
-            let title = entry.name.replace(".md", "");
-            let description = "";
-
-            const frontmatterMatch = content.match(/^---\n(.*?)\n---/su);
-            if (frontmatterMatch) {
-              const titleMatch = frontmatterMatch[1].match(/title:\s*(.+)/u);
-              const descriptionMatch =
-                frontmatterMatch[1].match(/description:\s*(.+)/u);
-
-              if (titleMatch) {
-                title = titleMatch[1].trim();
-              }
-              if (descriptionMatch) {
-                description = descriptionMatch[1].trim();
-              }
-            }
-
-            const headingLevel = "#".repeat(depth + 3);
-            allMdx.push(`\n${headingLevel} ${title}\n\n${content}`);
-
-            // Add to docs records for llms.txt
-            docsRecords.push({
-              title,
-              path: currentRelativePath.replaceAll("\\", "/"),
-              description,
-            });
-          }
-        }
-      };
-
-      await getMdxFiles(contentDir);
-      return { allMdx, docsRecords };
-    },
-    async postBuild({ content, outDir }) {
-      const { allMdx, docsRecords } = content;
-
-      // Write concatenated MDX content
-      const concatenatedPath = path.join(outDir, "llms-full.txt");
-      await fs.writeFile(concatenatedPath, allMdx.join("\n\n---\n\n"));
-
-      // Create llms.txt with the requested format
-      const llmsTxt = `# ${
-        context.siteConfig.title
-      }\n\n## Documentation\n\n${docsRecords
-        .map(
-          (doc) =>
-            `- [${doc.title}](${context.siteConfig.url}/docs/${doc.path.replace(
-              ".md",
-              "",
-            )}): ${doc.description}`,
-        )
-        .join("\n")}`;
-      const llmsTxtPath = path.join(outDir, "llms.txt");
-      await fs.writeFile(llmsTxtPath, llmsTxt);
-    },
-  };
-}
diff --git a/yarn.lock b/yarn.lock
index 47dd283d3..d0d568c7b 100644
--- a/yarn.lock
+++ b/yarn.lock
@@ -15,12 +15,12 @@ __metadata:
   languageName: node
   linkType: hard
 
-"@angular/compiler@npm:19.2.7":
-  version: 19.2.7
-  resolution: "@angular/compiler@npm:19.2.7"
+"@angular/compiler@npm:19.2.5":
+  version: 19.2.5
+  resolution: "@angular/compiler@npm:19.2.5"
   dependencies:
     tslib: "npm:^2.3.0"
-  checksum: 10/b6545922029a74387a6680f84147a9d16c222ad16e601ccde5696231332a278357ba43d593157b71859f9f1631c3178423f552fcf70ef8dcb3d66cbf1bffea71
+  checksum: 10/3a36f13228a49fe7e4c8630df47a6220ef5164b62a5c3e7d883f811bcffce0319fcdcc1bdf20d358fb37ebf52be6a1b73cebaa0565b86e540eb0f21ac0979e5b
   languageName: node
   linkType: hard
 
@@ -5558,9 +5558,9 @@ __metadata:
   languageName: node
   linkType: hard
 
-"jest-light-runner@npm:0.7.8":
-  version: 0.7.8
-  resolution: "jest-light-runner@npm:0.7.8"
+"jest-light-runner@npm:0.6.0":
+  version: 0.6.0
+  resolution: "jest-light-runner@npm:0.6.0"
   dependencies:
     "@jest/expect": "npm:^30.0.0-alpha.1"
     "@jest/fake-timers": "npm:^30.0.0-alpha.1"
@@ -5568,12 +5568,11 @@ __metadata:
     jest-each: "npm:^30.0.0-alpha.1"
     jest-mock: "npm:^30.0.0-alpha.1"
     jest-snapshot: "npm:^30.0.0-alpha.1"
-    p-limit: "npm:^6.2.0"
     supports-color: "npm:^9.2.1"
-    tinypool: "npm:0.8.4"
+    tinypool: "npm:^0.8.1"
   peerDependencies:
     jest: ^27.5.0 || ^28.0.0 || ^29.0.0|| ^30.0.0-0
-  checksum: 10/e0e4057c7f5bbf3fcb559b1aa92966ec4323df94af3f00c8306426c1a92e5eca3106c8ea737a46c47baf4ea8da0255330f6e1bf0c107fec52a8e6dc5a02a6067
+  checksum: 10/74103180fa2b997e46b7ba08e3afa6b673dd35d0c15fcecf825f9b7768c53c4f416bcdb261285b234375caaf45dd7cab397d5def7d95271c8d75ac59237fbf86
   languageName: node
   linkType: hard
 
@@ -6725,15 +6724,6 @@ __metadata:
   languageName: node
   linkType: hard
 
-"p-limit@npm:^6.2.0":
-  version: 6.2.0
-  resolution: "p-limit@npm:6.2.0"
-  dependencies:
-    yocto-queue: "npm:^1.1.1"
-  checksum: 10/70e8df3e5f1c173c9bd9fa8390a3c5c2797505240ae42973536992b1f5f59a922153c2f35ff1bf36fb72a0f025b0f13fca062a4233e830adad446960d56b4d84
-  languageName: node
-  linkType: hard
-
 "p-locate@npm:^4.1.0":
   version: 4.1.0
   resolution: "p-locate@npm:4.1.0"
@@ -7077,7 +7067,7 @@ __metadata:
   version: 0.0.0-use.local
   resolution: "prettier@workspace:."
   dependencies:
-    "@angular/compiler": "npm:19.2.7"
+    "@angular/compiler": "npm:19.2.5"
     "@babel/code-frame": "npm:7.26.2"
     "@babel/generator": "npm:7.27.0"
     "@babel/parser": "npm:7.27.0"
@@ -7147,7 +7137,7 @@ __metadata:
     iterate-directory-up: "npm:1.1.1"
     jest: "npm:30.0.0-alpha.7"
     jest-docblock: "npm:30.0.0-alpha.7"
-    jest-light-runner: "npm:0.7.8"
+    jest-light-runner: "npm:0.6.0"
     jest-snapshot-serializer-ansi: "npm:2.2.1"
     jest-snapshot-serializer-raw: "npm:2.0.0"
     jest-watch-typeahead: "npm:2.2.2"
@@ -8305,7 +8295,7 @@ __metadata:
   languageName: node
   linkType: hard
 
-"tinypool@npm:0.8.4":
+"tinypool@npm:^0.8.1":
   version: 0.8.4
   resolution: "tinypool@npm:0.8.4"
   checksum: 10/7365944c2532f240111443e7012be31a634faf1a02db08a91db3aa07361c26a374d0be00a0f2ea052c4bee39c107ba67f1f814c108d9d51dfc725c559c1a9c03
@@ -8948,13 +8938,6 @@ __metadata:
   languageName: node
   linkType: hard
 
-"yocto-queue@npm:^1.1.1":
-  version: 1.2.1
-  resolution: "yocto-queue@npm:1.2.1"
-  checksum: 10/0843d6c2c0558e5c06e98edf9c17942f25c769e21b519303a5c2adefd5b738c9b2054204dc856ac0cd9d134b1bc27d928ce84fd23c9e2423b7e013d5a6f50577
-  languageName: node
-  linkType: hard
-
 "zeptomatch-escape@npm:^1.0.0":
   version: 1.0.1
   resolution: "zeptomatch-escape@npm:1.0.1"
