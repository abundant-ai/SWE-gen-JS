diff --git a/changelog_unreleased/api/17331.md b/changelog_unreleased/api/17331.md
deleted file mode 100644
index 1c222e246..000000000
--- a/changelog_unreleased/api/17331.md
+++ /dev/null
@@ -1,17 +0,0 @@
-#### Add `isSupported` function support for `languages` API (#17331 by @JounQin)
-
-Previously, `languages` API for custom plugin only supported to infer parser based on the file basename or extension.
-
-Prettier main added `isSupported: (file: string) => boolean` function to allow plugin check if file is supported based on the full path (eg: files in a specific directory), the `file` parameter could be a normal path or a url string like `file:///C:/test.txt`.
-
-If no `isSupported` provided, it just behaviors the same way as before.
-
-```js
-export const languages = [
-  {
-    name: "foo",
-    parsers: ["foo"],
-    isSupported: (file) => file.includes(".foo"),
-  },
-];
-```
diff --git a/docs/api.md b/docs/api.md
index fe7d29b9a..ec7efc10b 100644
--- a/docs/api.md
+++ b/docs/api.md
@@ -124,7 +124,6 @@ The support information looks like this:
     filenames?: string[];
     linguistLanguageId?: number;
     vscodeLanguageIds?: string[];
-    isSupported?(file: string): boolean;
   }>;
 }
 ```
diff --git a/docs/plugins.md b/docs/plugins.md
index 7597a6e23..10b059b03 100644
--- a/docs/plugins.md
+++ b/docs/plugins.md
@@ -70,7 +70,7 @@ Strings provided to `plugins` are ultimately passed to [`import()` expression](h
 - [`prettier-plugin-sql-cst`](https://github.com/nene/prettier-plugin-sql-cst) by [**@nene**](https://github.com/nene)
 - [`prettier-plugin-solidity`](https://github.com/prettier-solidity/prettier-plugin-solidity) by [**@mattiaerre**](https://github.com/mattiaerre)
 - [`prettier-plugin-svelte`](https://github.com/sveltejs/prettier-plugin-svelte) by [**@sveltejs**](https://github.com/sveltejs)
-- [`prettier-plugin-toml`](https://github.com/un-ts/prettier/tree/master/packages/toml) by [**@JounQin**](https://github.com/JounQin) and [**@so1ve**](https://github.com/so1ve)
+- [`prettier-plugin-toml`](https://github.com/bd82/toml-tools/tree/master/packages/prettier-plugin-toml) by [**@bd82**](https://github.com/bd82)
 
 ## Developing Plugins
 
diff --git a/src/cli/file-info.js b/src/cli/file-info.js
index 377445757..a84bf7ea0 100644
--- a/src/cli/file-info.js
+++ b/src/cli/file-info.js
@@ -1,4 +1,3 @@
-import path from "node:path";
 import stringify from "fast-json-stable-stringify";
 import { format, getFileInfo } from "../index.js";
 import { printToScreen } from "./utils.js";
@@ -12,7 +11,7 @@ async function logFileInfoOrDie(context) {
     config,
   } = context.argv;
 
-  const fileInfo = await getFileInfo(path.resolve(file), {
+  const fileInfo = await getFileInfo(file, {
     ignorePath,
     withNodeModules,
     plugins,
diff --git a/src/cli/format.js b/src/cli/format.js
index 5f3e04b51..9385eeff8 100644
--- a/src/cli/format.js
+++ b/src/cli/format.js
@@ -239,12 +239,10 @@ async function formatStdin(context) {
     // TODO[@fisker]: Exit if no input.
     // `prettier --config-precedence cli-override`
 
-    const absoluteFilepath = filepath ? path.resolve(filepath) : undefined;
-
     let isFileIgnored = false;
-    if (absoluteFilepath) {
+    if (filepath) {
       const isIgnored = await createIsIgnoredFromContextOrDie(context);
-      isFileIgnored = isIgnored(absoluteFilepath);
+      isFileIgnored = isIgnored(filepath);
     }
 
     if (isFileIgnored) {
@@ -252,11 +250,10 @@ async function formatStdin(context) {
       return;
     }
 
-    const options = {
-      ...(await getOptionsForFile(context, absoluteFilepath)),
-      // `getOptionsForFile` forwards `--stdin-filepath` directly, which can be a relative path
-      filepath: absoluteFilepath,
-    };
+    const options = await getOptionsForFile(
+      context,
+      filepath ? path.resolve(filepath) : undefined,
+    );
 
     if (await listDifferent(context, input, options, "(stdin)")) {
       return;
diff --git a/src/index.d.ts b/src/index.d.ts
index 84cf02a8d..7a7841ec8 100644
--- a/src/index.d.ts
+++ b/src/index.d.ts
@@ -673,7 +673,6 @@ export interface SupportLanguage {
   linguistLanguageId?: number | undefined;
   vscodeLanguageIds?: string[] | undefined;
   interpreters?: string[] | undefined;
-  isSupported?: ((file: string) => boolean) | undefined;
 }
 
 export interface SupportOptionRange {
diff --git a/src/utils/infer-parser.js b/src/utils/infer-parser.js
index 7f23a7b24..0b1b4a013 100644
--- a/src/utils/infer-parser.js
+++ b/src/utils/infer-parser.js
@@ -1,19 +1,11 @@
 import getInterpreter from "./get-interpreter.js";
 
-/** @import {Options, SupportLanguage} from "../index.js" */
+/** @import {Options} from "../index.js" */
 
-/**
- * Didn't use `path.basename` since this module should work in browsers too
- * And `file` can be a `URL`
- * @param {string | URL} file
- */
+// Didn't use `path.basename` since this module need work in browsers too
+// And `file` can be a `URL`
 const getFileBasename = (file) => String(file).split(/[/\\]/u).pop();
 
-/**
- * @param {SupportLanguage[]} languages
- * @param {string | URL | undefined} [file]
- * @returns {SupportLanguage | undefined}
- */
 function getLanguageByFileName(languages, file) {
   if (!file) {
     return;
@@ -31,11 +23,6 @@ function getLanguageByFileName(languages, file) {
   );
 }
 
-/**
- * @param {SupportLanguage[]} languages
- * @param {string | undefined} [languageName]
- * @returns {SupportLanguage | undefined}
- */
 function getLanguageByLanguageName(languages, languageName) {
   if (!languageName) {
     return;
@@ -48,11 +35,6 @@ function getLanguageByLanguageName(languages, languageName) {
   );
 }
 
-/**
- * @param {SupportLanguage[]} languages
- * @param {string | URL | undefined} [file]
- * @returns {SupportLanguage | undefined}
- */
 function getLanguageByInterpreter(languages, file) {
   if (
     process.env.PRETTIER_TARGET === "universal" ||
@@ -73,30 +55,10 @@ function getLanguageByInterpreter(languages, file) {
   );
 }
 
-/**
- * @param {SupportLanguage[]} languages
- * @param {string | URL | undefined} [file]
- * @returns {SupportLanguage | undefined}
- */
-function getLanguageByIsSupported(languages, file) {
-  if (!file) {
-    return;
-  }
-
-  /*
-  We can't use `url.fileURLToPath` here since this module should work in browsers too
-  `URL#pathname` won't work either since `new URL('file:///C:/path/to/file').pathname`
-  equals to `/C:/path/to/file`, try to improve this part in future
-  */
-  file = String(file);
-
-  return languages.find(({ isSupported }) => isSupported?.(file));
-}
-
 /**
  * @param {Options} options
- * @param {{physicalFile?: string | URL | undefined, file?: string | URL | undefined, language?: string | undefined}} fileInfo
- * @returns {string | undefined} matched parser name if found
+ * @param {{physicalFile?: string | URL, file?: string | URL, language?: string}} fileInfo
+ * @returns {string | void} matched parser name if found
  */
 function inferParser(options, fileInfo) {
   const languages = options.plugins.flatMap(
@@ -112,8 +74,6 @@ function inferParser(options, fileInfo) {
     getLanguageByLanguageName(languages, fileInfo.language) ??
     getLanguageByFileName(languages, fileInfo.physicalFile) ??
     getLanguageByFileName(languages, fileInfo.file) ??
-    getLanguageByIsSupported(languages, fileInfo.physicalFile) ??
-    getLanguageByIsSupported(languages, fileInfo.file) ??
     getLanguageByInterpreter(languages, fileInfo.physicalFile);
 
   return language?.parsers[0];
diff --git a/tests/integration/__tests__/__snapshots__/infer-parser.js.snap b/tests/integration/__tests__/__snapshots__/infer-parser.js.snap
index a08d690bb..84a12db47 100644
--- a/tests/integration/__tests__/__snapshots__/infer-parser.js.snap
+++ b/tests/integration/__tests__/__snapshots__/infer-parser.js.snap
@@ -80,34 +80,17 @@ exports[`Interpreters (stdout) 1`] = `"{ "ignored": false, "inferredParser": "ba
 
 exports[`Known/Unknown (stdout) 1`] = `"known.js"`;
 
-exports[`isSupported (stdout) 1`] = `
-"{
-  "ignored": false,
-  "inferredParser": "parser-name-inferred-from-language-is-supported"
-}"
-`;
-
-exports[`isSupported (stdout) 2`] = `
-"content from file
-formatted by 'parser-name-inferred-from-language-is-supported' parser"
-`;
-
-exports[`isSupported (stdout) 3`] = `
-"content from stdin
-formatted by 'parser-name-inferred-from-language-is-supported' parser"
-`;
-
 exports[`stdin no path and no parser --check logs error but exits with 0 (stderr) 1`] = `"[error] No parser and no file path given, couldn't infer a parser."`;
 
 exports[`stdin no path and no parser --list-different logs error but exits with 0 (stderr) 1`] = `"[error] No parser and no file path given, couldn't infer a parser."`;
 
 exports[`stdin no path and no parser logs error and exits with 2 (stderr) 1`] = `"[error] No parser and no file path given, couldn't infer a parser."`;
 
-exports[`stdin with unknown path and no parser --check logs error but exits with 0 (stderr) 1`] = `"[error] No parser could be inferred for file "<cli>/infer-parser/foo"."`;
+exports[`stdin with unknown path and no parser --check logs error but exits with 0 (stderr) 1`] = `"[error] No parser could be inferred for file "foo"."`;
 
-exports[`stdin with unknown path and no parser --list-different logs error but exits with 0 (stderr) 1`] = `"[error] No parser could be inferred for file "<cli>/infer-parser/foo"."`;
+exports[`stdin with unknown path and no parser --list-different logs error but exits with 0 (stderr) 1`] = `"[error] No parser could be inferred for file "foo"."`;
 
-exports[`stdin with unknown path and no parser logs error and exits with 2 (stderr) 1`] = `"[error] No parser could be inferred for file "<cli>/infer-parser/foo"."`;
+exports[`stdin with unknown path and no parser logs error and exits with 2 (stderr) 1`] = `"[error] No parser could be inferred for file "foo"."`;
 
 exports[`unknown path and no parser multiple files (stderr) 1`] = `"[error] No parser could be inferred for file "<cli>/infer-parser/FOO"."`;
 
diff --git a/tests/integration/__tests__/infer-parser.js b/tests/integration/__tests__/infer-parser.js
index 2d331bc01..f6bbf7879 100644
--- a/tests/integration/__tests__/infer-parser.js
+++ b/tests/integration/__tests__/infer-parser.js
@@ -199,41 +199,3 @@ describe("Interpreters", () => {
     write: [],
   });
 });
-
-describe("isSupported", () => {
-  runCli("cli/infer-parser", [
-    "--plugin",
-    "../../plugins/languages/is-supported.js",
-    "--file-info",
-    ".husky/pre-commit",
-  ]).test({
-    status: 0,
-    stderr: "",
-    write: [],
-  });
-
-  runCli("cli/infer-parser", [
-    "--plugin",
-    "../../plugins/languages/is-supported.js",
-    ".husky/pre-commit",
-  ]).test({
-    status: 0,
-    stderr: "",
-    write: [],
-  });
-
-  runCli(
-    "cli/infer-parser",
-    [
-      "--plugin",
-      "../../plugins/languages/is-supported.js",
-      "--stdin-filepath",
-      ".husky/pre-commit",
-    ],
-    { input: "content from stdin" },
-  ).test({
-    status: 0,
-    stderr: "",
-    write: [],
-  });
-});
diff --git a/tests/integration/cli/infer-parser/.husky/pre-commit b/tests/integration/cli/infer-parser/.husky/pre-commit
deleted file mode 100644
index f221ff072..000000000
--- a/tests/integration/cli/infer-parser/.husky/pre-commit
+++ /dev/null
@@ -1 +0,0 @@
-content from file
diff --git a/tests/integration/plugins/languages/is-supported.js b/tests/integration/plugins/languages/is-supported.js
deleted file mode 100644
index 6b8350406..000000000
--- a/tests/integration/plugins/languages/is-supported.js
+++ /dev/null
@@ -1,28 +0,0 @@
-import path from "node:path";
-import createPlugin from "../../../config/utils/create-plugin.cjs";
-
-const PARSER_NAME = "parser-name-inferred-from-language-is-supported";
-const PRINT_MARK = `formatted by '${PARSER_NAME}' parser`
-
-const languages = [
-  {
-    name: "language-name-does-not-matter",
-    parsers: [PARSER_NAME],
-    isSupported(file) {
-      if (!path.isAbsolute(file)) {
-        throw new Error("Unexpected non absolute path");
-      }
-
-      return /(?<separator>[\\/])\.husky\k<separator>[^\\/]+$/u.test(file);
-    },
-  },
-];
-
-export default {
-  ...createPlugin({
-    name: PARSER_NAME,
-    print: (content) => `${content.replace(PRINT_MARK,"").trim()}\n${PRINT_MARK}`,
-    finalNewLine: false,
-  }),
-  languages,
-};
