diff --git a/demos/classchart.html b/demos/classchart.html
index 508bb1066..b20dda2a3 100644
--- a/demos/classchart.html
+++ b/demos/classchart.html
@@ -154,29 +154,6 @@
     </pre>
     <hr />
 
-    <pre class="mermaid">
-    classDiagram
-      A1 --> B1
-      namespace A {
-        class A1 {
-          +foo : string
-        }
-        class A2 {
-          +bar : int
-        }
-      }
-      namespace B {
-        class B1 {
-          +foo : bool
-        }
-        class B2 {
-          +bar : float
-        }
-      }
-      A2 --> B2
-    </pre>
-    <hr />
-
     <script type="module">
       import mermaid from './mermaid.esm.mjs';
       mermaid.initialize({
diff --git a/packages/mermaid/src/diagrams/class/classDb.ts b/packages/mermaid/src/diagrams/class/classDb.ts
index 7b74aa819..11a1eb37d 100644
--- a/packages/mermaid/src/diagrams/class/classDb.ts
+++ b/packages/mermaid/src/diagrams/class/classDb.ts
@@ -448,8 +448,9 @@ const getNamespaces = function (): NamespaceMap {
 export const addClassesToNamespace = function (id: string, classNames: string[]) {
   if (namespaces[id] !== undefined) {
     classNames.map((className) => {
-      classes[className].parent = id;
       namespaces[id].classes[className] = classes[className];
+      delete classes[className];
+      classCounter--;
     });
   }
 };
diff --git a/packages/mermaid/src/diagrams/class/classDiagram.spec.ts b/packages/mermaid/src/diagrams/class/classDiagram.spec.ts
index 2182e8c34..a43ed2fcd 100644
--- a/packages/mermaid/src/diagrams/class/classDiagram.spec.ts
+++ b/packages/mermaid/src/diagrams/class/classDiagram.spec.ts
@@ -1373,54 +1373,9 @@ class Class2
       parser.parse(str);
 
       const testNamespace = parser.yy.getNamespace('Namespace1');
-      const testClasses = parser.yy.getClasses();
       expect(Object.keys(testNamespace.classes).length).toBe(2);
       expect(Object.keys(testNamespace.children).length).toBe(0);
       expect(testNamespace.classes['Class1'].id).toBe('Class1');
-      expect(Object.keys(testClasses).length).toBe(2);
-    });
-
-    it('should add relations between classes of different namespaces', function () {
-      const str = `classDiagram
-      A1 --> B1
-      namespace A {
-        class A1 {
-          +foo : string
-        }
-        class A2 {
-          +bar : int
-        }
-      }
-      namespace B {
-        class B1 {
-          +foo : bool
-        }
-        class B2 {
-          +bar : float
-        }
-      }
-      A2 --> B2`;
-
-      parser.parse(str);
-      const testNamespaceA = parser.yy.getNamespace('A');
-      const testNamespaceB = parser.yy.getNamespace('B');
-      const testClasses = parser.yy.getClasses();
-      const testRelations = parser.yy.getRelations();
-      expect(Object.keys(testNamespaceA.classes).length).toBe(2);
-      expect(testNamespaceA.classes['A1'].members[0]).toBe('+foo : string');
-      expect(testNamespaceA.classes['A2'].members[0]).toBe('+bar : int');
-      expect(Object.keys(testNamespaceB.classes).length).toBe(2);
-      expect(testNamespaceB.classes['B1'].members[0]).toBe('+foo : bool');
-      expect(testNamespaceB.classes['B2'].members[0]).toBe('+bar : float');
-      expect(Object.keys(testClasses).length).toBe(4);
-      expect(testClasses['A1'].parent).toBe('A');
-      expect(testClasses['A2'].parent).toBe('A');
-      expect(testClasses['B1'].parent).toBe('B');
-      expect(testClasses['B2'].parent).toBe('B');
-      expect(testRelations[0].id1).toBe('A1');
-      expect(testRelations[0].id2).toBe('B1');
-      expect(testRelations[1].id1).toBe('A2');
-      expect(testRelations[1].id2).toBe('B2');
     });
   });
 
diff --git a/packages/mermaid/src/diagrams/class/classRenderer-v2.ts b/packages/mermaid/src/diagrams/class/classRenderer-v2.ts
index 6197fe8ac..e0cfea641 100644
--- a/packages/mermaid/src/diagrams/class/classRenderer-v2.ts
+++ b/packages/mermaid/src/diagrams/class/classRenderer-v2.ts
@@ -93,51 +93,52 @@ export const addClasses = function (
   log.info(classes);
 
   // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition
-  keys
-    .filter((id) => classes[id].parent == parent)
-    .forEach(function (id) {
-      const vertex = classes[id];
-
-      /**
-       * Variable for storing the classes for the vertex
-       */
-      const cssClassStr = vertex.cssClasses.join(' ');
-
-      const styles = { labelStyle: '', style: '' }; //getStylesFromArray(vertex.styles);
-
-      // Use vertex id as text in the box if no text is provided by the graph definition
-      const vertexText = vertex.label ?? vertex.id;
-      const radius = 0;
-      const shape = 'class_box';
-
-      // Add the node
-      const node = {
-        labelStyle: styles.labelStyle,
-        shape: shape,
-        labelText: sanitizeText(vertexText),
-        classData: vertex,
-        rx: radius,
-        ry: radius,
-        class: cssClassStr,
-        style: styles.style,
-        id: vertex.id,
-        domId: vertex.domId,
-        tooltip: diagObj.db.getTooltip(vertex.id, parent) || '',
-        haveCallback: vertex.haveCallback,
-        link: vertex.link,
-        width: vertex.type === 'group' ? 500 : undefined,
-        type: vertex.type,
-        // TODO V10: Flowchart ? Keeping flowchart for backwards compatibility. Remove in next major release
-        padding: getConfig().flowchart?.padding ?? getConfig().class?.padding,
-      };
-      g.setNode(vertex.id, node);
-
-      if (parent) {
-        g.setParent(vertex.id, parent);
-      }
+  keys.forEach(function (id) {
+    const vertex = classes[id];
 
-      log.info('setNode', node);
-    });
+    /**
+     * Variable for storing the classes for the vertex
+     */
+    let cssClassStr = '';
+    if (vertex.cssClasses.length > 0) {
+      cssClassStr = cssClassStr + ' ' + vertex.cssClasses.join(' ');
+    }
+
+    const styles = { labelStyle: '', style: '' }; //getStylesFromArray(vertex.styles);
+
+    // Use vertex id as text in the box if no text is provided by the graph definition
+    const vertexText = vertex.label ?? vertex.id;
+    const radius = 0;
+    const shape = 'class_box';
+
+    // Add the node
+    const node = {
+      labelStyle: styles.labelStyle,
+      shape: shape,
+      labelText: sanitizeText(vertexText),
+      classData: vertex,
+      rx: radius,
+      ry: radius,
+      class: cssClassStr,
+      style: styles.style,
+      id: vertex.id,
+      domId: vertex.domId,
+      tooltip: diagObj.db.getTooltip(vertex.id, parent) || '',
+      haveCallback: vertex.haveCallback,
+      link: vertex.link,
+      width: vertex.type === 'group' ? 500 : undefined,
+      type: vertex.type,
+      // TODO V10: Flowchart ? Keeping flowchart for backwards compatibility. Remove in next major release
+      padding: getConfig().flowchart?.padding ?? getConfig().class?.padding,
+    };
+    g.setNode(vertex.id, node);
+
+    if (parent) {
+      g.setParent(vertex.id, parent);
+    }
+
+    log.info('setNode', node);
+  });
 };
 
 /**
diff --git a/packages/mermaid/src/diagrams/class/classTypes.ts b/packages/mermaid/src/diagrams/class/classTypes.ts
index f3b8dc8cf..cf6f20f0b 100644
--- a/packages/mermaid/src/diagrams/class/classTypes.ts
+++ b/packages/mermaid/src/diagrams/class/classTypes.ts
@@ -7,7 +7,6 @@ export interface ClassNode {
   members: string[];
   annotations: string[];
   domId: string;
-  parent?: string;
   link?: string;
   linkTarget?: string;
   haveCallback?: boolean;
