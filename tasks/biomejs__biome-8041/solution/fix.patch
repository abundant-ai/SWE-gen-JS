diff --git a/.changeset/flat-rockets-battle.md b/.changeset/flat-rockets-battle.md
deleted file mode 100644
index c5893db20a..0000000000
--- a/.changeset/flat-rockets-battle.md
+++ /dev/null
@@ -1,5 +0,0 @@
----
-"@biomejs/biome": patch
----
-
-Biome now keeps a blank line after the frontmatter section in Astro files.
diff --git a/.changeset/stale-windows-strive.md b/.changeset/stale-windows-strive.md
new file mode 100644
index 0000000000..2de982af0b
--- /dev/null
+++ b/.changeset/stale-windows-strive.md
@@ -0,0 +1,9 @@
+---
+"@biomejs/biome": patch
+---
+
+The CSS parser, with `tailwindDirectives` enabled, will now accept lists of selectors in `@custom-variant` shorthand syntax.
+
+```css
+@custom-variant cell (th:has(&), td:has(&));
+```
diff --git a/.changeset/vast-donuts-rescue.md b/.changeset/vast-donuts-rescue.md
deleted file mode 100644
index 09cd4030e4..0000000000
--- a/.changeset/vast-donuts-rescue.md
+++ /dev/null
@@ -1,5 +0,0 @@
----
-"@biomejs/biome": patch
----
-
-`indentScriptAndStyle` no longer indents the frontmatter in Astro files.
diff --git a/crates/biome_css_factory/src/generated/node_factory.rs b/crates/biome_css_factory/src/generated/node_factory.rs
index 62624ad03b..35bfa0f23e 100644
--- a/crates/biome_css_factory/src/generated/node_factory.rs
+++ b/crates/biome_css_factory/src/generated/node_factory.rs
@@ -2424,7 +2424,7 @@ pub fn tw_custom_variant_at_rule(
 }
 pub fn tw_custom_variant_shorthand(
     l_paren_token: SyntaxToken,
-    selector: AnyCssSelector,
+    selector: CssSelectorList,
     r_paren_token: SyntaxToken,
     semicolon_token: SyntaxToken,
 ) -> TwCustomVariantShorthand {
diff --git a/crates/biome_css_factory/src/generated/syntax_factory.rs b/crates/biome_css_factory/src/generated/syntax_factory.rs
index 57e07f530d..b281455a6b 100644
--- a/crates/biome_css_factory/src/generated/syntax_factory.rs
+++ b/crates/biome_css_factory/src/generated/syntax_factory.rs
@@ -4985,7 +4985,7 @@ impl SyntaxFactory for CssSyntaxFactory {
                 }
                 slots.next_slot();
                 if let Some(element) = &current_element
-                    && AnyCssSelector::can_cast(element.kind())
+                    && CssSelectorList::can_cast(element.kind())
                 {
                     slots.mark_present();
                     current_element = elements.next();
diff --git a/crates/biome_css_parser/src/syntax/at_rule/tailwind.rs b/crates/biome_css_parser/src/syntax/at_rule/tailwind.rs
index 55a3c9a4fb..a7e503097e 100644
--- a/crates/biome_css_parser/src/syntax/at_rule/tailwind.rs
+++ b/crates/biome_css_parser/src/syntax/at_rule/tailwind.rs
@@ -3,14 +3,12 @@ use crate::parser::CssParser;
 use crate::syntax::block::{
     parse_declaration_block, parse_declaration_or_rule_list_block, parse_rule_block,
 };
-use crate::syntax::parse_error::{
-    expected_identifier, expected_selector, expected_string, expected_tw_source,
-};
-use crate::syntax::selector::parse_selector;
+use crate::syntax::parse_error::{expected_identifier, expected_string, expected_tw_source};
+use crate::syntax::selector::SelectorList;
 use crate::syntax::{is_at_identifier, parse_identifier, parse_regular_identifier, parse_string};
 use biome_css_syntax::CssSyntaxKind::{self, *};
 use biome_css_syntax::T;
-use biome_parser::parse_lists::ParseNodeList;
+use biome_parser::parse_lists::{ParseNodeList, ParseSeparatedList};
 use biome_parser::parse_recovery::ParseRecoveryTokenSet;
 use biome_parser::parsed_syntax::ParsedSyntax;
 use biome_parser::parsed_syntax::ParsedSyntax::{Absent, Present};
@@ -133,7 +131,10 @@ fn parse_custom_variant_shorthand(p: &mut CssParser) -> ParsedSyntax {
     let m = p.start();
 
     p.bump(T!['(']);
-    parse_selector(p).or_add_diagnostic(p, expected_selector);
+    let mut selector_list = SelectorList::default()
+        .with_end_kind_ts(token_set![T![')']])
+        .with_recovery_ts(token_set![T![')'], T![,], T![;]]);
+    selector_list.parse_list(p);
     p.expect(T![')']);
     p.expect(T![;]);
 
diff --git a/crates/biome_css_syntax/src/generated/nodes.rs b/crates/biome_css_syntax/src/generated/nodes.rs
index c1434540f3..1772b33974 100644
--- a/crates/biome_css_syntax/src/generated/nodes.rs
+++ b/crates/biome_css_syntax/src/generated/nodes.rs
@@ -7042,8 +7042,8 @@ impl TwCustomVariantShorthand {
     pub fn l_paren_token(&self) -> SyntaxResult<SyntaxToken> {
         support::required_token(&self.syntax, 0usize)
     }
-    pub fn selector(&self) -> SyntaxResult<AnyCssSelector> {
-        support::required_node(&self.syntax, 1usize)
+    pub fn selector(&self) -> CssSelectorList {
+        support::list(&self.syntax, 1usize)
     }
     pub fn r_paren_token(&self) -> SyntaxResult<SyntaxToken> {
         support::required_token(&self.syntax, 2usize)
@@ -7063,7 +7063,7 @@ impl Serialize for TwCustomVariantShorthand {
 #[derive(Serialize)]
 pub struct TwCustomVariantShorthandFields {
     pub l_paren_token: SyntaxResult<SyntaxToken>,
-    pub selector: SyntaxResult<AnyCssSelector>,
+    pub selector: CssSelectorList,
     pub r_paren_token: SyntaxResult<SyntaxToken>,
     pub semicolon_token: SyntaxResult<SyntaxToken>,
 }
@@ -18366,7 +18366,7 @@ impl std::fmt::Debug for TwCustomVariantShorthand {
                     "l_paren_token",
                     &support::DebugSyntaxResult(self.l_paren_token()),
                 )
-                .field("selector", &support::DebugSyntaxResult(self.selector()))
+                .field("selector", &self.selector())
                 .field(
                     "r_paren_token",
                     &support::DebugSyntaxResult(self.r_paren_token()),
diff --git a/crates/biome_css_syntax/src/generated/nodes_mut.rs b/crates/biome_css_syntax/src/generated/nodes_mut.rs
index 5104ecbb8c..e8441b2cf7 100644
--- a/crates/biome_css_syntax/src/generated/nodes_mut.rs
+++ b/crates/biome_css_syntax/src/generated/nodes_mut.rs
@@ -2846,7 +2846,7 @@ impl TwCustomVariantShorthand {
                 .splice_slots(0usize..=0usize, once(Some(element.into()))),
         )
     }
-    pub fn with_selector(self, element: AnyCssSelector) -> Self {
+    pub fn with_selector(self, element: CssSelectorList) -> Self {
         Self::unwrap_cast(
             self.syntax
                 .splice_slots(1usize..=1usize, once(Some(element.into_syntax().into()))),
diff --git a/crates/biome_html_formatter/src/html/auxiliary/root.rs b/crates/biome_html_formatter/src/html/auxiliary/root.rs
index d72a0a6348..b12c8ebf4e 100644
--- a/crates/biome_html_formatter/src/html/auxiliary/root.rs
+++ b/crates/biome_html_formatter/src/html/auxiliary/root.rs
@@ -18,7 +18,7 @@ impl FormatNodeRule<HtmlRoot> for FormatHtmlRoot {
         }
 
         if let Some(frontmatter) = frontmatter {
-            write!(f, [frontmatter.format(), empty_line()])?;
+            write!(f, [frontmatter.format(), hard_line_break()])?;
         }
 
         if let Some(directive) = directive {
diff --git a/crates/biome_js_syntax/src/file_source.rs b/crates/biome_js_syntax/src/file_source.rs
index 693d84700e..7bb3ca96d5 100644
--- a/crates/biome_js_syntax/src/file_source.rs
+++ b/crates/biome_js_syntax/src/file_source.rs
@@ -120,10 +120,7 @@ impl Language {
     Debug, Clone, Default, Copy, Eq, PartialEq, Hash, serde::Serialize, serde::Deserialize,
 )]
 pub enum EmbeddingKind {
-    Astro {
-        /// Whether the script is inside Astro frontmatter
-        frontmatter: bool,
-    },
+    Astro,
     Vue,
     Svelte,
     #[default]
@@ -132,10 +129,7 @@ pub enum EmbeddingKind {
 
 impl EmbeddingKind {
     pub const fn is_astro(&self) -> bool {
-        matches!(self, Self::Astro { frontmatter: false })
-    }
-    pub const fn is_astro_frontmatter(&self) -> bool {
-        matches!(self, Self::Astro { frontmatter: true })
+        matches!(self, Self::Astro)
     }
     pub const fn is_vue(&self) -> bool {
         matches!(self, Self::Vue)
@@ -207,10 +201,7 @@ impl JsFileSource {
     }
 
     pub fn astro() -> Self {
-        Self::ts().with_embedding_kind(EmbeddingKind::Astro { frontmatter: false })
-    }
-    pub fn astro_frontmatter() -> Self {
-        Self::ts().with_embedding_kind(EmbeddingKind::Astro { frontmatter: true })
+        Self::ts().with_embedding_kind(EmbeddingKind::Astro)
     }
 
     /// Vue file definition
diff --git a/crates/biome_service/src/file_handlers/html.rs b/crates/biome_service/src/file_handlers/html.rs
index 3338fd6201..982f83594b 100644
--- a/crates/biome_service/src/file_handlers/html.rs
+++ b/crates/biome_service/src/file_handlers/html.rs
@@ -445,8 +445,7 @@ pub(crate) fn parse_astro_embedded_script(
     settings: &Settings,
 ) -> Option<(EmbeddedSnippet<JsLanguage>, DocumentFileSource)> {
     let content = element.content_token()?;
-    let file_source =
-        JsFileSource::ts().with_embedding_kind(EmbeddingKind::Astro { frontmatter: true });
+    let file_source = JsFileSource::ts().with_embedding_kind(EmbeddingKind::Astro);
     let document_file_source = DocumentFileSource::Js(file_source);
     let options = settings.parse_options::<JsLanguage>(path, &document_file_source);
     let parse = parse_js_with_offset_and_cache(
@@ -494,7 +493,7 @@ pub(crate) fn parse_embedded_script(
             }
             file_source
         } else if html_file_source.is_astro() {
-            JsFileSource::ts().with_embedding_kind(EmbeddingKind::Astro { frontmatter: false })
+            JsFileSource::ts().with_embedding_kind(EmbeddingKind::Astro)
         } else {
             let is_module = element.is_javascript_module().unwrap_or_default();
             if is_module {
@@ -673,8 +672,8 @@ fn format_embedded(
         let mut iter = embedded_nodes.iter();
         let node = iter.find(|node| node.range == range)?;
 
-        let wrap_document = |document: Document, should_indent: bool| {
-            if indent_script_and_style && should_indent {
+        let wrap_document = |document: Document| {
+            if indent_script_and_style {
                 let elements = vec![
                     FormatElement::Line(LineMode::Hard),
                     FormatElement::Tag(Tag::StartIndent),
@@ -694,16 +693,12 @@ fn format_embedded(
         };
 
         match node.source {
-            DocumentFileSource::Js(file_source) => {
+            DocumentFileSource::Js(_) => {
                 let js_options = settings.format_options::<JsLanguage>(biome_path, &node.source);
                 let node = node.node.clone().embedded_syntax::<JsLanguage>().clone();
                 let formatted =
                     biome_js_formatter::format_node_with_offset(js_options, &node).ok()?;
-
-                Some(wrap_document(
-                    formatted.into_document(),
-                    !file_source.as_embedding_kind().is_astro_frontmatter(),
-                ))
+                Some(wrap_document(formatted.into_document()))
             }
             DocumentFileSource::Json(_) => {
                 let json_options =
@@ -711,14 +706,14 @@ fn format_embedded(
                 let node = node.node.clone().embedded_syntax::<JsonLanguage>().clone();
                 let formatted =
                     biome_json_formatter::format_node_with_offset(json_options, &node).ok()?;
-                Some(wrap_document(formatted.into_document(), true))
+                Some(wrap_document(formatted.into_document()))
             }
             DocumentFileSource::Css(_) => {
                 let css_options = settings.format_options::<CssLanguage>(biome_path, &node.source);
                 let node = node.node.clone().embedded_syntax::<CssLanguage>();
                 let formatted =
                     biome_css_formatter::format_node_with_offset(css_options, &node).ok()?;
-                Some(wrap_document(formatted.into_document(), true))
+                Some(wrap_document(formatted.into_document()))
             }
             _ => None,
         }
diff --git a/crates/biome_service/src/file_handlers/mod.rs b/crates/biome_service/src/file_handlers/mod.rs
index e69b344c00..2001b46387 100644
--- a/crates/biome_service/src/file_handlers/mod.rs
+++ b/crates/biome_service/src/file_handlers/mod.rs
@@ -814,7 +814,7 @@ impl Features {
         match language_hint {
             // TODO: remove match once we remove vue/astro/svelte handlers
             DocumentFileSource::Js(source) => match source.as_embedding_kind() {
-                EmbeddingKind::Astro { .. } => self.astro.capabilities(),
+                EmbeddingKind::Astro => self.astro.capabilities(),
                 EmbeddingKind::Vue => self.vue.capabilities(),
                 EmbeddingKind::Svelte => self.svelte.capabilities(),
                 EmbeddingKind::None => self.js.capabilities(),
diff --git a/packages/@biomejs/backend-jsonrpc/src/workspace.ts b/packages/@biomejs/backend-jsonrpc/src/workspace.ts
index f326649ea7..bb7ae96540 100644
--- a/packages/@biomejs/backend-jsonrpc/src/workspace.ts
+++ b/packages/@biomejs/backend-jsonrpc/src/workspace.ts
@@ -9594,18 +9594,7 @@ export interface HtmlFileSource {
 export interface GritFileSource {
 	variant: GritVariant;
 }
-export type EmbeddingKind =
-	| "Vue"
-	| "Svelte"
-	| "None"
-	| {
-			Astro: {
-				/**
-				 * Whether the script is inside Astro frontmatter
-				 */
-				frontmatter: boolean;
-			};
-	  };
+export type EmbeddingKind = "Astro" | "Vue" | "Svelte" | "None";
 export type Language =
 	| "javaScript"
 	| { typeScript: { definition_file: boolean } };
diff --git a/xtask/codegen/css.ungram b/xtask/codegen/css.ungram
index 1e9a9b1ea4..2402f70851 100644
--- a/xtask/codegen/css.ungram
+++ b/xtask/codegen/css.ungram
@@ -1930,7 +1930,7 @@ AnyTwCustomVariantSelector =
 
 TwCustomVariantShorthand =
   '('
-  selector: AnyCssSelector
+  selector: CssSelectorList
   ')'
   ';'
 
diff --git a/xtask/rules_check/src/lib.rs b/xtask/rules_check/src/lib.rs
index e875321d8c..e702739fcc 100644
--- a/xtask/rules_check/src/lib.rs
+++ b/xtask/rules_check/src/lib.rs
@@ -285,7 +285,7 @@ fn assert_lint(
         DocumentFileSource::Js(file_source) => {
             // Temporary support for astro, svelte and vue code blocks
             let (code, file_source) = match file_source.as_embedding_kind() {
-                EmbeddingKind::Astro { .. } => (
+                EmbeddingKind::Astro => (
                     biome_service::file_handlers::AstroFileHandler::input(code),
                     JsFileSource::ts(),
                 ),
