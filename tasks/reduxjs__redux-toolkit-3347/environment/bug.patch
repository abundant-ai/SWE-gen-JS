diff --git a/docs/api/autoBatchEnhancer.mdx b/docs/api/autoBatchEnhancer.mdx
index 43378b80..e0d9e0de 100644
--- a/docs/api/autoBatchEnhancer.mdx
+++ b/docs/api/autoBatchEnhancer.mdx
@@ -51,9 +51,9 @@ const { incrementBatched, decrementUnbatched } = counterSlice.actions
 const store = configureStore({
   reducer: counterSlice.reducer,
   // highlight-start
-  enhancers: (getDefaultEnhancers) => {
+  enhancers: (existingEnhancers) => {
     // Add the autobatch enhancer to the store setup
-    return getDefaultEnhancers().concat(autoBatchEnhancer())
+    return existingEnhancers.concat(autoBatchEnhancer())
   },
   // highlight-end
 })
diff --git a/docs/api/configureStore.mdx b/docs/api/configureStore.mdx
index 7abd6155..e3199c66 100644
--- a/docs/api/configureStore.mdx
+++ b/docs/api/configureStore.mdx
@@ -17,12 +17,14 @@ to the store setup for a better development experience.
 `configureStore` accepts a single configuration object parameter, with the following options:
 
 ```ts no-transpile
+type ConfigureEnhancersCallback = (
+  defaultEnhancers: EnhancerArray<[StoreEnhancer]>
+) => StoreEnhancer[]
 
 interface ConfigureStoreOptions<
   S = any,
   A extends Action = AnyAction,
   M extends Middlewares<S> = Middlewares<S>
-  E extends Enhancers = Enhancers
 > {
   /**
    * A single reducer function that will be used as the root reducer, or an
@@ -57,11 +59,11 @@ interface ConfigureStoreOptions<
    * The store enhancers to apply. See Redux's `createStore()`.
    * All enhancers will be included before the DevTools Extension enhancer.
    * If you need to customize the order of enhancers, supply a callback
-   * function that will receive the getDefaultEnhancers,
-   * and should return a new array (such as `getDefaultEnhancers().concat(offline)`).
+   * function that will receive the original array (ie, `[applyMiddleware]`),
+   * and should return a new array (such as `[applyMiddleware, offline]`).
    * If you only need to add middleware, you can use the `middleware` parameter instead.
    */
-  enhancers?: (getDefaultEnhancers: GetDefaultEnhancers<M>) => E | E
+  enhancers?: StoreEnhancer[] | ConfigureEnhancersCallback
 }
 
 function configureStore<S = any, A extends Action = AnyAction>(
@@ -201,10 +203,7 @@ const store = configureStore({
   middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(logger),
   devTools: process.env.NODE_ENV !== 'production',
   preloadedState,
-  enhancers: (getDefaultEnhancers) =>
-    getDefaultEnhancers({
-      autoBatch: false,
-    }).concat(batchedSubscribe(debounceNotify)),
+  enhancers: [batchedSubscribe(debounceNotify)],
 })
 
 // The store has been created with these options:
diff --git a/docs/usage/usage-guide.md b/docs/usage/usage-guide.md
index bcd93f8f..6b465ff7 100644
--- a/docs/usage/usage-guide.md
+++ b/docs/usage/usage-guide.md
@@ -128,8 +128,7 @@ export default function configureAppStore(preloadedState) {
     middleware: (getDefaultMiddleware) =>
       getDefaultMiddleware().concat(loggerMiddleware),
     preloadedState,
-    enhancers: (getDefaultEnhancers) =>
-      getDefaultEnhancers().concat(monitorReducersEnhancer),
+    enhancers: [monitorReducersEnhancer],
   })
 
   if (process.env.NODE_ENV !== 'production' && module.hot) {
@@ -620,17 +619,17 @@ A typical implementation might look like:
 
 ```js
 const getRepoDetailsStarted = () => ({
-  type: 'repoDetails/fetchStarted',
+  type: "repoDetails/fetchStarted"
 })
 const getRepoDetailsSuccess = (repoDetails) => ({
-  type: 'repoDetails/fetchSucceeded',
-  payload: repoDetails,
+  type: "repoDetails/fetchSucceeded",
+  payload: repoDetails
 })
 const getRepoDetailsFailed = (error) => ({
-  type: 'repoDetails/fetchFailed',
-  error,
+  type: "repoDetails/fetchFailed",
+  error
 })
-const fetchIssuesCount = (org, repo) => async (dispatch) => {
+const fetchIssuesCount = (org, repo) => async dispatch => {
   dispatch(getRepoDetailsStarted())
   try {
     const repoDetails = await getRepoDetails(org, repo)
@@ -1119,11 +1118,11 @@ It is also strongly recommended to blacklist any api(s) that you have configured
 
 ```ts
 const persistConfig = {
-  key: 'root',
+  key: "root",
   version: 1,
   storage,
   blacklist: [pokemonApi.reducerPath],
-}
+};
 ```
 
 See [Redux Toolkit #121: How to use this with Redux-Persist?](https://github.com/reduxjs/redux-toolkit/issues/121) and [Redux-Persist #988: non-serializable value error](https://github.com/rt2zz/redux-persist/issues/988#issuecomment-552242978) for further discussion.
diff --git a/packages/toolkit/src/autoBatchEnhancer.ts b/packages/toolkit/src/autoBatchEnhancer.ts
index eb4dd8ca..65a77bb8 100644
--- a/packages/toolkit/src/autoBatchEnhancer.ts
+++ b/packages/toolkit/src/autoBatchEnhancer.ts
@@ -9,6 +9,26 @@ export const prepareAutoBatched =
     meta: { [SHOULD_AUTOBATCH]: true },
   })
 
+// TODO Remove this in 2.0
+// Copied from https://github.com/feross/queue-microtask
+let promise: Promise<any>
+const queueMicrotaskShim =
+  typeof queueMicrotask === 'function'
+    ? queueMicrotask.bind(
+        typeof window !== 'undefined'
+          ? window
+          : typeof global !== 'undefined'
+          ? global
+          : globalThis
+      )
+    : // reuse resolved promise, and allocate it lazily
+      (cb: () => void) =>
+        (promise || (promise = Promise.resolve())).then(cb).catch((err: any) =>
+          setTimeout(() => {
+            throw err
+          }, 0)
+        )
+
 const createQueueWithTimer = (timeout: number) => {
   return (notify: () => void) => {
     setTimeout(notify, timeout)
@@ -43,10 +63,10 @@ export type AutoBatchOptions =
  *
  * By default, it will queue a notification for the end of the event loop tick.
  * However, you can pass several other options to configure the behavior:
- * - `{type: 'tick'}`: queues using `queueMicrotask`
+ * - `{type: 'tick'}: queues using `queueMicrotask` (default)
  * - `{type: 'timer, timeout: number}`: queues using `setTimeout`
- * - `{type: 'raf'}`: queues using `requestAnimationFrame` (default)
- * - `{type: 'callback', queueNotification: (notify: () => void) => void}`: lets you provide your own callback
+ * - `{type: 'raf'}`: queues using `requestAnimationFrame`
+ * - `{type: 'callback', queueNotification: (notify: () => void) => void}: lets you provide your own callback
  *
  *
  */
@@ -64,7 +84,7 @@ export const autoBatchEnhancer =
 
     const queueCallback =
       options.type === 'tick'
-        ? queueMicrotask
+        ? queueMicrotaskShim
         : options.type === 'raf'
         ? rAF
         : options.type === 'callback'
diff --git a/packages/toolkit/src/configureStore.ts b/packages/toolkit/src/configureStore.ts
index f08130e7..bb7e6e62 100644
--- a/packages/toolkit/src/configureStore.ts
+++ b/packages/toolkit/src/configureStore.ts
@@ -8,27 +8,34 @@ import type {
   Store,
   Dispatch,
 } from 'redux'
-import { applyMiddleware, createStore, compose, combineReducers } from 'redux'
+import { createStore, compose, applyMiddleware, combineReducers } from 'redux'
 import type { DevToolsEnhancerOptions as DevToolsOptions } from './devtoolsExtension'
 import { composeWithDevTools } from './devtoolsExtension'
 
 import isPlainObject from './isPlainObject'
 import type {
   ThunkMiddlewareFor,
-  GetDefaultMiddleware,
+  CurriedGetDefaultMiddleware,
 } from './getDefaultMiddleware'
-import { buildGetDefaultMiddleware } from './getDefaultMiddleware'
+import { curryGetDefaultMiddleware } from './getDefaultMiddleware'
 import type {
   ExtractDispatchExtensions,
   ExtractStoreExtensions,
   ExtractStateExtensions,
 } from './tsHelpers'
-import type { EnhancerArray, MiddlewareArray } from './utils'
-import type { GetDefaultEnhancers } from './getDefaultEnhancers'
-import { buildGetDefaultEnhancers } from './getDefaultEnhancers'
+import { EnhancerArray } from './utils'
 
 const IS_PRODUCTION = process.env.NODE_ENV === 'production'
 
+/**
+ * Callback function type, to be used in `ConfigureStoreOptions.enhancers`
+ *
+ * @public
+ */
+export type ConfigureEnhancersCallback<E extends Enhancers = Enhancers> = (
+  defaultEnhancers: EnhancerArray<[StoreEnhancer<{}, {}>]>
+) => E
+
 /**
  * Options for `configureStore()`.
  *
@@ -54,7 +61,7 @@ export interface ConfigureStoreOptions<
    * @example `middleware: (gDM) => gDM().concat(logger, apiMiddleware, yourCustomMiddleware)`
    * @see https://redux-toolkit.js.org/api/getDefaultMiddleware#intended-usage
    */
-  middleware?: ((getDefaultMiddleware: GetDefaultMiddleware<S>) => M) | M
+  middleware?: ((getDefaultMiddleware: CurriedGetDefaultMiddleware<S>) => M) | M
 
   /**
    * Whether to enable Redux DevTools integration. Defaults to `true`.
@@ -78,17 +85,30 @@ export interface ConfigureStoreOptions<
    * The store enhancers to apply. See Redux's `createStore()`.
    * All enhancers will be included before the DevTools Extension enhancer.
    * If you need to customize the order of enhancers, supply a callback
-   * function that will receive a `getDefaultEnhancers` function that returns an EnhancerArray,
-   * and should return a new array (such as `getDefaultEnhancers().concat(offline)`).
+   * function that will receive the original array (ie, `[applyMiddleware]`),
+   * and should return a new array (such as `[applyMiddleware, offline]`).
    * If you only need to add middleware, you can use the `middleware` parameter instead.
    */
-  enhancers?: ((getDefaultEnhancers: GetDefaultEnhancers<M>) => E) | E
+  enhancers?: E | ConfigureEnhancersCallback<E>
 }
 
-export type Middlewares<S> = ReadonlyArray<Middleware<{}, S>>
+type Middlewares<S> = ReadonlyArray<Middleware<{}, S>>
 
 type Enhancers = ReadonlyArray<StoreEnhancer>
 
+export interface ToolkitStore<
+  S = any,
+  A extends Action = AnyAction,
+  M extends Middlewares<S> = Middlewares<S>
+> extends Store<S, A> {
+  /**
+   * The `dispatch` method of your store, enhanced by all its middlewares.
+   *
+   * @inheritdoc
+   */
+  dispatch: ExtractDispatchExtensions<M> & Dispatch<A>
+}
+
 /**
  * A Redux store returned by `configureStore()`. Supports dispatching
  * side-effectful _thunks_ in addition to plain actions.
@@ -98,8 +118,10 @@ type Enhancers = ReadonlyArray<StoreEnhancer>
 export type EnhancedStore<
   S = any,
   A extends Action = AnyAction,
+  M extends Middlewares<S> = Middlewares<S>,
   E extends Enhancers = Enhancers
-> = ExtractStoreExtensions<E> & Store<S & ExtractStateExtensions<E>, A>
+> = ToolkitStore<S & ExtractStateExtensions<E>, A, M> &
+  ExtractStoreExtensions<E>
 
 /**
  * A friendly abstraction over the standard Redux `createStore()` function.
@@ -112,17 +134,15 @@ export type EnhancedStore<
 export function configureStore<
   S = any,
   A extends Action = AnyAction,
-  M extends Middlewares<S> = MiddlewareArray<[ThunkMiddlewareFor<S>]>,
-  E extends Enhancers = EnhancerArray<
-    [StoreEnhancer<{ dispatch: ExtractDispatchExtensions<M> }>, StoreEnhancer]
-  >,
+  M extends Middlewares<S> = [ThunkMiddlewareFor<S>],
+  E extends Enhancers = [StoreEnhancer],
   P = S
->(options: ConfigureStoreOptions<S, A, M, E, P>): EnhancedStore<S, A, E> {
-  const getDefaultMiddleware = buildGetDefaultMiddleware<S>()
+>(options: ConfigureStoreOptions<S, A, M, E, P>): EnhancedStore<S, A, M, E> {
+  const curriedGetDefaultMiddleware = curryGetDefaultMiddleware<S>()
 
   const {
     reducer = undefined,
-    middleware = getDefaultMiddleware(),
+    middleware = curriedGetDefaultMiddleware(),
     devTools = true,
     preloadedState = undefined,
     enhancers = undefined,
@@ -142,7 +162,7 @@ export function configureStore<
 
   let finalMiddleware = middleware
   if (typeof finalMiddleware === 'function') {
-    finalMiddleware = finalMiddleware(getDefaultMiddleware)
+    finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware)
 
     if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {
       throw new Error(
@@ -159,6 +179,8 @@ export function configureStore<
     )
   }
 
+  const middlewareEnhancer: StoreEnhancer = applyMiddleware(...finalMiddleware)
+
   let finalCompose = compose
 
   if (devTools) {
@@ -169,36 +191,16 @@ export function configureStore<
     })
   }
 
-  const middlewareEnhancer = applyMiddleware(...finalMiddleware)
-
-  const getDefaultEnhancers = buildGetDefaultEnhancers<M>(middlewareEnhancer)
-  let storeEnhancers =
-    (typeof enhancers === 'function'
-      ? enhancers(getDefaultEnhancers)
-      : enhancers) ?? getDefaultEnhancers()
+  const defaultEnhancers = new EnhancerArray(middlewareEnhancer)
+  let storeEnhancers: Enhancers = defaultEnhancers
 
-  if (!IS_PRODUCTION && !Array.isArray(storeEnhancers)) {
-    throw new Error('enhancers must be an array')
-  }
-  if (
-    !IS_PRODUCTION &&
-    storeEnhancers.some((item: any) => typeof item !== 'function')
-  ) {
-    throw new Error(
-      'each enhancer provided to configureStore must be a function'
-    )
-  }
-  if (
-    !IS_PRODUCTION &&
-    finalMiddleware.length &&
-    !storeEnhancers.includes(middlewareEnhancer)
-  ) {
-    console.error(
-      'middlewares were provided, but middleware enhancer was not included in final enhancers'
-    )
+  if (Array.isArray(enhancers)) {
+    storeEnhancers = [middlewareEnhancer, ...enhancers]
+  } else if (typeof enhancers === 'function') {
+    storeEnhancers = enhancers(defaultEnhancers)
   }
 
-  const composedEnhancer: StoreEnhancer<any> = finalCompose(...storeEnhancers)
+  const composedEnhancer = finalCompose(...storeEnhancers) as StoreEnhancer<any>
 
   return createStore(rootReducer, preloadedState, composedEnhancer)
 }
diff --git a/packages/toolkit/src/getDefaultEnhancers.ts b/packages/toolkit/src/getDefaultEnhancers.ts
deleted file mode 100644
index faf27654..00000000
--- a/packages/toolkit/src/getDefaultEnhancers.ts
+++ /dev/null
@@ -1,29 +0,0 @@
-import type { StoreEnhancer } from 'redux'
-import type { AutoBatchOptions } from './autoBatchEnhancer'
-import { autoBatchEnhancer } from './autoBatchEnhancer'
-import { EnhancerArray } from './utils'
-import type { Middlewares } from './configureStore'
-import type { ExtractDispatchExtensions } from './tsHelpers'
-
-type GetDefaultEnhancersOptions = {
-  autoBatch?: boolean | AutoBatchOptions
-}
-
-export type GetDefaultEnhancers<M extends Middlewares<any>> = (
-  options?: GetDefaultEnhancersOptions
-) => EnhancerArray<[StoreEnhancer<{ dispatch: ExtractDispatchExtensions<M> }>]>
-
-export const buildGetDefaultEnhancers = <M extends Middlewares<any>>(
-  middlewareEnhancer: StoreEnhancer<{ dispatch: ExtractDispatchExtensions<M> }>
-): GetDefaultEnhancers<M> =>
-  function getDefaultEnhancers(options) {
-    const { autoBatch = true } = options ?? {}
-
-    let enhancerArray = new EnhancerArray<StoreEnhancer[]>(middlewareEnhancer)
-    if (autoBatch) {
-      enhancerArray.push(
-        autoBatchEnhancer(typeof autoBatch === 'object' ? autoBatch : undefined)
-      )
-    }
-    return enhancerArray as any
-  }
diff --git a/packages/toolkit/src/getDefaultMiddleware.ts b/packages/toolkit/src/getDefaultMiddleware.ts
index 12ce3ad9..c7990bf3 100644
--- a/packages/toolkit/src/getDefaultMiddleware.ts
+++ b/packages/toolkit/src/getDefaultMiddleware.ts
@@ -39,8 +39,8 @@ export type ThunkMiddlewareFor<
   ? ThunkMiddleware<S, AnyAction, E>
   : ThunkMiddleware<S, AnyAction>
 
-export type GetDefaultMiddleware<S = any> = <
-  O extends GetDefaultMiddlewareOptions = {
+export type CurriedGetDefaultMiddleware<S = any> = <
+  O extends Partial<GetDefaultMiddlewareOptions> = {
     thunk: true
     immutableCheck: true
     serializableCheck: true
@@ -50,64 +50,92 @@ export type GetDefaultMiddleware<S = any> = <
   options?: O
 ) => MiddlewareArray<ExcludeFromTuple<[ThunkMiddlewareFor<S, O>], never>>
 
-export const buildGetDefaultMiddleware = <S = any>(): GetDefaultMiddleware<S> =>
-  function getDefaultMiddleware(options) {
-    const {
-      thunk = true,
-      immutableCheck = true,
-      serializableCheck = true,
-      actionCreatorCheck = true,
-    } = options ?? {}
-
-    let middlewareArray = new MiddlewareArray<Middleware[]>()
-
-    if (thunk) {
-      if (isBoolean(thunk)) {
-        middlewareArray.push(thunkMiddleware)
-      } else {
-        middlewareArray.push(withExtraArgument(thunk.extraArgument))
-      }
-    }
+export function curryGetDefaultMiddleware<
+  S = any
+>(): CurriedGetDefaultMiddleware<S> {
+  return function curriedGetDefaultMiddleware(options) {
+    return getDefaultMiddleware(options)
+  }
+}
 
-    if (process.env.NODE_ENV !== 'production') {
-      if (immutableCheck) {
-        /* PROD_START_REMOVE_UMD */
-        let immutableOptions: ImmutableStateInvariantMiddlewareOptions = {}
+/**
+ * Returns any array containing the default middleware installed by
+ * `configureStore()`. Useful if you want to configure your store with a custom
+ * `middleware` array but still keep the default set.
+ *
+ * @return The default middleware used by `configureStore()`.
+ *
+ * @public
+ *
+ * @deprecated Prefer to use the callback notation for the `middleware` option in `configureStore`
+ * to access a pre-typed `getDefaultMiddleware` instead.
+ */
+export function getDefaultMiddleware<
+  S = any,
+  O extends Partial<GetDefaultMiddlewareOptions> = {
+    thunk: true
+    immutableCheck: true
+    serializableCheck: true
+    actionCreatorCheck: true
+  }
+>(
+  options: O = {} as O
+): MiddlewareArray<ExcludeFromTuple<[ThunkMiddlewareFor<S, O>], never>> {
+  const {
+    thunk = true,
+    immutableCheck = true,
+    serializableCheck = true,
+    actionCreatorCheck = true,
+  } = options
+
+  let middlewareArray = new MiddlewareArray<Middleware[]>()
+
+  if (thunk) {
+    if (isBoolean(thunk)) {
+      middlewareArray.push(thunkMiddleware)
+    } else {
+      middlewareArray.push(withExtraArgument(thunk.extraArgument))
+    }
+  }
 
-        if (!isBoolean(immutableCheck)) {
-          immutableOptions = immutableCheck
-        }
+  if (process.env.NODE_ENV !== 'production') {
+    if (immutableCheck) {
+      /* PROD_START_REMOVE_UMD */
+      let immutableOptions: ImmutableStateInvariantMiddlewareOptions = {}
 
-        middlewareArray.unshift(
-          createImmutableStateInvariantMiddleware(immutableOptions)
-        )
-        /* PROD_STOP_REMOVE_UMD */
+      if (!isBoolean(immutableCheck)) {
+        immutableOptions = immutableCheck
       }
 
-      if (serializableCheck) {
-        let serializableOptions: SerializableStateInvariantMiddlewareOptions =
-          {}
+      middlewareArray.unshift(
+        createImmutableStateInvariantMiddleware(immutableOptions)
+      )
+      /* PROD_STOP_REMOVE_UMD */
+    }
 
-        if (!isBoolean(serializableCheck)) {
-          serializableOptions = serializableCheck
-        }
+    if (serializableCheck) {
+      let serializableOptions: SerializableStateInvariantMiddlewareOptions = {}
 
-        middlewareArray.push(
-          createSerializableStateInvariantMiddleware(serializableOptions)
-        )
+      if (!isBoolean(serializableCheck)) {
+        serializableOptions = serializableCheck
       }
-      if (actionCreatorCheck) {
-        let actionCreatorOptions: ActionCreatorInvariantMiddlewareOptions = {}
 
-        if (!isBoolean(actionCreatorCheck)) {
-          actionCreatorOptions = actionCreatorCheck
-        }
+      middlewareArray.push(
+        createSerializableStateInvariantMiddleware(serializableOptions)
+      )
+    }
+    if (actionCreatorCheck) {
+      let actionCreatorOptions: ActionCreatorInvariantMiddlewareOptions = {}
 
-        middlewareArray.unshift(
-          createActionCreatorInvariantMiddleware(actionCreatorOptions)
-        )
+      if (!isBoolean(actionCreatorCheck)) {
+        actionCreatorOptions = actionCreatorCheck
       }
-    }
 
-    return middlewareArray as any
+      middlewareArray.unshift(
+        createActionCreatorInvariantMiddleware(actionCreatorOptions)
+      )
+    }
   }
+
+  return middlewareArray as any
+}
diff --git a/packages/toolkit/src/index.ts b/packages/toolkit/src/index.ts
index 656df6b8..dc1f3337 100644
--- a/packages/toolkit/src/index.ts
+++ b/packages/toolkit/src/index.ts
@@ -23,6 +23,7 @@ export {
 } from './configureStore'
 export type {
   // types
+  ConfigureEnhancersCallback,
   ConfigureStoreOptions,
   EnhancedStore,
 } from './configureStore'
diff --git a/packages/toolkit/src/query/core/buildMiddleware/batchActions.ts b/packages/toolkit/src/query/core/buildMiddleware/batchActions.ts
index d50bafea..f3ce76d3 100644
--- a/packages/toolkit/src/query/core/buildMiddleware/batchActions.ts
+++ b/packages/toolkit/src/query/core/buildMiddleware/batchActions.ts
@@ -6,9 +6,28 @@ import type {
   Subscribers,
 } from '../apiState'
 import { produceWithPatches } from 'immer'
-import type { AnyAction } from '@reduxjs/toolkit'
+import type { AnyAction } from '@reduxjs/toolkit';
 import { createSlice, PayloadAction } from '@reduxjs/toolkit'
 
+// Copied from https://github.com/feross/queue-microtask
+let promise: Promise<any>
+const queueMicrotaskShim =
+  typeof queueMicrotask === 'function'
+    ? queueMicrotask.bind(
+        typeof window !== 'undefined'
+          ? window
+          : typeof global !== 'undefined'
+          ? global
+          : globalThis
+      )
+    : // reuse resolved promise, and allocate it lazily
+      (cb: () => void) =>
+        (promise || (promise = Promise.resolve())).then(cb).catch((err: any) =>
+          setTimeout(() => {
+            throw err
+          }, 0)
+        )
+
 export const buildBatchedActionsHandler: InternalHandlerBuilder<
   [actionShouldContinue: boolean, subscriptionExists: boolean]
 > = ({ api, queryThunk, internalState }) => {
@@ -105,7 +124,7 @@ export const buildBatchedActionsHandler: InternalHandlerBuilder<
 
     if (didMutate) {
       if (!dispatchQueued) {
-        queueMicrotask(() => {
+        queueMicrotaskShim(() => {
           // Deep clone the current subscription data
           const newSubscriptions: SubscriptionState = JSON.parse(
             JSON.stringify(internalState.currentSubscriptions)
diff --git a/packages/toolkit/src/query/tests/cacheCollection.test.ts b/packages/toolkit/src/query/tests/cacheCollection.test.ts
index 68500c9d..802c9ff7 100644
--- a/packages/toolkit/src/query/tests/cacheCollection.test.ts
+++ b/packages/toolkit/src/query/tests/cacheCollection.test.ts
@@ -156,10 +156,6 @@ function storeForApi<
       gdm({ serializableCheck: false, immutableCheck: false }).concat(
         api.middleware
       ),
-    enhancers: (gde) =>
-      gde({
-        autoBatch: false,
-      }),
   })
   let hadQueries = false
   store.subscribe(() => {
diff --git a/packages/toolkit/src/query/tests/helpers.tsx b/packages/toolkit/src/query/tests/helpers.tsx
index 94f56b0e..f6d1f34c 100644
--- a/packages/toolkit/src/query/tests/helpers.tsx
+++ b/packages/toolkit/src/query/tests/helpers.tsx
@@ -5,9 +5,6 @@ import type {
   Middleware,
   Store,
   Reducer,
-  EnhancerArray,
-  StoreEnhancer,
-  ThunkDispatch,
 } from '@reduxjs/toolkit'
 import { configureStore } from '@reduxjs/toolkit'
 import { setupListeners } from '@reduxjs/toolkit/query'
@@ -221,23 +218,18 @@ export function setupApiStore<
           .concat(...(middleware?.concat ?? []))
           .prepend(...(middleware?.prepend ?? [])) as typeof tempMiddleware
       },
-      enhancers: (gde) =>
-        gde({
-          autoBatch: false,
-        }),
     })
 
-  type State = {
-    api: ReturnType<A['reducer']>
-  } & {
-    [K in keyof R]: ReturnType<R[K]>
-  }
   type StoreType = EnhancedStore<
-    State,
+    {
+      api: ReturnType<A['reducer']>
+    } & {
+      [K in keyof R]: ReturnType<R[K]>
+    },
     AnyAction,
-    ReturnType<typeof getStore> extends EnhancedStore<any, any, infer E>
-      ? E
-      : []
+    ReturnType<typeof getStore> extends EnhancedStore<any, any, infer M>
+      ? M
+      : never
   >
 
   const initialStore = getStore() as StoreType
diff --git a/packages/toolkit/src/tests/EnhancerArray.typetest.ts b/packages/toolkit/src/tests/EnhancerArray.typetest.ts
index 7ea38237..56e89a30 100644
--- a/packages/toolkit/src/tests/EnhancerArray.typetest.ts
+++ b/packages/toolkit/src/tests/EnhancerArray.typetest.ts
@@ -22,7 +22,7 @@ declare const enhancer2: StoreEnhancer<
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: (gDE) => gDE().prepend(enhancer1),
+      enhancers: (dE) => dE.prepend(enhancer1),
     })
     expectType<true>(store.has1)
     expectType<true>(store.getState().stateHas1)
@@ -37,7 +37,7 @@ declare const enhancer2: StoreEnhancer<
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: (gDE) => gDE().prepend(enhancer1, enhancer2),
+      enhancers: (dE) => dE.prepend(enhancer1, enhancer2),
     })
     expectType<true>(store.has1)
     expectType<true>(store.getState().stateHas1)
@@ -54,7 +54,7 @@ declare const enhancer2: StoreEnhancer<
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: (gDE) => gDE().prepend([enhancer1, enhancer2] as const),
+      enhancers: (dE) => dE.prepend([enhancer1, enhancer2] as const),
     })
     expectType<true>(store.has1)
     expectType<true>(store.getState().stateHas1)
@@ -71,7 +71,7 @@ declare const enhancer2: StoreEnhancer<
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: (gDE) => gDE().concat(enhancer1),
+      enhancers: (dE) => dE.concat(enhancer1),
     })
     expectType<true>(store.has1)
     expectType<true>(store.getState().stateHas1)
@@ -86,7 +86,7 @@ declare const enhancer2: StoreEnhancer<
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: (gDE) => gDE().concat(enhancer1, enhancer2),
+      enhancers: (dE) => dE.concat(enhancer1, enhancer2),
     })
     expectType<true>(store.has1)
     expectType<true>(store.getState().stateHas1)
@@ -103,7 +103,7 @@ declare const enhancer2: StoreEnhancer<
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: (gDE) => gDE().concat([enhancer1, enhancer2] as const),
+      enhancers: (dE) => dE.concat([enhancer1, enhancer2] as const),
     })
     expectType<true>(store.has1)
     expectType<true>(store.getState().stateHas1)
@@ -120,7 +120,7 @@ declare const enhancer2: StoreEnhancer<
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: (gDE) => gDE().concat(enhancer1).prepend(enhancer2),
+      enhancers: (dE) => dE.concat(enhancer1).prepend(enhancer2),
     })
     expectType<true>(store.has1)
     expectType<true>(store.getState().stateHas1)
diff --git a/packages/toolkit/src/tests/MiddlewareArray.typetest.ts b/packages/toolkit/src/tests/MiddlewareArray.typetest.ts
index 160f1260..86b57079 100644
--- a/packages/toolkit/src/tests/MiddlewareArray.typetest.ts
+++ b/packages/toolkit/src/tests/MiddlewareArray.typetest.ts
@@ -1,3 +1,4 @@
+import { getDefaultMiddleware } from '@internal/getDefaultMiddleware'
 import { configureStore } from '@reduxjs/toolkit'
 import type { Middleware } from 'redux'
 
diff --git a/packages/toolkit/src/tests/autoBatchEnhancer.test.ts b/packages/toolkit/src/tests/autoBatchEnhancer.test.ts
index 870d2c31..31ecf5ab 100644
--- a/packages/toolkit/src/tests/autoBatchEnhancer.test.ts
+++ b/packages/toolkit/src/tests/autoBatchEnhancer.test.ts
@@ -31,10 +31,9 @@ const { incrementBatched, decrementUnbatched } = counterSlice.actions
 const makeStore = (autoBatchOptions?: AutoBatchOptions) => {
   return configureStore({
     reducer: counterSlice.reducer,
-    enhancers: (getDefaultEnhancers) =>
-      getDefaultEnhancers({
-        autoBatch: autoBatchOptions,
-      }),
+    enhancers: (existingEnhancers) => {
+      return existingEnhancers.concat(autoBatchEnhancer(autoBatchOptions))
+    },
   })
 }
 
diff --git a/packages/toolkit/src/tests/configureStore.test.ts b/packages/toolkit/src/tests/configureStore.test.ts
index 248d29a6..21949aed 100644
--- a/packages/toolkit/src/tests/configureStore.test.ts
+++ b/packages/toolkit/src/tests/configureStore.test.ts
@@ -253,26 +253,11 @@ describe('configureStore', async () => {
   })
 
   describe('given enhancers', () => {
-    let dummyEnhancerCalled = false
-
-    const dummyEnhancer: StoreEnhancer =
-      (createStore) => (reducer, preloadedState) => {
-        dummyEnhancerCalled = true
-
-        return createStore(reducer, preloadedState)
-      }
-
-    beforeEach(() => {
-      dummyEnhancerCalled = false
-    })
-
     it('calls createStore with enhancers', () => {
-      expect(
-        configureStore({
-          enhancers: (gDE) => gDE().concat(dummyEnhancer),
-          reducer,
-        })
-      ).toBeInstanceOf(Object)
+      const enhancer: Redux.StoreEnhancer = (next) => next
+      expect(configureStore({ enhancers: [enhancer], reducer })).toBeInstanceOf(
+        Object
+      )
       expect(redux.applyMiddleware).toHaveBeenCalled()
       expect(mockDevtoolsCompose).toHaveBeenCalled() // @remap-prod-remove-line
       expect(redux.createStore).toHaveBeenCalledWith(
@@ -283,45 +268,24 @@ describe('configureStore', async () => {
     })
 
     it('accepts a callback for customizing enhancers', () => {
-      const store = configureStore({
-        reducer,
-        enhancers: (getDefaultEnhancers) =>
-          getDefaultEnhancers().concat(dummyEnhancer),
-      })
+      let dummyEnhancerCalled = false
 
-      expect(dummyEnhancerCalled).toBe(true)
-    })
+      const dummyEnhancer: StoreEnhancer =
+        (createStore) =>
+        (reducer, ...args: any[]) => {
+          dummyEnhancerCalled = true
 
-    const consoleSpy = vi.spyOn(console, 'error').mockImplementation(() => {})
-    beforeEach(() => {
-      consoleSpy.mockClear()
-    })
-    afterAll(() => {
-      consoleSpy.mockRestore()
-    })
+          return createStore(reducer, ...args)
+        }
 
-    it('warns if middleware enhancer is excluded from final array when middlewares are provided', () => {
-      const store = configureStore({
-        reducer,
-        enhancers: [dummyEnhancer],
-      })
+      const reducer = () => ({})
 
-      expect(dummyEnhancerCalled).toBe(true)
-
-      expect(consoleSpy).toHaveBeenCalledWith(
-        'middlewares were provided, but middleware enhancer was not included in final enhancers'
-      )
-    })
-    it("doesn't warn when middleware enhancer is excluded if no middlewares provided", () => {
       const store = configureStore({
         reducer,
-        middleware: [],
-        enhancers: [dummyEnhancer],
+        enhancers: (defaultEnhancers) => defaultEnhancers.concat(dummyEnhancer),
       })
 
       expect(dummyEnhancerCalled).toBe(true)
-
-      expect(consoleSpy).not.toHaveBeenCalled()
     })
   })
 })
diff --git a/packages/toolkit/src/tests/configureStore.typetest.ts b/packages/toolkit/src/tests/configureStore.typetest.ts
index 195ee4db..5bba5a7f 100644
--- a/packages/toolkit/src/tests/configureStore.typetest.ts
+++ b/packages/toolkit/src/tests/configureStore.typetest.ts
@@ -139,7 +139,7 @@ const _anyMiddleware: any = () => () => () => {}
   {
     const store = configureStore({
       reducer: () => 0,
-      enhancers: [applyMiddleware(() => (next) => next)] as const,
+      enhancers: [applyMiddleware(() => (next) => next)],
     })
 
     expectType<Dispatch & ThunkDispatch<number, undefined, AnyAction>>(
@@ -184,86 +184,11 @@ const _anyMiddleware: any = () => () => () => {}
       ] as const,
     })
 
-    expectType<Dispatch>(store.dispatch)
-    expectType<string>(store.someProperty)
-    expectType<number>(store.anotherProperty)
-
-    const storeWithCallback = configureStore({
-      reducer: () => 0,
-      enhancers: (getDefaultEnhancers) =>
-        getDefaultEnhancers()
-          .prepend(anotherPropertyStoreEnhancer)
-          .concat(somePropertyStoreEnhancer),
-    })
-
     expectType<Dispatch & ThunkDispatch<number, undefined, AnyAction>>(
       store.dispatch
     )
-    expectType<string>(storeWithCallback.someProperty)
-    expectType<number>(storeWithCallback.anotherProperty)
-  }
-
-  {
-    const someStateExtendingEnhancer: StoreEnhancer<
-      {},
-      { someProperty: string }
-    > =
-      (next) =>
-      (...args) => {
-        const store = next(...args)
-        const getState = () => ({
-          ...store.getState(),
-          someProperty: 'some value',
-        })
-        return {
-          ...store,
-          getState,
-        } as any
-      }
-
-    const anotherStateExtendingEnhancer: StoreEnhancer<
-      {},
-      { anotherProperty: number }
-    > =
-      (next) =>
-      (...args) => {
-        const store = next(...args)
-        const getState = () => ({
-          ...store.getState(),
-          anotherProperty: 123,
-        })
-        return {
-          ...store,
-          getState,
-        } as any
-      }
-
-    const store = configureStore({
-      reducer: () => ({ aProperty: 0 }),
-      enhancers: [
-        someStateExtendingEnhancer,
-        anotherStateExtendingEnhancer,
-        // this doesn't work without the as const
-      ] as const,
-    })
-
-    const state = store.getState()
-
-    expectType<number>(state.aProperty)
-    expectType<string>(state.someProperty)
-    expectType<number>(state.anotherProperty)
-
-    const storeWithCallback = configureStore({
-      reducer: () => ({ aProperty: 0 }),
-      enhancers: (gDE) =>
-        gDE().concat(someStateExtendingEnhancer, anotherStateExtendingEnhancer),
-    })
-
-    const stateWithCallback = storeWithCallback.getState()
-
-    expectType<number>(stateWithCallback.aProperty)
-    expectType<string>(stateWithCallback.someProperty)
-    expectType<number>(stateWithCallback.anotherProperty)
+    expectType<string>(store.someProperty)
+    expectType<number>(store.anotherProperty)
   }
 }
 
@@ -531,6 +456,7 @@ const _anyMiddleware: any = () => () => () => {}
     // @ts-expect-error
     store.dispatch(thunkB())
   }
+
   /**
    * Test: custom middleware
    */
diff --git a/packages/toolkit/src/tests/getDefaultMiddleware.test.ts b/packages/toolkit/src/tests/getDefaultMiddleware.test.ts
index 7c27357e..fc32cfa2 100644
--- a/packages/toolkit/src/tests/getDefaultMiddleware.test.ts
+++ b/packages/toolkit/src/tests/getDefaultMiddleware.test.ts
@@ -8,16 +8,13 @@ import type {
   Dispatch,
 } from '@reduxjs/toolkit'
 import { configureStore } from '@reduxjs/toolkit'
+import { getDefaultMiddleware } from '@internal/getDefaultMiddleware'
+import { MiddlewareArray } from '@internal/utils'
 import { thunk } from 'redux-thunk'
 import type { ThunkMiddleware } from 'redux-thunk'
 
 import { expectType } from './helpers'
 
-import { buildGetDefaultMiddleware } from '@internal/getDefaultMiddleware'
-import { MiddlewareArray } from '@internal/utils'
-
-const getDefaultMiddleware = buildGetDefaultMiddleware()
-
 describe('getDefaultMiddleware', () => {
   const ORIGINAL_NODE_ENV = process.env.NODE_ENV
 
@@ -33,11 +30,11 @@ describe('getDefaultMiddleware', () => {
     it('returns an array with only redux-thunk in production', async () => {
       process.env.NODE_ENV = 'production'
       const { thunk } = await import('redux-thunk')
-      const { buildGetDefaultMiddleware } = await import(
+      const { getDefaultMiddleware } = await import(
         '@internal/getDefaultMiddleware'
       )
 
-      const middleware = buildGetDefaultMiddleware()()
+      const middleware = getDefaultMiddleware()
       expect(middleware).toContain(thunk)
       expect(middleware.length).toBe(1)
     })
