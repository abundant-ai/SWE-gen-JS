diff --git a/examples/react/react-router/src/routes/contact.jsx b/examples/react/react-router/src/routes/contact.jsx
index a841699a6..d4ea274b5 100644
--- a/examples/react/react-router/src/routes/contact.jsx
+++ b/examples/react/react-router/src/routes/contact.jsx
@@ -22,8 +22,7 @@ export const loader =
   async ({ params }) => {
     const query = contactDetailQuery(params.contactId);
     return (
-      queryClient.getQueryData(query.queryKey) ??
-      (await queryClient.fetchQuery(query))
+      queryClient.getQueryData(query.queryKey) ?? (await queryClient.fetchQuery(query))
     );
   };
 
diff --git a/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.rule.ts b/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.rule.ts
index 2942a7efc..70b511ed2 100644
--- a/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.rule.ts
+++ b/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.rule.ts
@@ -81,18 +81,11 @@ export const rule = createRule({
           node: queryFn.value,
         })
 
-        const relevantRefs = refs.filter((ref) => {
-          return (
-            ref.identifier.name !== 'undefined' &&
-            ref.resolved?.defs.every((def) => def.type !== 'ClassName')
-          )
-        })
-
         const existingKeys = ASTUtils.getNestedIdentifiers(queryKeyValue).map(
           (identifier) => ASTUtils.mapKeyNodeToText(identifier, sourceCode),
         )
 
-        const missingRefs = relevantRefs
+        const missingRefs = refs
           .map((ref) => ({
             ref: ref,
             text: ASTUtils.mapKeyNodeToText(ref.identifier, sourceCode),
diff --git a/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.test.ts b/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.test.ts
index 3e4cc7729..f6baec6da 100644
--- a/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.test.ts
+++ b/packages/eslint-plugin-query/src/rules/exhaustive-deps/exhaustive-deps.test.ts
@@ -93,39 +93,6 @@ ruleTester.run('exhaustive-deps', rule, {
         }
       `,
     },
-    {
-      name: 'should add "...args" to deps',
-      code: `
-        function foo(...args) {}
-        function useData(arg, ...args) {
-          return useQuery({
-            queryKey: ['foo', arg, ...args],
-            queryFn: async () => foo([arg, ...args])
-          });
-        }
-      `,
-    },
-    {
-      name: 'should not add class to deps',
-      code: `
-        class Foo {}
-        useQuery({ queryKey: ['foo'], queryFn: async () => new Foo() });
-      `,
-    },
-    {
-      name: 'should not add `undefined` to deps',
-      code: `
-        useQuery({
-          queryKey: [],
-          queryFn: async () => {
-            if (undefined) {
-              return null;
-            }
-            return 1
-          },
-        });
-      `,
-    },
   ],
   invalid: [
     {
diff --git a/packages/eslint-plugin-query/src/utils/ast-utils.ts b/packages/eslint-plugin-query/src/utils/ast-utils.ts
index deaaf0069..6475604f8 100644
--- a/packages/eslint-plugin-query/src/utils/ast-utils.ts
+++ b/packages/eslint-plugin-query/src/utils/ast-utils.ts
@@ -54,22 +54,14 @@ export const ASTUtils = {
       identifiers.push(node)
     }
 
-    if ('elements' in node) {
+    if (node.type === AST_NODE_TYPES.ArrayExpression) {
       node.elements.forEach((x) => {
-        if (x !== null) {
-          identifiers.push(...ASTUtils.getNestedIdentifiers(x))
-        }
-      })
-    }
-
-    if ('properties' in node) {
-      node.properties.forEach((x) => {
         identifiers.push(...ASTUtils.getNestedIdentifiers(x))
       })
     }
 
-    if ('expressions' in node) {
-      node.expressions.forEach((x) => {
+    if (node.type === AST_NODE_TYPES.ObjectExpression) {
+      node.properties.forEach((x) => {
         identifiers.push(...ASTUtils.getNestedIdentifiers(x))
       })
     }
@@ -78,8 +70,10 @@ export const ASTUtils = {
       identifiers.push(...ASTUtils.getNestedIdentifiers(node.value))
     }
 
-    if (node.type === AST_NODE_TYPES.SpreadElement) {
-      identifiers.push(...ASTUtils.getNestedIdentifiers(node.argument))
+    if (node.type === AST_NODE_TYPES.TemplateLiteral) {
+      node.expressions.forEach((x) => {
+        identifiers.push(...ASTUtils.getNestedIdentifiers(x))
+      })
     }
 
     if (node.type === AST_NODE_TYPES.MemberExpression) {
