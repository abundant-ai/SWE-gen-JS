diff --git a/Readme.md b/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/Readme.md
+++ b/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/benchmarks/fastify.js b/benchmarks/fastify.js
index eb70ea0ba..baf5e7ab8 100644
--- a/benchmarks/fastify.js
+++ b/benchmarks/fastify.js
@@ -2,6 +2,4 @@
 
 const fastify = require('fastify')();
 fastify.get('/', async (req, reply) => reply.send('Hello world'));
-fastify.listen({
-  port: 3000
-});
+fastify.listen(3000);
diff --git a/integration/cache/e2e/async-register-extra-providers.ts b/integration/cache/e2e/async-register-extra-providers.ts
deleted file mode 100644
index d2c47857d..000000000
--- a/integration/cache/e2e/async-register-extra-providers.ts
+++ /dev/null
@@ -1,39 +0,0 @@
-import { CACHE_MANAGER, INestApplication } from '@nestjs/common';
-import { Test } from '@nestjs/testing';
-import * as request from 'supertest';
-import { AsyncRegisterExtraModule } from '../src/async-register-extra-providers/async-register-extra.module';
-import { Cache } from 'cache-manager';
-import { assert } from 'chai';
-
-describe('Async Register Extra Providers', () => {
-  let server;
-  let app: INestApplication;
-  let cacheManager: Cache;
-
-  before(async () => {
-    const module = await Test.createTestingModule({
-      imports: [AsyncRegisterExtraModule],
-    }).compile();
-
-    cacheManager = module.get<Cache>(CACHE_MANAGER);
-    app = module.createNestApplication();
-    server = app.getHttpServer();
-    await app.init();
-  });
-
-  it('should be defined', async () => {
-    assert.isDefined(cacheManager);
-  });
-
-  it(`should return empty`, async () => {
-    return request(server).get('/').expect(200, 'Not found');
-  });
-
-  it(`should return data`, async () => {
-    return request(server).get('/').expect(200, 'value');
-  });
-
-  after(async () => {
-    await app.close();
-  });
-});
diff --git a/integration/cache/src/async-register-extra-providers/async-register-extra.controller.ts b/integration/cache/src/async-register-extra-providers/async-register-extra.controller.ts
deleted file mode 100644
index c4df4dff7..000000000
--- a/integration/cache/src/async-register-extra-providers/async-register-extra.controller.ts
+++ /dev/null
@@ -1,16 +0,0 @@
-import { Controller, Get, Inject, CACHE_MANAGER } from '@nestjs/common';
-import { Cache } from 'cache-manager';
-
-@Controller()
-export class AsyncRegisterExtraController {
-  constructor(@Inject(CACHE_MANAGER) private cacheManager: Cache) {}
-
-  @Get()
-  async getFromStore(): Promise<string> {
-    const value: string | undefined = await this.cacheManager.get('key');
-    if (!value) {
-      await this.cacheManager.set('key', 'value');
-    }
-    return value ?? 'Not found';
-  }
-}
diff --git a/integration/cache/src/async-register-extra-providers/async-register-extra.module.ts b/integration/cache/src/async-register-extra-providers/async-register-extra.module.ts
deleted file mode 100644
index 4d3fdcecc..000000000
--- a/integration/cache/src/async-register-extra-providers/async-register-extra.module.ts
+++ /dev/null
@@ -1,16 +0,0 @@
-import { CacheModule, Module } from '@nestjs/common';
-import { AsyncRegisterExtraController } from './async-register-extra.controller';
-import { CacheConfig } from './config/cache.config';
-import { ConfigModule } from './config/config.module';
-
-@Module({
-  imports: [
-    CacheModule.registerAsync({
-      extraProviders: [ConfigModule],
-      isGlobal: true,
-      useClass: CacheConfig,
-    }),
-  ],
-  controllers: [AsyncRegisterExtraController],
-})
-export class AsyncRegisterExtraModule {}
diff --git a/integration/cache/src/async-register-extra-providers/config/cache.config.ts b/integration/cache/src/async-register-extra-providers/config/cache.config.ts
deleted file mode 100644
index 905ee6461..000000000
--- a/integration/cache/src/async-register-extra-providers/config/cache.config.ts
+++ /dev/null
@@ -1,17 +0,0 @@
-import {
-  CacheModuleOptions,
-  CacheOptionsFactory,
-  Injectable,
-} from '@nestjs/common';
-import { ConfigService } from './config.service';
-
-@Injectable()
-export class CacheConfig implements CacheOptionsFactory {
-  constructor(private readonly configService: ConfigService) {}
-
-  createCacheOptions(): CacheModuleOptions {
-    const ttl = this.configService.getTtl();
-
-    return { ttl };
-  }
-}
diff --git a/integration/cache/src/async-register-extra-providers/config/config.module.ts b/integration/cache/src/async-register-extra-providers/config/config.module.ts
deleted file mode 100644
index eaa505c84..000000000
--- a/integration/cache/src/async-register-extra-providers/config/config.module.ts
+++ /dev/null
@@ -1,8 +0,0 @@
-import { Module } from '@nestjs/common';
-import { ConfigService } from './config.service';
-
-@Module({
-  providers: [ConfigService],
-  exports: [ConfigService],
-})
-export class ConfigModule {}
diff --git a/integration/cache/src/async-register-extra-providers/config/config.service.ts b/integration/cache/src/async-register-extra-providers/config/config.service.ts
deleted file mode 100644
index 0a7a886a4..000000000
--- a/integration/cache/src/async-register-extra-providers/config/config.service.ts
+++ /dev/null
@@ -1,8 +0,0 @@
-import { Injectable } from '@nestjs/common';
-
-@Injectable()
-export class ConfigService {
-  public getTtl(): number {
-    return 10;
-  }
-}
diff --git a/integration/cache/src/async-register-extra-providers/tsconfig.json b/integration/cache/src/async-register-extra-providers/tsconfig.json
deleted file mode 100644
index 567a5c9e6..000000000
--- a/integration/cache/src/async-register-extra-providers/tsconfig.json
+++ /dev/null
@@ -1,22 +0,0 @@
-{
-  "compilerOptions": {
-    "module": "commonjs",
-    "declaration": false,
-    "noImplicitAny": false,
-    "removeComments": true,
-    "noLib": false,
-    "emitDecoratorMetadata": true,
-    "experimentalDecorators": true,
-    "target": "es6",
-    "sourceMap": true,
-    "allowJs": true,
-    "outDir": "./dist"
-  },
-  "include": [
-    "src/**/*",
-    "e2e/**/*"
-  ],
-  "exclude": [
-    "node_modules",
-  ]
-}
diff --git a/integration/cache/src/async-register/async-register.controller.ts b/integration/cache/src/async-register/async-register.controller.ts
deleted file mode 100644
index 4f2c12f08..000000000
--- a/integration/cache/src/async-register/async-register.controller.ts
+++ /dev/null
@@ -1,16 +0,0 @@
-import { Controller, Get, Inject, CACHE_MANAGER } from '@nestjs/common';
-import { Cache } from 'cache-manager';
-
-@Controller()
-export class AsyncRegisterController {
-  constructor(@Inject(CACHE_MANAGER) private cacheManager: Cache) {}
-
-  @Get()
-  async getFromStore(): Promise<string> {
-    const value: string | undefined = await this.cacheManager.get('key');
-    if (!value) {
-      await this.cacheManager.set('key', 'value');
-    }
-    return value ?? 'Not found';
-  }
-}
diff --git a/integration/cache/src/async-register/async-register.module.ts b/integration/cache/src/async-register/async-register.module.ts
deleted file mode 100644
index d2a907f3b..000000000
--- a/integration/cache/src/async-register/async-register.module.ts
+++ /dev/null
@@ -1,14 +0,0 @@
-import { CacheModule, Module } from '@nestjs/common';
-import { AsyncRegisterController } from './async-register.controller';
-import { CacheConfig } from './config/cache.config';
-
-@Module({
-  imports: [
-    CacheModule.registerAsync({
-      isGlobal: true,
-      useClass: CacheConfig,
-    }),
-  ],
-  controllers: [AsyncRegisterController],
-})
-export class AsyncRegisterModule {}
diff --git a/integration/cache/src/async-register/config/cache.config.ts b/integration/cache/src/async-register/config/cache.config.ts
deleted file mode 100644
index 83bef1080..000000000
--- a/integration/cache/src/async-register/config/cache.config.ts
+++ /dev/null
@@ -1,14 +0,0 @@
-import {
-  CacheModuleOptions,
-  CacheOptionsFactory,
-  Injectable,
-} from '@nestjs/common';
-
-@Injectable()
-export class CacheConfig implements CacheOptionsFactory {
-  createCacheOptions(): CacheModuleOptions {
-    const ttl = 10;
-
-    return { ttl };
-  }
-}
diff --git a/integration/cache/src/async-register/tsconfig.json b/integration/cache/src/async-register/tsconfig.json
deleted file mode 100644
index 567a5c9e6..000000000
--- a/integration/cache/src/async-register/tsconfig.json
+++ /dev/null
@@ -1,22 +0,0 @@
-{
-  "compilerOptions": {
-    "module": "commonjs",
-    "declaration": false,
-    "noImplicitAny": false,
-    "removeComments": true,
-    "noLib": false,
-    "emitDecoratorMetadata": true,
-    "experimentalDecorators": true,
-    "target": "es6",
-    "sourceMap": true,
-    "allowJs": true,
-    "outDir": "./dist"
-  },
-  "include": [
-    "src/**/*",
-    "e2e/**/*"
-  ],
-  "exclude": [
-    "node_modules",
-  ]
-}
diff --git a/integration/microservices/src/disconnected.controller.ts b/integration/microservices/src/disconnected.controller.ts
index 0212ab1ce..4239fbeb6 100644
--- a/integration/microservices/src/disconnected.controller.ts
+++ b/integration/microservices/src/disconnected.controller.ts
@@ -3,7 +3,7 @@ import {
   Controller,
   InternalServerErrorException,
   Post,
-  RequestTimeoutException
+  RequestTimeoutException,
 } from '@nestjs/common';
 import { ClientProxyFactory } from '@nestjs/microservices';
 import { Observable, throwError } from 'rxjs';
@@ -24,8 +24,7 @@ export class DisconnectedClientController {
         return throwError(() =>
           code === 'ECONNREFUSED' ||
           code === 'CONN_ERR' ||
-          code === 'CONNECTION_REFUSED' ||
-          error.message === 'Connection is closed.'
+          code === 'CONNECTION_REFUSED'
             ? new RequestTimeoutException('ECONNREFUSED')
             : new InternalServerErrorException(),
         );
diff --git a/integration/module-utils/src/integration.module-definition.ts b/integration/module-utils/src/integration.module-definition.ts
deleted file mode 100644
index 89d7a9842..000000000
--- a/integration/module-utils/src/integration.module-definition.ts
+++ /dev/null
@@ -1,17 +0,0 @@
-import { ConfigurableModuleBuilder } from '@nestjs/common';
-import { IntegrationModuleOptions } from './interfaces/integration-module-options.interface';
-
-export const { ConfigurableModuleClass, MODULE_OPTIONS_TOKEN } =
-  new ConfigurableModuleBuilder<IntegrationModuleOptions>()
-    .setClassMethodName('forRoot')
-    .setFactoryMethodName('construct')
-    .setExtras(
-      {
-        isGlobal: true,
-      },
-      (definition, extras) => ({
-        ...definition,
-        global: extras.isGlobal,
-      }),
-    )
-    .build();
diff --git a/integration/module-utils/src/integration.module.ts b/integration/module-utils/src/integration.module.ts
deleted file mode 100644
index 3b994f4bd..000000000
--- a/integration/module-utils/src/integration.module.ts
+++ /dev/null
@@ -1,16 +0,0 @@
-import { Inject, Module } from '@nestjs/common';
-import {
-  ConfigurableModuleClass,
-  MODULE_OPTIONS_TOKEN,
-} from './integration.module-definition';
-import { IntegrationModuleOptions } from './interfaces/integration-module-options.interface';
-
-@Module({})
-export class IntegrationModule extends ConfigurableModuleClass {
-  constructor(
-    @Inject(MODULE_OPTIONS_TOKEN)
-    public readonly options: IntegrationModuleOptions,
-  ) {
-    super();
-  }
-}
diff --git a/integration/module-utils/src/interfaces/integration-module-options.interface.ts b/integration/module-utils/src/interfaces/integration-module-options.interface.ts
deleted file mode 100644
index 802e02076..000000000
--- a/integration/module-utils/src/interfaces/integration-module-options.interface.ts
+++ /dev/null
@@ -1,4 +0,0 @@
-export interface IntegrationModuleOptions {
-  url: string;
-  secure?: boolean;
-}
diff --git a/integration/module-utils/tsconfig.json b/integration/module-utils/tsconfig.json
deleted file mode 100644
index c6354c564..000000000
--- a/integration/module-utils/tsconfig.json
+++ /dev/null
@@ -1,22 +0,0 @@
-{
-  "compilerOptions": {
-    "module": "commonjs",
-    "declaration": false,
-    "noImplicitAny": false,
-    "removeComments": true,
-    "noLib": false,
-    "emitDecoratorMetadata": true,
-    "experimentalDecorators": true,
-    "target": "es6",
-    "sourceMap": true,
-    "allowJs": true,
-    "outDir": "./dist"
-  },
-  "include": [
-    "src/**/*",
-    "e2e/**/*"
-  ],
-  "exclude": [
-    "node_modules",
-  ]
-}
\ No newline at end of file
diff --git a/integration/repl/src/app.module.ts b/integration/repl/src/app.module.ts
deleted file mode 100644
index 867c4b1b3..000000000
--- a/integration/repl/src/app.module.ts
+++ /dev/null
@@ -1,7 +0,0 @@
-import { Module } from '@nestjs/common';
-import { UsersModule } from './users/users.module';
-
-@Module({
-  imports: [UsersModule],
-})
-export class AppModule {}
diff --git a/integration/repl/src/users/dto/create-user.dto.ts b/integration/repl/src/users/dto/create-user.dto.ts
deleted file mode 100644
index 0311be138..000000000
--- a/integration/repl/src/users/dto/create-user.dto.ts
+++ /dev/null
@@ -1 +0,0 @@
-export class CreateUserDto {}
diff --git a/integration/repl/src/users/dto/update-user.dto.ts b/integration/repl/src/users/dto/update-user.dto.ts
deleted file mode 100644
index dfd37fb1e..000000000
--- a/integration/repl/src/users/dto/update-user.dto.ts
+++ /dev/null
@@ -1,4 +0,0 @@
-import { PartialType } from '@nestjs/mapped-types';
-import { CreateUserDto } from './create-user.dto';
-
-export class UpdateUserDto extends PartialType(CreateUserDto) {}
diff --git a/integration/repl/src/users/entities/user.entity.ts b/integration/repl/src/users/entities/user.entity.ts
deleted file mode 100644
index 4f82c1457..000000000
--- a/integration/repl/src/users/entities/user.entity.ts
+++ /dev/null
@@ -1 +0,0 @@
-export class User {}
diff --git a/integration/repl/src/users/users.controller.ts b/integration/repl/src/users/users.controller.ts
deleted file mode 100644
index 3eca7ebde..000000000
--- a/integration/repl/src/users/users.controller.ts
+++ /dev/null
@@ -1,34 +0,0 @@
-import { Controller, Get, Post, Body, Patch, Param, Delete } from '@nestjs/common';
-import { UsersService } from './users.service';
-import { CreateUserDto } from './dto/create-user.dto';
-import { UpdateUserDto } from './dto/update-user.dto';
-
-@Controller('users')
-export class UsersController {
-  constructor(private readonly usersService: UsersService) {}
-
-  @Post()
-  create(@Body() createUserDto: CreateUserDto) {
-    return this.usersService.create(createUserDto);
-  }
-
-  @Get()
-  findAll() {
-    return this.usersService.findAll();
-  }
-
-  @Get(':id')
-  findOne(@Param('id') id: string) {
-    return this.usersService.findOne(+id);
-  }
-
-  @Patch(':id')
-  update(@Param('id') id: string, @Body() updateUserDto: UpdateUserDto) {
-    return this.usersService.update(+id, updateUserDto);
-  }
-
-  @Delete(':id')
-  remove(@Param('id') id: string) {
-    return this.usersService.remove(+id);
-  }
-}
diff --git a/integration/repl/src/users/users.module.ts b/integration/repl/src/users/users.module.ts
deleted file mode 100644
index 86d73a3f0..000000000
--- a/integration/repl/src/users/users.module.ts
+++ /dev/null
@@ -1,16 +0,0 @@
-import { Module } from '@nestjs/common';
-import { UsersController } from './users.controller';
-import { UsersRepository } from './users.repository';
-import { UsersService } from './users.service';
-
-@Module({
-  controllers: [UsersController],
-  providers: [
-    UsersService,
-    {
-      provide: UsersRepository.name,
-      useValue: new UsersRepository(),
-    },
-  ],
-})
-export class UsersModule {}
diff --git a/integration/repl/src/users/users.repository.ts b/integration/repl/src/users/users.repository.ts
deleted file mode 100644
index 4a6166586..000000000
--- a/integration/repl/src/users/users.repository.ts
+++ /dev/null
@@ -1,8 +0,0 @@
-import { Injectable } from '@nestjs/common';
-
-@Injectable()
-export class UsersRepository {
-  async find() {
-    return [{ id: 1, email: 'test@nestjs.com' }];
-  }
-}
diff --git a/integration/repl/src/users/users.service.ts b/integration/repl/src/users/users.service.ts
deleted file mode 100644
index ab3191152..000000000
--- a/integration/repl/src/users/users.service.ts
+++ /dev/null
@@ -1,32 +0,0 @@
-import { Inject, Injectable } from '@nestjs/common';
-import { CreateUserDto } from './dto/create-user.dto';
-import { UpdateUserDto } from './dto/update-user.dto';
-import { UsersRepository } from './users.repository';
-
-@Injectable()
-export class UsersService {
-  constructor(
-    @Inject('UsersRepository')
-    private readonly usersRepository: UsersRepository,
-  ) {}
-
-  create(createUserDto: CreateUserDto) {
-    return 'This action adds a new user';
-  }
-
-  findAll() {
-    return `This action returns all users`;
-  }
-
-  findOne(id: number) {
-    return `This action returns a #${id} user`;
-  }
-
-  update(id: number, updateUserDto: UpdateUserDto) {
-    return `This action updates a #${id} user`;
-  }
-
-  remove(id: number) {
-    return `This action removes a #${id} user`;
-  }
-}
diff --git a/integration/repl/tsconfig.json b/integration/repl/tsconfig.json
deleted file mode 100644
index ea15af490..000000000
--- a/integration/repl/tsconfig.json
+++ /dev/null
@@ -1,22 +0,0 @@
-{
-  "compilerOptions": {
-    "module": "commonjs",
-    "declaration": false,
-    "noImplicitAny": false,
-    "removeComments": true,
-    "noLib": false,
-    "emitDecoratorMetadata": true,
-    "experimentalDecorators": true,
-    "target": "es6",
-    "sourceMap": true,
-    "allowJs": true,
-    "outDir": "./dist"
-  },
-  "include": [
-    "src/**/*"
-  ],
-  "exclude": [
-    "node_modules",
-    "**/*.spec.ts"
-  ]
-}
\ No newline at end of file
diff --git a/integration/scopes/src/durable/durable-context-id.strategy.ts b/integration/scopes/src/durable/durable-context-id.strategy.ts
deleted file mode 100644
index ad58553b3..000000000
--- a/integration/scopes/src/durable/durable-context-id.strategy.ts
+++ /dev/null
@@ -1,21 +0,0 @@
-import { ContextId, ContextIdStrategy, HostComponentInfo } from '@nestjs/core';
-import { Request } from 'express';
-
-const tenants = new Map<string, ContextId>();
-
-export class DurableContextIdStrategy implements ContextIdStrategy {
-  attach(contextId: ContextId, request: Request) {
-    const tenantId = request.headers['x-tenant-id'] as string;
-    let tenantSubTreeId: ContextId;
-
-    if (tenants.has(tenantId)) {
-      tenantSubTreeId = tenants.get(tenantId);
-    } else {
-      tenantSubTreeId = { id: +tenantId } as ContextId;
-      tenants.set(tenantId, tenantSubTreeId);
-    }
-
-    return (info: HostComponentInfo) =>
-      info.isTreeDurable ? tenantSubTreeId : contextId;
-  }
-}
diff --git a/integration/scopes/src/durable/durable.controller.ts b/integration/scopes/src/durable/durable.controller.ts
deleted file mode 100644
index 0800381c0..000000000
--- a/integration/scopes/src/durable/durable.controller.ts
+++ /dev/null
@@ -1,12 +0,0 @@
-import { Controller, Get } from '@nestjs/common';
-import { DurableService } from './durable.service';
-
-@Controller('durable')
-export class DurableController {
-  constructor(private readonly durableService: DurableService) {}
-
-  @Get()
-  greeting(): string {
-    return this.durableService.greeting();
-  }
-}
diff --git a/integration/scopes/src/durable/durable.module.ts b/integration/scopes/src/durable/durable.module.ts
deleted file mode 100644
index ed312900f..000000000
--- a/integration/scopes/src/durable/durable.module.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-import { Module } from '@nestjs/common';
-import { DurableController } from './durable.controller';
-import { DurableService } from './durable.service';
-
-@Module({
-  controllers: [DurableController],
-  providers: [DurableService],
-})
-export class DurableModule {}
diff --git a/integration/scopes/src/durable/durable.service.ts b/integration/scopes/src/durable/durable.service.ts
deleted file mode 100644
index 84639a215..000000000
--- a/integration/scopes/src/durable/durable.service.ts
+++ /dev/null
@@ -1,11 +0,0 @@
-import { Injectable, Scope } from '@nestjs/common';
-
-@Injectable({ scope: Scope.REQUEST, durable: true })
-export class DurableService {
-  public instanceCounter = 0;
-
-  greeting() {
-    ++this.instanceCounter;
-    return `Hello world! Counter: ${this.instanceCounter}`;
-  }
-}
diff --git a/integration/send-files/src/app.controller.ts b/integration/send-files/src/app.controller.ts
index 606e2d598..9715784bd 100644
--- a/integration/send-files/src/app.controller.ts
+++ b/integration/send-files/src/app.controller.ts
@@ -31,4 +31,9 @@ export class AppController {
   getFileWithHeaders(): StreamableFile {
     return this.appService.getFileWithHeaders();
   }
+
+  @Get('file/not/exist')
+  getNonExistantFile(): StreamableFile {
+    return this.appService.getFileThatDoesNotExist();
+  }
 }
diff --git a/integration/send-files/src/app.service.ts b/integration/send-files/src/app.service.ts
index ba5849a75..af94bf5b7 100644
--- a/integration/send-files/src/app.service.ts
+++ b/integration/send-files/src/app.service.ts
@@ -35,4 +35,8 @@ export class AppService {
       },
     );
   }
+
+  getFileThatDoesNotExist(): StreamableFile {
+    return new StreamableFile(createReadStream('does-not-exist.txt'));
+  }
 }
diff --git a/lerna.json b/lerna.json
index 93982232e..efd62bfbb 100644
--- a/lerna.json
+++ b/lerna.json
@@ -3,5 +3,5 @@
   "packages": [
     "packages/*"
   ],
-  "version": "9.0.3"
+  "version": "8.4.7"
 }
diff --git a/package-lock.json b/package-lock.json
index 8e5daab19..a56d2f197 100644
Binary files a/package-lock.json and b/package-lock.json differ
diff --git a/package.json b/package.json
index aa6f2f1b5..e1c2fd869 100644
--- a/package.json
+++ b/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/core",
-  "version": "9.0.0",
+  "version": "8.4.4",
   "description": "Modern, fast, powerful node.js web framework",
   "homepage": "https://nestjs.com",
   "repository": {
@@ -53,42 +53,37 @@
   },
   "dependencies": {
     "@nuxtjs/opencollective": "0.3.2",
+    "axios": "0.27.2",
     "class-transformer": "0.5.1",
     "class-validator": "0.13.2",
-    "cli-color": "2.0.3",
+    "cli-color": "2.0.2",
     "cors": "2.8.5",
     "express": "4.18.1",
-    "fast-json-stringify": "5.1.0",
+    "fast-json-stringify": "4.2.0",
     "fast-safe-stringify": "2.1.1",
     "graphql-subscriptions": "2.0.0",
     "iterare": "1.2.1",
     "object-hash": "3.0.0",
     "path-to-regexp": "3.2.0",
     "reflect-metadata": "0.1.13",
-    "rxjs": "7.5.6",
+    "rxjs": "7.5.5",
     "socket.io": "4.5.1",
     "tslib": "2.4.0",
     "uuid": "8.3.2"
   },
   "devDependencies": {
     "@codechecks/client": "0.1.12",
-    "@commitlint/cli": "17.0.3",
-    "@commitlint/config-angular": "17.0.3",
-    "@fastify/cors": "^8.0.0",
-    "@fastify/formbody": "7.0.1",
-    "@fastify/middie": "8.0.0",
-    "@fastify/multipart": "7.1.0",
-    "@fastify/static": "6.4.0",
-    "@fastify/view": "7.0.0",
+    "@commitlint/cli": "17.0.2",
+    "@commitlint/config-angular": "17.0.0",
     "@grpc/grpc-js": "1.6.7",
     "@grpc/proto-loader": "0.6.13",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/mongoose": "9.2.0",
-    "@nestjs/typeorm": "9.0.0",
+    "@nestjs/apollo": "10.0.16",
+    "@nestjs/graphql": "10.0.16",
+    "@nestjs/mongoose": "9.1.1",
+    "@nestjs/typeorm": "8.0.4",
     "@types/amqplib": "0.8.2",
     "@types/bytes": "3.1.1",
-    "@types/cache-manager": "4.0.1",
+    "@types/cache-manager": "4.0.0",
     "@types/chai": "4.3.1",
     "@types/chai-as-promised": "7.1.5",
     "@types/cors": "2.8.12",
@@ -96,22 +91,22 @@
     "@types/gulp": "4.0.9",
     "@types/http-errors": "1.8.2",
     "@types/mocha": "9.1.1",
-    "@types/node": "18.0.4",
+    "@types/node": "18.0.0",
     "@types/redis": "4.0.11",
     "@types/reflect-metadata": "0.1.0",
-    "@types/sinon": "10.0.12",
+    "@types/sinon": "10.0.11",
     "@types/supertest": "2.0.12",
     "@types/ws": "8.5.3",
     "@typescript-eslint/eslint-plugin": "4.33.0",
     "@typescript-eslint/parser": "4.33.0",
     "amqp-connection-manager": "4.1.3",
     "amqplib": "0.10.0",
-    "apollo-server-core": "3.10.0",
-    "apollo-server-express": "3.10.0",
+    "apollo-server-core": "3.9.0",
+    "apollo-server-express": "3.9.0",
     "artillery": "1.7.9",
     "body-parser": "1.20.0",
     "bytes": "3.1.2",
-    "cache-manager": "4.1.0",
+    "cache-manager": "4.0.1",
     "cache-manager-redis-store": "2.0.0",
     "chai": "4.3.6",
     "chai-as-promised": "7.1.1",
@@ -119,7 +114,7 @@
     "commitlint-circle": "1.0.0",
     "concurrently": "7.2.2",
     "conventional-changelog": "3.1.25",
-    "core-js": "3.23.4",
+    "core-js": "3.23.1",
     "coveralls": "3.1.1",
     "delete-empty": "3.0.0",
     "engine.io-client": "6.2.2",
@@ -128,9 +123,13 @@
     "eslint-plugin-import": "2.26.0",
     "eventsource": "2.0.2",
     "fancy-log": "2.0.0",
-    "fastify": "4.2.1",
+    "fastify": "3.29.0",
+    "fastify-cors": "6.1.0",
+    "fastify-formbody": "5.3.0",
+    "fastify-multipart": "5.4.0",
+    "fastify-static": "4.7.0",
     "graphql": "15.8.0",
-    "graphql-tools": "8.3.0",
+    "graphql-tools": "8.2.12",
     "gulp": "4.0.2",
     "gulp-clang-format": "1.0.27",
     "gulp-clean": "0.4.0",
@@ -140,40 +139,41 @@
     "http-errors": "2.0.0",
     "husky": "8.0.1",
     "imports-loader": "4.0.0",
-    "ioredis": "5.2.0",
     "json-loader": "0.5.7",
-    "kafkajs": "2.1.0",
+    "kafkajs": "2.0.2",
     "lerna": "2.11.0",
     "lerna-changelog": "2.2.0",
     "light-my-request": "5.0.0",
-    "lint-staged": "13.0.3",
+    "lint-staged": "13.0.2",
     "markdown-table": "2.0.0",
     "merge-graphql-schemas": "1.7.8",
-    "mocha": "10.0.0",
-    "mongoose": "6.4.4",
+    "middie": "6.1.0",
+    "mocha": "9.2.2",
+    "mongoose": "6.4.0",
     "mqtt": "4.3.7",
     "multer": "1.4.4",
     "mysql2": "2.3.3",
     "nats": "2.7.1",
-    "nodemon": "2.0.19",
+    "nodemon": "2.0.16",
     "nyc": "15.1.0",
+    "point-of-view": "6.3.0",
     "prettier": "2.7.1",
-    "redis": "4.2.0",
+    "redis": "3.1.2",
     "rxjs-compat": "6.6.7",
     "sinon": "14.0.0",
     "sinon-chai": "3.7.0",
     "socket.io-client": "4.5.1",
     "subscriptions-transport-ws": "0.11.0",
-    "supertest": "6.2.4",
+    "supertest": "6.2.3",
     "ts-morph": "15.1.0",
-    "ts-node": "10.9.0",
-    "typeorm": "0.3.7",
+    "ts-node": "10.8.1",
+    "typeorm": "0.2.45",
     "typescript": "4.7.4",
     "wrk": "1.2.1",
     "ws": "8.8.0"
   },
   "engines": {
-    "node": ">= 12.9.0"
+    "node": ">= 10.13.0"
   },
   "collective": {
     "type": "opencollective",
diff --git a/packages/common/Readme.md b/packages/common/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/common/Readme.md
+++ b/packages/common/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/common/cache/cache.constants.ts b/packages/common/cache/cache.constants.ts
index 799547a7b..0ecf5c94e 100644
--- a/packages/common/cache/cache.constants.ts
+++ b/packages/common/cache/cache.constants.ts
@@ -1,3 +1,4 @@
 export const CACHE_MANAGER = 'CACHE_MANAGER';
+export const CACHE_MODULE_OPTIONS = 'CACHE_MODULE_OPTIONS';
 export const CACHE_KEY_METADATA = 'cache_module:cache_key';
 export const CACHE_TTL_METADATA = 'cache_module:cache_ttl';
diff --git a/packages/common/cache/cache.module-definition.ts b/packages/common/cache/cache.module-definition.ts
deleted file mode 100644
index 25d74e986..000000000
--- a/packages/common/cache/cache.module-definition.ts
+++ /dev/null
@@ -1,12 +0,0 @@
-import { ConfigurableModuleBuilder } from '../module-utils';
-import {
-  CacheModuleOptions,
-  CacheOptionsFactory,
-} from './interfaces/cache-module.interface';
-
-export const { ConfigurableModuleClass, MODULE_OPTIONS_TOKEN } =
-  new ConfigurableModuleBuilder<CacheModuleOptions>({
-    moduleName: 'Cache',
-  })
-    .setFactoryMethodName('createCacheOptions' as keyof CacheOptionsFactory)
-    .build();
diff --git a/packages/common/cache/cache.module.ts b/packages/common/cache/cache.module.ts
index e57c82666..4e2c63d48 100644
--- a/packages/common/cache/cache.module.ts
+++ b/packages/common/cache/cache.module.ts
@@ -1,11 +1,11 @@
 import { Module } from '../decorators';
-import { DynamicModule } from '../interfaces';
-import { CACHE_MANAGER } from './cache.constants';
-import { ConfigurableModuleClass } from './cache.module-definition';
+import { DynamicModule, Provider } from '../interfaces';
+import { CACHE_MANAGER, CACHE_MODULE_OPTIONS } from './cache.constants';
 import { createCacheManager } from './cache.providers';
 import {
   CacheModuleAsyncOptions,
   CacheModuleOptions,
+  CacheOptionsFactory,
 } from './interfaces/cache-module.interface';
 
 /**
@@ -19,7 +19,7 @@ import {
   providers: [createCacheManager()],
   exports: [CACHE_MANAGER],
 })
-export class CacheModule extends ConfigurableModuleClass {
+export class CacheModule {
   /**
    * Configure the cache manager statically.
    *
@@ -31,8 +31,9 @@ export class CacheModule extends ConfigurableModuleClass {
     options: CacheModuleOptions<StoreConfig> = {} as any,
   ): DynamicModule {
     return {
+      module: CacheModule,
       global: options.isGlobal,
-      ...super.register(options),
+      providers: [{ provide: CACHE_MODULE_OPTIONS, useValue: options }],
     };
   }
 
@@ -47,14 +48,47 @@ export class CacheModule extends ConfigurableModuleClass {
   static registerAsync<
     StoreConfig extends Record<any, any> = Record<string, any>,
   >(options: CacheModuleAsyncOptions<StoreConfig>): DynamicModule {
-    const moduleDefinition = super.registerAsync(options);
-
     return {
+      module: CacheModule,
       global: options.isGlobal,
-      ...moduleDefinition,
-      providers: options.extraProviders
-        ? moduleDefinition.providers.concat(options.extraProviders)
-        : moduleDefinition.providers,
+      imports: options.imports,
+      providers: [
+        ...this.createAsyncProviders<StoreConfig>(options),
+        ...(options.extraProviders || []),
+      ],
+    };
+  }
+
+  private static createAsyncProviders<StoreConfig extends Record<any, any>>(
+    options: CacheModuleAsyncOptions<StoreConfig>,
+  ): Provider[] {
+    if (options.useExisting || options.useFactory) {
+      return [this.createAsyncOptionsProvider(options)];
+    }
+    return [
+      this.createAsyncOptionsProvider(options),
+      {
+        provide: options.useClass,
+        useClass: options.useClass,
+      },
+    ];
+  }
+
+  private static createAsyncOptionsProvider<
+    StoreConfig extends Record<any, any>,
+  >(options: CacheModuleAsyncOptions<StoreConfig>): Provider {
+    if (options.useFactory) {
+      return {
+        provide: CACHE_MODULE_OPTIONS,
+        useFactory: options.useFactory,
+        inject: options.inject || [],
+      };
+    }
+    return {
+      provide: CACHE_MODULE_OPTIONS,
+      useFactory: async (optionsFactory: CacheOptionsFactory<StoreConfig>) =>
+        optionsFactory.createCacheOptions(),
+      inject: [options.useExisting || options.useClass],
     };
   }
 }
diff --git a/packages/common/cache/cache.providers.ts b/packages/common/cache/cache.providers.ts
index 4aaacf0f5..2e6df398d 100644
--- a/packages/common/cache/cache.providers.ts
+++ b/packages/common/cache/cache.providers.ts
@@ -1,7 +1,6 @@
 import { Provider } from '../interfaces';
 import { loadPackage } from '../utils/load-package.util';
-import { CACHE_MANAGER } from './cache.constants';
-import { MODULE_OPTIONS_TOKEN } from './cache.module-definition';
+import { CACHE_MANAGER, CACHE_MODULE_OPTIONS } from './cache.constants';
 import { defaultCacheOptions } from './default-options';
 import { CacheManagerOptions } from './interfaces/cache-manager.interface';
 
@@ -32,6 +31,6 @@ export function createCacheManager(): Provider {
             ...(options || {}),
           });
     },
-    inject: [MODULE_OPTIONS_TOKEN],
+    inject: [CACHE_MODULE_OPTIONS],
   };
 }
diff --git a/packages/common/cache/interfaces/cache-module.interface.ts b/packages/common/cache/interfaces/cache-module.interface.ts
index bac872a9d..21adf8b36 100644
--- a/packages/common/cache/interfaces/cache-module.interface.ts
+++ b/packages/common/cache/interfaces/cache-module.interface.ts
@@ -1,5 +1,4 @@
-import { Provider, Type } from '../../interfaces';
-import { ConfigurableModuleAsyncOptions } from '../../module-utils';
+import { ModuleMetadata, Provider, Type } from '../../interfaces';
 import { CacheManagerOptions } from './cache-manager.interface';
 
 export type CacheModuleOptions<
@@ -40,10 +39,7 @@ export interface CacheOptionsFactory<
  */
 export interface CacheModuleAsyncOptions<
   StoreConfig extends Record<any, any> = Record<string, any>,
-> extends ConfigurableModuleAsyncOptions<
-    CacheModuleOptions<StoreConfig>,
-    keyof CacheOptionsFactory
-  > {
+> extends Pick<ModuleMetadata, 'imports'> {
   /**
    * Injection token resolving to an existing provider. The provider must implement
    * the `CacheOptionsFactory` interface.
@@ -67,9 +63,6 @@ export interface CacheModuleAsyncOptions<
    * Dependencies that a Factory may inject.
    */
   inject?: any[];
-  /**
-   * Extra providers to be registered within a scope of this module.
-   */
   extraProviders?: Provider[];
   /**
    * If "true', register `CacheModule` as a global module.
diff --git a/packages/common/decorators/core/controller.decorator.ts b/packages/common/decorators/core/controller.decorator.ts
index ec13f5f7c..b20c4a741 100644
--- a/packages/common/decorators/core/controller.decorator.ts
+++ b/packages/common/decorators/core/controller.decorator.ts
@@ -163,7 +163,7 @@ export function Controller(
     : [
         prefixOrOptions.path || defaultPath,
         prefixOrOptions.host,
-        { scope: prefixOrOptions.scope, durable: prefixOrOptions.durable },
+        { scope: prefixOrOptions.scope },
         Array.isArray(prefixOrOptions.version)
           ? Array.from(new Set(prefixOrOptions.version))
           : prefixOrOptions.version,
diff --git a/packages/common/exceptions/http.exception.ts b/packages/common/exceptions/http.exception.ts
index 540844298..84ec9361b 100644
--- a/packages/common/exceptions/http.exception.ts
+++ b/packages/common/exceptions/http.exception.ts
@@ -41,22 +41,6 @@ export class HttpException extends Error {
     super();
     this.initMessage();
     this.initName();
-    this.initCause();
-  }
-
-  public cause: Error | undefined;
-
-  /**
-   * Configures error chaining support
-   *
-   * See:
-   * - https://nodejs.org/en/blog/release/v16.9.0/#error-cause
-   * - https://github.com/microsoft/TypeScript/issues/45167
-   */
-  public initCause() {
-    if (this.response instanceof Error) {
-      this.cause = this.response;
-    }
   }
 
   public initMessage() {
diff --git a/packages/common/file-stream/streamable-file.ts b/packages/common/file-stream/streamable-file.ts
index 7fe05c1d9..f57b857ee 100644
--- a/packages/common/file-stream/streamable-file.ts
+++ b/packages/common/file-stream/streamable-file.ts
@@ -3,9 +3,22 @@ import { types } from 'util';
 import { isFunction } from '../utils/shared.utils';
 import { StreamableFileOptions } from './streamable-options.interface';
 
+export interface StreamableHandlerResponse {
+  statusCode: number;
+  send: (msg: string) => void;
+}
+
 export class StreamableFile {
   private readonly stream: Readable;
 
+  protected handleError: (
+    err: Error,
+    response: StreamableHandlerResponse,
+  ) => void = (err: Error, res) => {
+    res.statusCode = 400;
+    res.send(err.message);
+  };
+
   constructor(buffer: Uint8Array, options?: StreamableFileOptions);
   constructor(readable: Readable, options?: StreamableFileOptions);
   constructor(
@@ -38,4 +51,18 @@ export class StreamableFile {
       length,
     };
   }
+
+  get errorHandler(): (
+    err: Error,
+    response: StreamableHandlerResponse,
+  ) => void {
+    return this.handleError;
+  }
+
+  setErrorHandler(
+    handler: (err: Error, response: StreamableHandlerResponse) => void,
+  ) {
+    this.handleError = handler;
+    return this;
+  }
 }
diff --git a/packages/common/http/http.constants.ts b/packages/common/http/http.constants.ts
new file mode 100644
index 000000000..21f6d8499
--- /dev/null
+++ b/packages/common/http/http.constants.ts
@@ -0,0 +1,3 @@
+export const AXIOS_INSTANCE_TOKEN = 'AXIOS_INSTANCE_TOKEN';
+export const HTTP_MODULE_ID = 'HTTP_MODULE_ID';
+export const HTTP_MODULE_OPTIONS = 'HTTP_MODULE_OPTIONS';
diff --git a/packages/common/http/http.module.ts b/packages/common/http/http.module.ts
new file mode 100644
index 000000000..cc0367673
--- /dev/null
+++ b/packages/common/http/http.module.ts
@@ -0,0 +1,99 @@
+import Axios from 'axios';
+import { Module } from '../decorators/modules/module.decorator';
+import { DynamicModule, Provider } from '../interfaces';
+import { randomStringGenerator } from '../utils/random-string-generator.util';
+import {
+  AXIOS_INSTANCE_TOKEN,
+  HTTP_MODULE_ID,
+  HTTP_MODULE_OPTIONS,
+} from './http.constants';
+import { HttpService } from './http.service';
+import {
+  HttpModuleAsyncOptions,
+  HttpModuleOptions,
+  HttpModuleOptionsFactory,
+} from './interfaces';
+
+/**
+ * @deprecated "HttpModule" (from the "@nestjs/common" package) is deprecated and will be removed in the next major release. Please, use the "@nestjs/axios" package instead.
+ */
+@Module({
+  providers: [
+    HttpService,
+    {
+      provide: AXIOS_INSTANCE_TOKEN,
+      useValue: Axios,
+    },
+  ],
+  exports: [HttpService],
+})
+export class HttpModule {
+  static register(config: HttpModuleOptions): DynamicModule {
+    return {
+      module: HttpModule,
+      providers: [
+        {
+          provide: AXIOS_INSTANCE_TOKEN,
+          useValue: Axios.create(config),
+        },
+        {
+          provide: HTTP_MODULE_ID,
+          useValue: randomStringGenerator(),
+        },
+      ],
+    };
+  }
+
+  static registerAsync(options: HttpModuleAsyncOptions): DynamicModule {
+    return {
+      module: HttpModule,
+      imports: options.imports,
+      providers: [
+        ...this.createAsyncProviders(options),
+        {
+          provide: AXIOS_INSTANCE_TOKEN,
+          useFactory: (config: HttpModuleOptions) => Axios.create(config),
+          inject: [HTTP_MODULE_OPTIONS],
+        },
+        {
+          provide: HTTP_MODULE_ID,
+          useValue: randomStringGenerator(),
+        },
+        ...(options.extraProviders || []),
+      ],
+    };
+  }
+
+  private static createAsyncProviders(
+    options: HttpModuleAsyncOptions,
+  ): Provider[] {
+    if (options.useExisting || options.useFactory) {
+      return [this.createAsyncOptionsProvider(options)];
+    }
+    return [
+      this.createAsyncOptionsProvider(options),
+      {
+        provide: options.useClass,
+        useClass: options.useClass,
+      },
+    ];
+  }
+
+  private static createAsyncOptionsProvider(
+    options: HttpModuleAsyncOptions,
+  ): Provider {
+    if (options.useFactory) {
+      return {
+        provide: HTTP_MODULE_OPTIONS,
+        useFactory: options.useFactory,
+        inject: options.inject || [],
+      };
+    }
+    return {
+      provide: HTTP_MODULE_OPTIONS,
+      useFactory: async (optionsFactory: HttpModuleOptionsFactory) =>
+        optionsFactory.createHttpOptions(),
+      inject: [options.useExisting || options.useClass],
+    };
+  }
+}
diff --git a/packages/common/http/http.service.ts b/packages/common/http/http.service.ts
new file mode 100644
index 000000000..7c6e2ded2
--- /dev/null
+++ b/packages/common/http/http.service.ts
@@ -0,0 +1,113 @@
+import Axios, {
+  AxiosInstance,
+  AxiosPromise,
+  AxiosRequestConfig,
+  AxiosResponse,
+  CancelTokenSource,
+} from 'axios';
+import { Observable } from 'rxjs';
+import { Inject } from '../decorators';
+import { Logger } from '../services';
+import { AXIOS_INSTANCE_TOKEN } from './http.constants';
+
+/**
+ * @deprecated "HttpModule" (from the "@nestjs/common" package) is deprecated and will be removed in the next major release. Please, use the "@nestjs/axios" package instead.
+ */
+export class HttpService {
+  private readonly logger = new Logger(HttpService.name);
+
+  constructor(
+    @Inject(AXIOS_INSTANCE_TOKEN)
+    private readonly instance: AxiosInstance = Axios,
+  ) {
+    this.logger.warn(
+      'DEPRECATED! "HttpModule" (from the "@nestjs/common" package) is deprecated and will be removed in the next major release. Please, use the "@nestjs/axios" package instead.',
+    );
+  }
+
+  request<T = any>(config: AxiosRequestConfig): Observable<AxiosResponse<T>> {
+    return this.makeObservable<T>(this.instance.request, config);
+  }
+
+  get<T = any>(
+    url: string,
+    config?: AxiosRequestConfig,
+  ): Observable<AxiosResponse<T>> {
+    return this.makeObservable<T>(this.instance.get, url, config);
+  }
+
+  delete<T = any>(
+    url: string,
+    config?: AxiosRequestConfig,
+  ): Observable<AxiosResponse<T>> {
+    return this.makeObservable<T>(this.instance.delete, url, config);
+  }
+
+  head<T = any>(
+    url: string,
+    config?: AxiosRequestConfig,
+  ): Observable<AxiosResponse<T>> {
+    return this.makeObservable<T>(this.instance.head, url, config);
+  }
+
+  post<T = any>(
+    url: string,
+    data?: any,
+    config?: AxiosRequestConfig,
+  ): Observable<AxiosResponse<T>> {
+    return this.makeObservable<T>(this.instance.post, url, data, config);
+  }
+
+  put<T = any>(
+    url: string,
+    data?: any,
+    config?: AxiosRequestConfig,
+  ): Observable<AxiosResponse<T>> {
+    return this.makeObservable<T>(this.instance.put, url, data, config);
+  }
+
+  patch<T = any>(
+    url: string,
+    data?: any,
+    config?: AxiosRequestConfig,
+  ): Observable<AxiosResponse<T>> {
+    return this.makeObservable<T>(this.instance.patch, url, data, config);
+  }
+
+  get axiosRef(): AxiosInstance {
+    return this.instance;
+  }
+
+  private makeObservable<T>(
+    axios: (...args: any[]) => AxiosPromise<T>,
+    ...args: any[]
+  ) {
+    return new Observable<AxiosResponse<T>>(subscriber => {
+      const config: AxiosRequestConfig = { ...(args[args.length - 1] || {}) };
+
+      let cancelSource: CancelTokenSource;
+      if (!config.cancelToken) {
+        cancelSource = Axios.CancelToken.source();
+        config.cancelToken = cancelSource.token;
+      }
+
+      axios(...args)
+        .then(res => {
+          subscriber.next(res);
+          subscriber.complete();
+        })
+        .catch(err => {
+          subscriber.error(err);
+        });
+      return () => {
+        if (config.responseType === 'stream') {
+          return;
+        }
+
+        if (cancelSource) {
+          cancelSource.cancel();
+        }
+      };
+    });
+  }
+}
diff --git a/packages/common/http/index.ts b/packages/common/http/index.ts
new file mode 100644
index 000000000..2e7a1fead
--- /dev/null
+++ b/packages/common/http/index.ts
@@ -0,0 +1,3 @@
+export * from './http.module';
+export * from './http.service';
+export * from './interfaces';
diff --git a/packages/common/http/interfaces/http-module.interface.ts b/packages/common/http/interfaces/http-module.interface.ts
new file mode 100644
index 000000000..794f9385c
--- /dev/null
+++ b/packages/common/http/interfaces/http-module.interface.ts
@@ -0,0 +1,19 @@
+import { AxiosRequestConfig } from 'axios';
+import { ModuleMetadata, Provider, Type } from '../../interfaces';
+
+export type HttpModuleOptions = AxiosRequestConfig;
+
+export interface HttpModuleOptionsFactory {
+  createHttpOptions(): Promise<HttpModuleOptions> | HttpModuleOptions;
+}
+
+export interface HttpModuleAsyncOptions
+  extends Pick<ModuleMetadata, 'imports'> {
+  useExisting?: Type<HttpModuleOptionsFactory>;
+  useClass?: Type<HttpModuleOptionsFactory>;
+  useFactory?: (
+    ...args: any[]
+  ) => Promise<HttpModuleOptions> | HttpModuleOptions;
+  inject?: any[];
+  extraProviders?: Provider[];
+}
diff --git a/packages/common/http/interfaces/index.ts b/packages/common/http/interfaces/index.ts
new file mode 100644
index 000000000..2c295e244
--- /dev/null
+++ b/packages/common/http/interfaces/index.ts
@@ -0,0 +1,2 @@
+export * from './http-module.interface';
+export * from './raw-body-request.interface';
diff --git a/packages/common/http/interfaces/raw-body-request.interface.ts b/packages/common/http/interfaces/raw-body-request.interface.ts
new file mode 100644
index 000000000..77b6248f9
--- /dev/null
+++ b/packages/common/http/interfaces/raw-body-request.interface.ts
@@ -0,0 +1 @@
+export type RawBodyRequest<T> = T & { rawBody?: Buffer };
diff --git a/packages/common/index.ts b/packages/common/index.ts
index c8d815187..0fe073784 100644
--- a/packages/common/index.ts
+++ b/packages/common/index.ts
@@ -11,6 +11,7 @@ export * from './decorators';
 export * from './enums';
 export * from './exceptions';
 export * from './file-stream';
+export * from './http';
 export {
   Abstract,
   ArgumentMetadata,
@@ -48,7 +49,6 @@ export {
   Paramtype,
   PipeTransform,
   Provider,
-  RawBodyRequest,
   RpcExceptionFilter,
   Scope,
   ScopeOptions,
@@ -61,7 +61,6 @@ export {
   WsExceptionFilter,
   WsMessageHandler,
 } from './interfaces';
-export * from './module-utils';
 export * from './pipes';
 export * from './serializer';
 export * from './services';
diff --git a/packages/common/interfaces/http/http-server.interface.ts b/packages/common/interfaces/http/http-server.interface.ts
index 99b7e55eb..46a717d44 100644
--- a/packages/common/interfaces/http/http-server.interface.ts
+++ b/packages/common/interfaces/http/http-server.interface.ts
@@ -50,10 +50,8 @@ export interface HttpServer<TRequest = any, TResponse = any> {
   listen(port: number | string, hostname: string, callback?: () => void): any;
   reply(response: any, body: any, statusCode?: number): any;
   status(response: any, statusCode: number): any;
-  end(response: any, message?: string): any;
   render(response: any, view: string, options: any): any;
   redirect(response: any, statusCode: number, url: string): any;
-  isHeadersSent(response: any): boolean;
   setHeader(response: any, name: string, value: string): any;
   setErrorHandler?(handler: Function, prefix?: string): any;
   setNotFoundHandler?(handler: Function, prefix?: string): any;
@@ -76,9 +74,13 @@ export interface HttpServer<TRequest = any, TResponse = any> {
   close(): any;
   getType(): string;
   init?(): Promise<void>;
-  applyVersionFilter(
+  applyVersionFilter?(
     handler: Function,
     version: VersionValue,
     versioningOptions: VersioningOptions,
-  ): (req: TRequest, res: TResponse, next: () => void) => Function;
+  ): <TRequest extends Record<string, any> = any, TResponse = any>(
+    req: TRequest,
+    res: TResponse,
+    next: () => void,
+  ) => any;
 }
diff --git a/packages/common/interfaces/http/index.ts b/packages/common/interfaces/http/index.ts
index 8c9eed173..f57d218dd 100644
--- a/packages/common/interfaces/http/index.ts
+++ b/packages/common/interfaces/http/index.ts
@@ -1,3 +1,2 @@
 export * from './http-server.interface';
 export * from './message-event.interface';
-export * from './raw-body-request.interface';
diff --git a/packages/common/interfaces/modules/provider.interface.ts b/packages/common/interfaces/modules/provider.interface.ts
index 2fd7f85b6..39406c1e2 100644
--- a/packages/common/interfaces/modules/provider.interface.ts
+++ b/packages/common/interfaces/modules/provider.interface.ts
@@ -46,19 +46,6 @@ export interface ClassProvider<T = any> {
    * Optional enum defining lifetime of the provider that is injected.
    */
   scope?: Scope;
-  /**
-   * This option is only available on factory providers!
-   *
-   * @see [Use factory](https://docs.nestjs.com/fundamentals/custom-providers#factory-providers-usefactory)
-   */
-  inject?: never;
-  /**
-   * Flags provider as durable. This flag can be used in combination with custom context id
-   * factory strategy to construct lazy DI subtrees.
-   *
-   * This flag can be used only in conjunction with scope = Scope.REQUEST.
-   */
-  durable?: boolean;
 }
 
 /**
@@ -85,12 +72,6 @@ export interface ValueProvider<T = any> {
    * Instance of a provider to be injected.
    */
   useValue: T;
-  /**
-   * This option is only available on factory providers!
-   *
-   * @see [Use factory](https://docs.nestjs.com/fundamentals/custom-providers#factory-providers-usefactory)
-   */
-  inject?: never;
 }
 
 /**
@@ -121,7 +102,7 @@ export interface FactoryProvider<T = any> {
   /**
    * Factory function that returns an instance of the provider to be injected.
    */
-  useFactory: (...args: any[]) => T | Promise<T>;
+  useFactory: (...args: any[]) => T;
   /**
    * Optional list of providers to be injected into the context of the Factory function.
    */
@@ -130,13 +111,6 @@ export interface FactoryProvider<T = any> {
    * Optional enum defining lifetime of the provider that is returned by the Factory function.
    */
   scope?: Scope;
-  /**
-   * Flags provider as durable. This flag can be used in combination with custom context id
-   * factory strategy to construct lazy DI subtrees.
-   *
-   * This flag can be used only in conjunction with scope = Scope.REQUEST.
-   */
-  durable?: boolean;
 }
 
 /**
diff --git a/packages/common/interfaces/nest-application.interface.ts b/packages/common/interfaces/nest-application.interface.ts
index 82e302dc8..ec04c5180 100644
--- a/packages/common/interfaces/nest-application.interface.ts
+++ b/packages/common/interfaces/nest-application.interface.ts
@@ -61,6 +61,16 @@ export interface INestApplication extends INestApplicationContext {
     callback?: () => void,
   ): Promise<any>;
 
+  /**
+   * Starts the application (can be awaited).
+   * @deprecated use "listen" instead.
+   *
+   * @param {number|string} port
+   * @param {string} [hostname]
+   * @returns {Promise}
+   */
+  listenAsync(port: number | string, hostname?: string): Promise<any>;
+
   /**
    * Returns the url the application is listening at, based on OS and IP version. Returns as an IP value either in IPv6 or IPv4
    *
@@ -128,6 +138,14 @@ export interface INestApplication extends INestApplicationContext {
    */
   startAllMicroservices(): Promise<this>;
 
+  /**
+   * Starts all connected microservices and can be awaited.
+   * @deprecated use "startAllMicroservices" instead.
+   *
+   * @returns {Promise}
+   */
+  startAllMicroservicesAsync(): Promise<this>;
+
   /**
    * Registers exception filters as global filters (will be used within
    * every HTTP route handler)
diff --git a/packages/common/interfaces/nest-microservice.interface.ts b/packages/common/interfaces/nest-microservice.interface.ts
index 025c331bc..857f1d66c 100644
--- a/packages/common/interfaces/nest-microservice.interface.ts
+++ b/packages/common/interfaces/nest-microservice.interface.ts
@@ -18,6 +18,14 @@ export interface INestMicroservice extends INestApplicationContext {
    */
   listen(): Promise<any>;
 
+  /**
+   * Starts the microservice (can be awaited).
+   * @deprecated use "listen" instead.
+   *
+   * @returns {Promise}
+   */
+  listenAsync(): Promise<any>;
+
   /**
    * Register Ws Adapter which will be used inside Gateways.
    * Use when you want to override default `socket.io` library.
diff --git a/packages/common/interfaces/scope-options.interface.ts b/packages/common/interfaces/scope-options.interface.ts
index 4cca74275..f958c393b 100644
--- a/packages/common/interfaces/scope-options.interface.ts
+++ b/packages/common/interfaces/scope-options.interface.ts
@@ -28,11 +28,4 @@ export interface ScopeOptions {
    * Specifies the lifetime of an injected Provider or Controller.
    */
   scope?: Scope;
-  /**
-   * Flags provider as durable. This flag can be used in combination with custom context id
-   * factory strategy to construct lazy DI subtrees.
-   *
-   * This flag can be used only in conjunction with scope = Scope.REQUEST.
-   */
-  durable?: boolean;
 }
diff --git a/packages/common/module-utils/configurable-module.builder.ts b/packages/common/module-utils/configurable-module.builder.ts
deleted file mode 100644
index 0e3f1318f..000000000
--- a/packages/common/module-utils/configurable-module.builder.ts
+++ /dev/null
@@ -1,330 +0,0 @@
-import { DynamicModule, Provider } from '../interfaces';
-import { Logger } from '../services/logger.service';
-import { randomStringGenerator } from '../utils/random-string-generator.util';
-import {
-  ASYNC_METHOD_SUFFIX,
-  CONFIGURABLE_MODULE_ID,
-  DEFAULT_FACTORY_CLASS_METHOD_KEY,
-  DEFAULT_METHOD_KEY,
-} from './constants';
-import {
-  ConfigurableModuleAsyncOptions,
-  ConfigurableModuleCls,
-  ConfigurableModuleOptionsFactory,
-} from './interfaces';
-import { ConfigurableModuleHost } from './interfaces/configurable-module-host.interface';
-import { generateOptionsInjectionToken } from './utils/generate-options-injection-token.util';
-
-/**
- * @publicApi
- */
-export interface ConfigurableModuleBuilderOptions {
-  /**
-   * Specified what injection token should be used for the module options provider.
-   * By default, an auto-generated UUID will be used.
-   */
-  optionsInjectionToken?: string | symbol;
-  /**
-   * By default, an UUID will be used as a module options provider token.
-   * Explicitly specifying the "moduleName" will instruct the "ConfigurableModuleBuilder"
-   * to use a more descriptive provider token.
-   *
-   * For example, if `moduleName: "Cache"` then auto-generated provider token will be "CACHE_MODULE_OPTIONS".
-   */
-  moduleName?: string;
-  /**
-   * Indicates whether module should always be "transient", meaning,
-   * every time you call the static method to construct a dynamic module,
-   * regardless of what arguments you pass in, a new "unique" module will be created.
-   *
-   * @default false
-   */
-  alwaysTransient?: boolean;
-}
-
-/**
- * Factory that lets you create configurable modules and
- * provides a way to reduce the majority of dynamic module boilerplate.
- *
- * @publicApi
- */
-export class ConfigurableModuleBuilder<
-  ModuleOptions,
-  StaticMethodKey extends string = typeof DEFAULT_METHOD_KEY,
-  FactoryClassMethodKey extends string = typeof DEFAULT_FACTORY_CLASS_METHOD_KEY,
-  ExtraModuleDefinitionOptions = {},
-> {
-  protected staticMethodKey: StaticMethodKey;
-  protected factoryClassMethodKey: FactoryClassMethodKey;
-  protected extras: ExtraModuleDefinitionOptions;
-  protected transformModuleDefinition: (
-    definition: DynamicModule,
-    extraOptions: ExtraModuleDefinitionOptions,
-  ) => DynamicModule;
-
-  protected readonly logger = new Logger(ConfigurableModuleBuilder.name);
-
-  constructor(
-    protected readonly options: ConfigurableModuleBuilderOptions = {},
-    parentBuilder?: ConfigurableModuleBuilder<ModuleOptions>,
-  ) {
-    if (parentBuilder) {
-      this.staticMethodKey = parentBuilder.staticMethodKey as StaticMethodKey;
-      this.factoryClassMethodKey =
-        parentBuilder.factoryClassMethodKey as FactoryClassMethodKey;
-      this.transformModuleDefinition = parentBuilder.transformModuleDefinition;
-      this.extras = parentBuilder.extras as ExtraModuleDefinitionOptions;
-    }
-  }
-
-  /**
-   * Registers the "extras" object (a set of extra options that can be used to modify the dynamic module definition).
-   * Values you specify within the "extras" object will be used as default values (that can be overriden by module consumers).
-   *
-   * This method also applies the so-called "module definition transform function" that takes the auto-generated
-   * dynamic module object ("DynamicModule") and the actual consumer "extras" object as input parameters.
-   * The "extras" object consists of values explicitly specified by module consumers and default values.
-   *
-   * @example
-   * ```typescript
-   * .setExtras<{ isGlobal?: boolean }>({ isGlobal: false }, (definition, extras) =>
-   *    ({ ...definition, global: extras.isGlobal })
-   * )
-   * ```
-   */
-  setExtras<ExtraModuleDefinitionOptions>(
-    extras: ExtraModuleDefinitionOptions,
-    transformDefinition: (
-      definition: DynamicModule,
-      extras: ExtraModuleDefinitionOptions,
-    ) => DynamicModule,
-  ) {
-    const builder = new ConfigurableModuleBuilder<
-      ModuleOptions,
-      StaticMethodKey,
-      FactoryClassMethodKey,
-      ExtraModuleDefinitionOptions
-    >(this.options, this as any);
-    builder.extras = extras;
-    builder.transformModuleDefinition = transformDefinition;
-    return builder;
-  }
-
-  /**
-   * Dynamic modules must expose public static methods that let you pass in
-   * configuration parameters (control the module's behavior from the outside).
-   * Some frequently used names that you may have seen in other modules are:
-   * "forRoot", "forFeature", "register", "configure".
-   *
-   * This method "setClassMethodName" lets you specify the name of the
-   * method that will be auto-generated.
-   *
-   * @param key name of the method
-   */
-  setClassMethodName<StaticMethodKey extends string>(key: StaticMethodKey) {
-    const builder = new ConfigurableModuleBuilder<
-      ModuleOptions,
-      StaticMethodKey,
-      FactoryClassMethodKey,
-      ExtraModuleDefinitionOptions
-    >(this.options, this as any);
-    builder.staticMethodKey = key;
-    return builder;
-  }
-
-  /**
-   * Asynchronously configured modules (that rely on other modules, i.e. "ConfigModule")
-   * let you pass the configuration factory class that will be registered and instantiated as a provider.
-   * This provider then will be used to retrieve the module's configuration. To provide the configuration,
-   * the corresponding factory method must be implemented.
-   *
-   * This method ("setFactoryMethodName") lets you control what method name will have to be
-   * implemented by the config factory (default is "create").
-   *
-   * @param key name of the method
-   */
-  setFactoryMethodName<FactoryClassMethodKey extends string>(
-    key: FactoryClassMethodKey,
-  ) {
-    const builder = new ConfigurableModuleBuilder<
-      ModuleOptions,
-      StaticMethodKey,
-      FactoryClassMethodKey,
-      ExtraModuleDefinitionOptions
-    >(this.options, this as any);
-    builder.factoryClassMethodKey = key;
-    return builder;
-  }
-
-  /**
-   * Returns an object consisting of multiple properties that lets you
-   * easily construct dynamic configurable modules. See "ConfigurableModuleHost" interface for more details.
-   */
-  build(): ConfigurableModuleHost<
-    ModuleOptions,
-    StaticMethodKey,
-    FactoryClassMethodKey,
-    ExtraModuleDefinitionOptions
-  > {
-    this.staticMethodKey ??= DEFAULT_METHOD_KEY as StaticMethodKey;
-    this.factoryClassMethodKey ??=
-      DEFAULT_FACTORY_CLASS_METHOD_KEY as FactoryClassMethodKey;
-    this.options.optionsInjectionToken ??= this.options.moduleName
-      ? this.constructInjectionTokenString()
-      : generateOptionsInjectionToken();
-    this.transformModuleDefinition ??= definition => definition;
-
-    return {
-      ConfigurableModuleClass:
-        this.createConfigurableModuleCls<ModuleOptions>(),
-      MODULE_OPTIONS_TOKEN: this.options.optionsInjectionToken,
-      ASYNC_OPTIONS_TYPE: this.createTypeProxy('ASYNC_OPTIONS_TYPE'),
-      OPTIONS_TYPE: this.createTypeProxy('OPTIONS_TYPE'),
-    };
-  }
-
-  private constructInjectionTokenString(): string {
-    const moduleNameInSnakeCase = this.options.moduleName
-      .trim()
-      .split(/(?=[A-Z])/)
-      .join('_')
-      .toUpperCase();
-    return `${moduleNameInSnakeCase}_MODULE_OPTIONS`;
-  }
-
-  private createConfigurableModuleCls<ModuleOptions>(): ConfigurableModuleCls<
-    ModuleOptions,
-    StaticMethodKey,
-    FactoryClassMethodKey
-  > {
-    // eslint-disable-next-line @typescript-eslint/no-this-alias
-    const self = this;
-    const asyncMethodKey = this.staticMethodKey + ASYNC_METHOD_SUFFIX;
-
-    class InternalModuleClass {
-      static [self.staticMethodKey](
-        options: ModuleOptions & ExtraModuleDefinitionOptions,
-      ): DynamicModule {
-        const providers = [
-          {
-            provide: self.options.optionsInjectionToken,
-            useValue: this.omitExtras(options, self.extras),
-          },
-        ];
-        if (self.options.alwaysTransient) {
-          providers.push({
-            provide: CONFIGURABLE_MODULE_ID,
-            useValue: randomStringGenerator(),
-          });
-        }
-        return self.transformModuleDefinition(
-          {
-            module: this,
-            providers,
-          },
-          options,
-        );
-      }
-
-      static [asyncMethodKey](
-        options: ConfigurableModuleAsyncOptions<ModuleOptions> &
-          ExtraModuleDefinitionOptions,
-      ): DynamicModule {
-        const providers = this.createAsyncProviders(options);
-        if (self.options.alwaysTransient) {
-          providers.push({
-            provide: CONFIGURABLE_MODULE_ID,
-            useValue: randomStringGenerator(),
-          });
-        }
-        return self.transformModuleDefinition(
-          {
-            module: this,
-            imports: options.imports || [],
-            providers,
-          },
-          options,
-        );
-      }
-
-      private static omitExtras(
-        input: ModuleOptions & ExtraModuleDefinitionOptions,
-        extras: ExtraModuleDefinitionOptions | undefined,
-      ): ModuleOptions {
-        if (!extras) {
-          return input;
-        }
-        const moduleOptions = {};
-        const extrasKeys = Object.keys(extras);
-
-        Object.keys(input)
-          .filter(key => !extrasKeys.includes(key))
-          .forEach(key => {
-            moduleOptions[key] = input[key];
-          });
-        return moduleOptions as ModuleOptions;
-      }
-
-      private static createAsyncProviders(
-        options: ConfigurableModuleAsyncOptions<ModuleOptions>,
-      ): Provider[] {
-        if (options.useExisting || options.useFactory) {
-          return [this.createAsyncOptionsProvider(options)];
-        }
-        return [
-          this.createAsyncOptionsProvider(options),
-          {
-            provide: options.useClass,
-            useClass: options.useClass,
-          },
-        ];
-      }
-
-      private static createAsyncOptionsProvider(
-        options: ConfigurableModuleAsyncOptions<ModuleOptions>,
-      ): Provider {
-        if (options.useFactory) {
-          return {
-            provide: self.options.optionsInjectionToken,
-            useFactory: options.useFactory,
-            inject: options.inject || [],
-          };
-        }
-        return {
-          provide: self.options.optionsInjectionToken,
-          useFactory: async (
-            optionsFactory: ConfigurableModuleOptionsFactory<
-              ModuleOptions,
-              FactoryClassMethodKey
-            >,
-          ) =>
-            await optionsFactory[
-              self.factoryClassMethodKey as keyof typeof optionsFactory
-            ](),
-          inject: [options.useExisting || options.useClass],
-        };
-      }
-    }
-    return InternalModuleClass as unknown as ConfigurableModuleCls<
-      ModuleOptions,
-      StaticMethodKey,
-      FactoryClassMethodKey
-    >;
-  }
-
-  private createTypeProxy(
-    typeName: 'OPTIONS_TYPE' | 'ASYNC_OPTIONS_TYPE' | 'OptionsFactoryInterface',
-  ) {
-    const proxy = new Proxy(
-      {},
-      {
-        get: () => {
-          throw new Error(
-            `"${typeName}" is not supposed to be used as a value.`,
-          );
-        },
-      },
-    );
-    return proxy as any;
-  }
-}
diff --git a/packages/common/module-utils/constants.ts b/packages/common/module-utils/constants.ts
deleted file mode 100644
index 2d97c0c8c..000000000
--- a/packages/common/module-utils/constants.ts
+++ /dev/null
@@ -1,5 +0,0 @@
-export const DEFAULT_METHOD_KEY = 'register';
-export const DEFAULT_FACTORY_CLASS_METHOD_KEY = 'create';
-
-export const ASYNC_METHOD_SUFFIX = 'Async';
-export const CONFIGURABLE_MODULE_ID = 'CONFIGURABLE_MODULE_ID';
diff --git a/packages/common/module-utils/index.ts b/packages/common/module-utils/index.ts
deleted file mode 100644
index 4393992bd..000000000
--- a/packages/common/module-utils/index.ts
+++ /dev/null
@@ -1,2 +0,0 @@
-export * from './configurable-module.builder';
-export * from './interfaces';
diff --git a/packages/common/module-utils/interfaces/configurable-module-async-options.interface.ts b/packages/common/module-utils/interfaces/configurable-module-async-options.interface.ts
deleted file mode 100644
index 56f7040e4..000000000
--- a/packages/common/module-utils/interfaces/configurable-module-async-options.interface.ts
+++ /dev/null
@@ -1,51 +0,0 @@
-import { FactoryProvider, ModuleMetadata, Type } from '../../interfaces';
-import { DEFAULT_FACTORY_CLASS_METHOD_KEY } from '../constants';
-
-/**
- * Interface that must be implemented by the module options factory class.
- * Method key varies depending on the "FactoryClassMethodKey" type argument.
- *
- * @publicApi
- */
-export type ConfigurableModuleOptionsFactory<
-  ModuleOptions,
-  FactoryClassMethodKey extends string,
-> = Record<
-  `${FactoryClassMethodKey}`,
-  () => Promise<ModuleOptions> | ModuleOptions
->;
-
-/**
- * Interface that represents the module async options object
- * Factory method name varies depending on the "FactoryClassMethodKey" type argument.
- *
- * @publicApi
- */
-export interface ConfigurableModuleAsyncOptions<
-  ModuleOptions,
-  FactoryClassMethodKey extends string = typeof DEFAULT_FACTORY_CLASS_METHOD_KEY,
-> extends Pick<ModuleMetadata, 'imports'> {
-  /**
-   * Injection token resolving to an existing provider. The provider must implement
-   * the corresponding interface.
-   */
-  useExisting?: Type<
-    ConfigurableModuleOptionsFactory<ModuleOptions, FactoryClassMethodKey>
-  >;
-  /**
-   * Injection token resolving to a class that will be instantiated as a provider.
-   * The class must implement the corresponding interface.
-   */
-  useClass?: Type<
-    ConfigurableModuleOptionsFactory<ModuleOptions, FactoryClassMethodKey>
-  >;
-  /**
-   * Function returning options (or a Promise resolving to options) to configure the
-   * cache module.
-   */
-  useFactory?: (...args: unknown[]) => Promise<ModuleOptions> | ModuleOptions;
-  /**
-   * Dependencies that a Factory may inject.
-   */
-  inject?: FactoryProvider['inject'];
-}
diff --git a/packages/common/module-utils/interfaces/configurable-module-cls.interface.ts b/packages/common/module-utils/interfaces/configurable-module-cls.interface.ts
deleted file mode 100644
index e01c706be..000000000
--- a/packages/common/module-utils/interfaces/configurable-module-cls.interface.ts
+++ /dev/null
@@ -1,35 +0,0 @@
-import { DynamicModule } from '../../interfaces';
-import {
-  DEFAULT_FACTORY_CLASS_METHOD_KEY,
-  DEFAULT_METHOD_KEY,
-} from '../constants';
-import { ConfigurableModuleAsyncOptions } from './configurable-module-async-options.interface';
-
-/**
- * Class that represents a blueprint/prototype for a configurable Nest module.
- * This class provides static methods for constructing dynamic modules. Their names
- * can be controlled through the "MethodKey" type argument.
- *
- * @publicApi
- */
-export type ConfigurableModuleCls<
-  ModuleOptions,
-  MethodKey extends string = typeof DEFAULT_METHOD_KEY,
-  FactoryClassMethodKey extends string = typeof DEFAULT_FACTORY_CLASS_METHOD_KEY,
-  ExtraModuleDefinitionOptions = {},
-> = {
-  new (): any;
-} & Record<
-  `${MethodKey}`,
-  (options: ModuleOptions & ExtraModuleDefinitionOptions) => DynamicModule
-> &
-  Record<
-    `${MethodKey}Async`,
-    (
-      options: ConfigurableModuleAsyncOptions<
-        ModuleOptions,
-        FactoryClassMethodKey
-      > &
-        ExtraModuleDefinitionOptions,
-    ) => DynamicModule
-  >;
diff --git a/packages/common/module-utils/interfaces/configurable-module-host.interface.ts b/packages/common/module-utils/interfaces/configurable-module-host.interface.ts
deleted file mode 100644
index 6a652ecce..000000000
--- a/packages/common/module-utils/interfaces/configurable-module-host.interface.ts
+++ /dev/null
@@ -1,77 +0,0 @@
-import { ConfigurableModuleAsyncOptions } from './configurable-module-async-options.interface';
-import { ConfigurableModuleCls } from './configurable-module-cls.interface';
-
-/**
- * Configurable module host. See properties for more details
- *
- * @publicApi
- */
-export interface ConfigurableModuleHost<
-  ModuleOptions = Record<string, unknown>,
-  MethodKey extends string = string,
-  FactoryClassMethodKey extends string = string,
-  ExtraModuleDefinitionOptions = {},
-> {
-  /**
-   * Class that represents a blueprint/prototype for a configurable Nest module.
-   * This class provides static methods for constructing dynamic modules. Their names
-   * can be controlled through the "MethodKey" type argument.
-   *
-   * Your module class should inherit from this class to make the static methods available.
-   *
-   * @example
-   * ```typescript
-   * @Module({})
-   * class IntegrationModule extends ConfigurableModuleCls {
-   *  // ...
-   * }
-   * ```
-   */
-  ConfigurableModuleClass: ConfigurableModuleCls<
-    ModuleOptions,
-    MethodKey,
-    FactoryClassMethodKey,
-    ExtraModuleDefinitionOptions
-  >;
-  /**
-   * Module options provider token. Can be used to inject the "options object" to
-   * providers registered within the host module.
-   */
-  MODULE_OPTIONS_TOKEN: string | symbol;
-  /**
-   * Can be used to auto-infer the compound "async module options" type.
-   * Note: this property is not supposed to be used as a value.
-   *
-   * @example
-   * ```typescript
-   * @Module({})
-   * class IntegrationModule extends ConfigurableModuleCls {
-   *  static module = initializer(IntegrationModule);
-   *
-   * static registerAsync(options: typeof ASYNC_OPTIONS_TYPE): DynamicModule {
-   *  return super.registerAsync(options);
-   * }
-   * ```
-   */
-  ASYNC_OPTIONS_TYPE: ConfigurableModuleAsyncOptions<
-    ModuleOptions,
-    FactoryClassMethodKey
-  > &
-    ExtraModuleDefinitionOptions;
-  /**
-   * Can be used to auto-infer the compound "module options" type (options interface + extra module definition options).
-   * Note: this property is not supposed to be used as a value.
-   *
-   * @example
-   * ```typescript
-   * @Module({})
-   * class IntegrationModule extends ConfigurableModuleCls {
-   *  static module = initializer(IntegrationModule);
-   *
-   * static register(options: typeof OPTIONS_TYPE): DynamicModule {
-   *  return super.register(options);
-   * }
-   * ```
-   */
-  OPTIONS_TYPE: ModuleOptions & ExtraModuleDefinitionOptions;
-}
diff --git a/packages/common/module-utils/interfaces/index.ts b/packages/common/module-utils/interfaces/index.ts
deleted file mode 100644
index 35c523076..000000000
--- a/packages/common/module-utils/interfaces/index.ts
+++ /dev/null
@@ -1,3 +0,0 @@
-export * from './configurable-module-async-options.interface';
-export * from './configurable-module-cls.interface';
-export * from './configurable-module-host.interface';
diff --git a/packages/common/module-utils/utils/generate-options-injection-token.util.ts b/packages/common/module-utils/utils/generate-options-injection-token.util.ts
deleted file mode 100644
index 259a6afa3..000000000
--- a/packages/common/module-utils/utils/generate-options-injection-token.util.ts
+++ /dev/null
@@ -1,6 +0,0 @@
-import { randomStringGenerator } from '../../utils/random-string-generator.util';
-
-export function generateOptionsInjectionToken() {
-  const hash = randomStringGenerator();
-  return `CONFIGURABLE_MODULE_OPTIONS[${hash}]`;
-}
diff --git a/packages/common/package.json b/packages/common/package.json
index 8bc6a0f42..7760c4afa 100644
--- a/packages/common/package.json
+++ b/packages/common/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/common",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@common)",
   "author": "Kamil Mysliwiec",
   "homepage": "https://nestjs.com",
@@ -17,6 +17,7 @@
   },
   "license": "MIT",
   "dependencies": {
+    "axios": "0.27.2",
     "iterare": "1.2.1",
     "tslib": "2.4.0",
     "uuid": "8.3.2"
diff --git a/packages/common/pipes/file/file-type.validator.ts b/packages/common/pipes/file/file-type.validator.ts
deleted file mode 100644
index 240d3efe8..000000000
--- a/packages/common/pipes/file/file-type.validator.ts
+++ /dev/null
@@ -1,36 +0,0 @@
-import { FileValidator } from './file-validator.interface';
-
-export type FileTypeValidatorOptions = {
-  fileType: string | RegExp;
-};
-
-/**
- * Defines the built-in FileType File Validator. It validates incoming files mime-type
- * matching a string or a regular expression. Note that this validator uses a naive strategy
- * to check the mime-type and could be fooled if the client provided a file with renamed extension.
- * (for instance, renaming a 'malicious.bat' to 'malicious.jpeg'). To handle such security issues
- * with more reliability, consider checking against the file's [magic-numbers](https://en.wikipedia.org/wiki/Magic_number_%28programming%29)
- *
- * @see [File Validators](https://docs.nestjs.com/techniques/file-upload#validators)
- *
- * @publicApi
- */
-export class FileTypeValidator extends FileValidator<FileTypeValidatorOptions> {
-  buildErrorMessage(): string {
-    return `Validation failed (expected type is ${this.validationOptions.fileType})`;
-  }
-
-  isValid(file: any): boolean {
-    if (!this.validationOptions) {
-      return true;
-    }
-
-    if (!file.mimetype) {
-      return false;
-    }
-
-    return Boolean(
-      (file.mimetype as string).match(this.validationOptions.fileType),
-    );
-  }
-}
diff --git a/packages/common/pipes/file/file-validator.interface.ts b/packages/common/pipes/file/file-validator.interface.ts
deleted file mode 100644
index ad453cdae..000000000
--- a/packages/common/pipes/file/file-validator.interface.ts
+++ /dev/null
@@ -1,18 +0,0 @@
-/**
- * Interface describing FileValidators, which can be added to a {@link ParseFilePipe}.
- */
-export abstract class FileValidator<TValidationOptions = Record<string, any>> {
-  constructor(protected readonly validationOptions: TValidationOptions) {}
-
-  /**
-   * Indicates if this file should be considered valid, according to the options passed in the constructor.
-   * @param file the file from the request object
-   */
-  abstract isValid(file?: any): boolean | Promise<boolean>;
-
-  /**
-   * Builds an error message in case the validation fails.
-   * @param file the file from the request object
-   */
-  abstract buildErrorMessage(file: any): string;
-}
diff --git a/packages/common/pipes/file/index.ts b/packages/common/pipes/file/index.ts
deleted file mode 100644
index 11d19e318..000000000
--- a/packages/common/pipes/file/index.ts
+++ /dev/null
@@ -1,6 +0,0 @@
-export * from './file-type.validator';
-export * from './file-validator.interface';
-export * from './max-file-size.validator';
-export * from './parse-file-options.interface';
-export * from './parse-file.pipe';
-export * from './parse-file-pipe.builder';
diff --git a/packages/common/pipes/file/max-file-size.validator.ts b/packages/common/pipes/file/max-file-size.validator.ts
deleted file mode 100644
index 847ee19f0..000000000
--- a/packages/common/pipes/file/max-file-size.validator.ts
+++ /dev/null
@@ -1,26 +0,0 @@
-import { FileValidator } from './file-validator.interface';
-
-export type MaxFileSizeValidatorOptions = {
-  maxSize: number;
-};
-
-/**
- * Defines the built-in MaxSize File Validator
- *
- * @see [File Validators](https://docs.nestjs.com/techniques/file-upload#validators)
- *
- * @publicApi
- */
-export class MaxFileSizeValidator extends FileValidator<MaxFileSizeValidatorOptions> {
-  buildErrorMessage(): string {
-    return `Validation failed (expected size is less than ${this.validationOptions.maxSize})`;
-  }
-
-  public isValid(file: any): boolean {
-    if (!this.validationOptions) {
-      return true;
-    }
-
-    return file.size < this.validationOptions.maxSize;
-  }
-}
diff --git a/packages/common/pipes/file/parse-file-options.interface.ts b/packages/common/pipes/file/parse-file-options.interface.ts
deleted file mode 100644
index e74630999..000000000
--- a/packages/common/pipes/file/parse-file-options.interface.ts
+++ /dev/null
@@ -1,8 +0,0 @@
-import { ErrorHttpStatusCode } from '../../utils/http-error-by-code.util';
-import { FileValidator } from './file-validator.interface';
-
-export interface ParseFileOptions {
-  validators?: FileValidator[];
-  errorHttpStatusCode?: ErrorHttpStatusCode;
-  exceptionFactory?: (error: string) => any;
-}
diff --git a/packages/common/pipes/file/parse-file-pipe.builder.ts b/packages/common/pipes/file/parse-file-pipe.builder.ts
deleted file mode 100644
index 7835322d9..000000000
--- a/packages/common/pipes/file/parse-file-pipe.builder.ts
+++ /dev/null
@@ -1,37 +0,0 @@
-import {
-  FileTypeValidator,
-  FileTypeValidatorOptions,
-} from './file-type.validator';
-import { FileValidator } from './file-validator.interface';
-import {
-  MaxFileSizeValidator,
-  MaxFileSizeValidatorOptions,
-} from './max-file-size.validator';
-import { ParseFileOptions } from './parse-file-options.interface';
-import { ParseFilePipe } from './parse-file.pipe';
-
-export class ParseFilePipeBuilder {
-  private validators: FileValidator[] = [];
-
-  addMaxSizeValidator(options: MaxFileSizeValidatorOptions) {
-    this.validators.push(new MaxFileSizeValidator(options));
-    return this;
-  }
-
-  addFileTypeValidator(options: FileTypeValidatorOptions) {
-    this.validators.push(new FileTypeValidator(options));
-    return this;
-  }
-
-  build(
-    additionalOptions?: Omit<ParseFileOptions, 'validators'>,
-  ): ParseFilePipe {
-    const parseFilePipe = new ParseFilePipe({
-      ...additionalOptions,
-      validators: this.validators,
-    });
-
-    this.validators = [];
-    return parseFilePipe;
-  }
-}
diff --git a/packages/common/pipes/file/parse-file.pipe.ts b/packages/common/pipes/file/parse-file.pipe.ts
deleted file mode 100644
index e952c38f5..000000000
--- a/packages/common/pipes/file/parse-file.pipe.ts
+++ /dev/null
@@ -1,68 +0,0 @@
-import { Injectable, Optional } from '../../decorators/core';
-import { HttpStatus } from '../../enums';
-import { HttpErrorByCode } from '../../utils/http-error-by-code.util';
-import { PipeTransform } from '../../interfaces/features/pipe-transform.interface';
-import { ParseFileOptions } from './parse-file-options.interface';
-import { FileValidator } from './file-validator.interface';
-import { throws } from 'assert';
-
-/**
- * Defines the built-in ParseFile Pipe. This pipe can be used to validate incoming files
- * with `@UploadedFile()` decorator. You can use either other specific built-in validators
- * or provide one of your own, simply implementing it through {@link FileValidator}
- * interface and adding it to ParseFilePipe's constructor.
- *
- * @see [Built-in Pipes](https://docs.nestjs.com/pipes#built-in-pipes)
- *
- * @publicApi
- */
-@Injectable()
-export class ParseFilePipe implements PipeTransform<any> {
-  protected exceptionFactory: (error: string) => any;
-  private readonly validators: FileValidator[];
-
-  constructor(@Optional() options: ParseFileOptions = {}) {
-    const {
-      exceptionFactory,
-      errorHttpStatusCode = HttpStatus.BAD_REQUEST,
-      validators = [],
-    } = options;
-
-    this.exceptionFactory =
-      exceptionFactory ||
-      (error => new HttpErrorByCode[errorHttpStatusCode](error));
-
-    this.validators = validators;
-  }
-
-  async transform(value: any): Promise<any> {
-    if (this.validators.length) {
-      await this.validate(value);
-    }
-    return value;
-  }
-
-  protected async validate(file: any): Promise<any> {
-    for (const validator of this.validators) {
-      await this.validateOrThrow(file, validator);
-    }
-
-    return file;
-  }
-
-  private async validateOrThrow(file: any, validator: FileValidator) {
-    const isValid = await validator.isValid(file);
-
-    if (!isValid) {
-      const errorMessage = validator.buildErrorMessage(file);
-      throw this.exceptionFactory(errorMessage);
-    }
-  }
-
-  /**
-   * @returns list of validators used in this pipe.
-   */
-  getValidators() {
-    return this.validators;
-  }
-}
diff --git a/packages/common/pipes/index.ts b/packages/common/pipes/index.ts
index ebbc55f27..a69365493 100644
--- a/packages/common/pipes/index.ts
+++ b/packages/common/pipes/index.ts
@@ -6,4 +6,3 @@ export * from './parse-float.pipe';
 export * from './parse-enum.pipe';
 export * from './parse-uuid.pipe';
 export * from './validation.pipe';
-export * from './file';
diff --git a/packages/common/pipes/parse-uuid.pipe.ts b/packages/common/pipes/parse-uuid.pipe.ts
index 81fe2b4c1..2679e8f93 100644
--- a/packages/common/pipes/parse-uuid.pipe.ts
+++ b/packages/common/pipes/parse-uuid.pipe.ts
@@ -9,7 +9,7 @@ import {
   ErrorHttpStatusCode,
   HttpErrorByCode,
 } from '../utils/http-error-by-code.util';
-import { isString } from '../utils/shared.utils';
+import { isUUID } from '../utils/is-uuid';
 
 export interface ParseUUIDPipeOptions {
   version?: '3' | '4' | '5';
@@ -19,12 +19,6 @@ export interface ParseUUIDPipeOptions {
 
 @Injectable()
 export class ParseUUIDPipe implements PipeTransform<string> {
-  protected static uuidRegExps = {
-    3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
-    4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
-    5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
-    all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
-  };
   private readonly version: '3' | '4' | '5';
   protected exceptionFactory: (errors: string) => any;
 
@@ -41,23 +35,14 @@ export class ParseUUIDPipe implements PipeTransform<string> {
       exceptionFactory ||
       (error => new HttpErrorByCode[errorHttpStatusCode](error));
   }
-
   async transform(value: string, metadata: ArgumentMetadata): Promise<string> {
-    if (!this.isUUID(value, this.version)) {
+    if (!isUUID(value, this.version)) {
       throw this.exceptionFactory(
-        `Validation failed (uuid${
-          this.version ? ` v ${this.version}` : ''
+        `Validation failed (uuid ${
+          this.version ? 'v' + this.version : ''
         } is expected)`,
       );
     }
     return value;
   }
-
-  protected isUUID(str: unknown, version = 'all') {
-    if (!isString(str)) {
-      throw this.exceptionFactory('The value passed as UUID is not a string');
-    }
-    const pattern = ParseUUIDPipe.uuidRegExps[version];
-    return pattern?.test(str);
-  }
 }
diff --git a/packages/common/services/logger.service.ts b/packages/common/services/logger.service.ts
index 6f7f38712..962822b13 100644
--- a/packages/common/services/logger.service.ts
+++ b/packages/common/services/logger.service.ts
@@ -270,7 +270,7 @@ export class Logger implements LoggerService {
     }
     if (isObject(logger)) {
       if (logger instanceof Logger && logger.constructor !== Logger) {
-        const errorMessage = `Using the "extends Logger" instruction is not allowed in Nest v9. Please, use "extends ConsoleLogger" instead.`;
+        const errorMessage = `Using the "extends Logger" instruction is not allowed in Nest v8. Please, use "extends ConsoleLogger" instead.`;
         this.staticInstanceRef.error(errorMessage);
         throw new Error(errorMessage);
       }
diff --git a/packages/common/utils/cli-colors.util.ts b/packages/common/utils/cli-colors.util.ts
index 738fbc6d3..8efd61670 100644
--- a/packages/common/utils/cli-colors.util.ts
+++ b/packages/common/utils/cli-colors.util.ts
@@ -5,7 +5,6 @@ const colorIfAllowed = (colorFn: ColorTextFn) => (text: string) =>
   isColorAllowed() ? colorFn(text) : text;
 
 export const clc = {
-  bold: colorIfAllowed((text: string) => `\x1B[1m${text}\x1B[0m`),
   green: colorIfAllowed((text: string) => `\x1B[32m${text}\x1B[39m`),
   yellow: colorIfAllowed((text: string) => `\x1B[33m${text}\x1B[39m`),
   red: colorIfAllowed((text: string) => `\x1B[31m${text}\x1B[39m`),
diff --git a/packages/common/utils/is-uuid.ts b/packages/common/utils/is-uuid.ts
new file mode 100644
index 000000000..0e9572f4d
--- /dev/null
+++ b/packages/common/utils/is-uuid.ts
@@ -0,0 +1,17 @@
+import { BadRequestException } from '../exceptions';
+import { isString } from './shared.utils';
+
+const uuid = {
+  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
+  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
+  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
+  all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
+};
+
+export function isUUID(str: any, version = 'all') {
+  if (!isString(str)) {
+    throw new BadRequestException('The value passed as UUID is not a string');
+  }
+  const pattern = uuid[version];
+  return pattern && pattern.test(str);
+}
diff --git a/packages/common/utils/shared.utils.ts b/packages/common/utils/shared.utils.ts
index 4f9ff6eea..cee2e0973 100644
--- a/packages/common/utils/shared.utils.ts
+++ b/packages/common/utils/shared.utils.ts
@@ -31,6 +31,12 @@ export const addLeadingSlash = (path?: string): string =>
       : path
     : '';
 
+/**
+ * Deprecated. Use the "addLeadingSlash" function instead.
+ * @deprecated
+ */
+export const validatePath = addLeadingSlash;
+
 export const normalizePath = (path?: string): string =>
   path
     ? path.startsWith('/')
diff --git a/packages/core/Readme.md b/packages/core/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/core/Readme.md
+++ b/packages/core/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/core/adapters/http-adapter.ts b/packages/core/adapters/http-adapter.ts
index ab94905a2..526afab38 100644
--- a/packages/core/adapters/http-adapter.ts
+++ b/packages/core/adapters/http-adapter.ts
@@ -1,5 +1,5 @@
-import { HttpServer, RequestMethod, VersioningOptions } from '@nestjs/common';
-import { RequestHandler, VersionValue } from '@nestjs/common/interfaces';
+import { HttpServer, RequestMethod } from '@nestjs/common';
+import { RequestHandler } from '@nestjs/common/interfaces';
 import {
   CorsOptions,
   CorsOptionsDelegate,
@@ -105,12 +105,10 @@ export abstract class AbstractHttpAdapter<
   abstract getRequestUrl(request);
   abstract status(response, statusCode: number);
   abstract reply(response, body: any, statusCode?: number);
-  abstract end(response, message?: string);
   abstract render(response, view: string, options: any);
   abstract redirect(response, statusCode: number, url: string);
   abstract setErrorHandler(handler: Function, prefix?: string);
   abstract setNotFoundHandler(handler: Function, prefix?: string);
-  abstract isHeadersSent(response);
   abstract setHeader(response, name: string, value: string);
   abstract registerParserMiddleware(prefix?: string, rawBody?: boolean);
   abstract enableCors(
@@ -123,9 +121,4 @@ export abstract class AbstractHttpAdapter<
     | ((path: string, callback: Function) => any)
     | Promise<(path: string, callback: Function) => any>;
   abstract getType(): string;
-  abstract applyVersionFilter(
-    handler: Function,
-    version: VersionValue,
-    versioningOptions: VersioningOptions,
-  ): (req: TRequest, res: TResponse, next: () => void) => Function;
 }
diff --git a/packages/core/errors/messages.ts b/packages/core/errors/messages.ts
index b0a26e8d1..209260359 100644
--- a/packages/core/errors/messages.ts
+++ b/packages/core/errors/messages.ts
@@ -121,11 +121,11 @@ export const USING_INVALID_CLASS_AS_A_MODULE_MESSAGE = (
   metatypeUsedAsAModule: Type | ForwardReference,
   scope: any[],
 ) => {
-  const metatypeNameQuote =
-    `"${getInstanceName(metatypeUsedAsAModule)}"` || 'that class';
+  const metatypeName = getInstanceName(metatypeUsedAsAModule) || 'found';
 
-  return `Classes annotated with @Injectable(), @Catch(), and @Controller() decorators must not appear in the "imports" array of a module.
-Please remove ${metatypeNameQuote} (including forwarded occurrences, if any) from all of the "imports" arrays.
+  // TODO(v9): Edit the message below:
+  return `In the next major version, Nest will not allow classes annotated with @Injectable(), @Catch(), and @Controller() decorators to appear in the "imports" array of a module.
+Please remove "${metatypeName}" (including forwarded occurrences, if any) from all of the "imports" arrays.
 
 Scope [${stringifyScope(scope)}]
 `;
diff --git a/packages/core/exceptions/base-exception-filter.ts b/packages/core/exceptions/base-exception-filter.ts
index bc3784501..ea360e84a 100644
--- a/packages/core/exceptions/base-exception-filter.ts
+++ b/packages/core/exceptions/base-exception-filter.ts
@@ -38,12 +38,7 @@ export class BaseExceptionFilter<T = any> implements ExceptionFilter<T> {
           message: res,
         };
 
-    const response = host.getArgByIndex(1);
-    if (!applicationRef.isHeadersSent(response)) {
-      applicationRef.reply(response, message, exception.getStatus());
-    } else {
-      applicationRef.end(response);
-    }
+    applicationRef.reply(host.getArgByIndex(1), message, exception.getStatus());
   }
 
   public handleUnknownError(
@@ -60,14 +55,7 @@ export class BaseExceptionFilter<T = any> implements ExceptionFilter<T> {
           statusCode: HttpStatus.INTERNAL_SERVER_ERROR,
           message: MESSAGES.UNKNOWN_EXCEPTION_MESSAGE,
         };
-
-    const response = host.getArgByIndex(1);
-    if (!applicationRef.isHeadersSent(response)) {
-      applicationRef.reply(response, body, body.statusCode);
-    } else {
-      applicationRef.end(response);
-    }
-
+    applicationRef.reply(host.getArgByIndex(1), body, body.statusCode);
     if (this.isExceptionObject(exception)) {
       return BaseExceptionFilter.logger.error(
         exception.message,
diff --git a/packages/core/helpers/context-id-factory.ts b/packages/core/helpers/context-id-factory.ts
index 4b1119e3b..99506220b 100644
--- a/packages/core/helpers/context-id-factory.ts
+++ b/packages/core/helpers/context-id-factory.ts
@@ -1,4 +1,4 @@
-import { ContextId, HostComponentInfo } from '../injector/instance-wrapper';
+import { ContextId } from '../injector/instance-wrapper';
 import { REQUEST_CONTEXT_ID } from '../router/request/request-constants';
 
 export function createContextId(): ContextId {
@@ -13,23 +13,7 @@ export function createContextId(): ContextId {
   return { id: Math.random() };
 }
 
-export interface ContextIdStrategy<T = any> {
-  /**
-   * Allows to attach a parent context id to the existing child context id.
-   * This lets you construct durable DI sub-trees that can be shared between contexts.
-   * @param contextId auto-generated child context id
-   * @param request request object
-   * @returns a context id resolver function
-   */
-  attach(
-    contextId: ContextId,
-    request: T,
-  ): ((info: HostComponentInfo) => ContextId) | undefined;
-}
-
 export class ContextIdFactory {
-  private static strategy?: ContextIdStrategy;
-
   /**
    * Generates a context identifier based on the request object.
    */
@@ -56,20 +40,6 @@ export class ContextIdFactory {
         return request[key][REQUEST_CONTEXT_ID];
       }
     }
-    if (!this.strategy) {
-      return ContextIdFactory.create();
-    }
-    const contextId = createContextId();
-    contextId.getParent = this.strategy.attach(contextId, request);
-    return contextId;
-  }
-
-  /**
-   * Registers a custom context id strategy that lets you attach
-   * a parent context id to the existing context id object.
-   * @param strategy strategy instance
-   */
-  public static apply(strategy: ContextIdStrategy) {
-    this.strategy = strategy;
+    return ContextIdFactory.create();
   }
 }
diff --git a/packages/core/helpers/is-durable.ts b/packages/core/helpers/is-durable.ts
deleted file mode 100644
index 377c84f18..000000000
--- a/packages/core/helpers/is-durable.ts
+++ /dev/null
@@ -1,7 +0,0 @@
-import { SCOPE_OPTIONS_METADATA } from '@nestjs/common/constants';
-import { Type } from '@nestjs/common/interfaces/type.interface';
-
-export function isDurable(provider: Type<unknown>): boolean | undefined {
-  const metadata = Reflect.getMetadata(SCOPE_OPTIONS_METADATA, provider);
-  return metadata && metadata.durable;
-}
diff --git a/packages/core/index.ts b/packages/core/index.ts
index 1babf6c15..ebc30ca4c 100644
--- a/packages/core/index.ts
+++ b/packages/core/index.ts
@@ -18,6 +18,5 @@ export * from './middleware';
 export * from './nest-application';
 export * from './nest-application-context';
 export { NestFactory } from './nest-factory';
-export * from './repl';
 export * from './router';
 export * from './services';
diff --git a/packages/core/injector/helpers/provider-classifier.ts b/packages/core/injector/helpers/provider-classifier.ts
deleted file mode 100644
index b883a4ea8..000000000
--- a/packages/core/injector/helpers/provider-classifier.ts
+++ /dev/null
@@ -1,26 +0,0 @@
-import {
-  ClassProvider,
-  FactoryProvider,
-  Provider,
-  ValueProvider,
-} from '@nestjs/common';
-import { isUndefined } from '@nestjs/common/utils/shared.utils';
-
-export function isClassProvider<T = any>(
-  provider: Provider,
-): provider is ClassProvider<T> {
-  return Boolean((provider as ClassProvider<T>)?.useClass);
-}
-
-export function isValueProvider<T = any>(
-  provider: Provider,
-): provider is ValueProvider<T> {
-  const providerValue = (provider as ValueProvider)?.useValue;
-  return !isUndefined(providerValue);
-}
-
-export function isFactoryProvider<T = any>(
-  provider: Provider,
-): provider is FactoryProvider<T> {
-  return Boolean((provider as FactoryProvider).useFactory);
-}
diff --git a/packages/core/injector/index.ts b/packages/core/injector/index.ts
index 4abbe0bb6..6eb81c89c 100644
--- a/packages/core/injector/index.ts
+++ b/packages/core/injector/index.ts
@@ -1,6 +1,6 @@
 export * from './container';
 export * from './inquirer';
-export { ContextId, HostComponentInfo } from './instance-wrapper';
+export { ContextId } from './instance-wrapper';
 export * from './lazy-module-loader';
 export * from './module-ref';
 export * from './modules-container';
diff --git a/packages/core/injector/injector.ts b/packages/core/injector/injector.ts
index ed1a5bfc8..d4e8c232d 100644
--- a/packages/core/injector/injector.ts
+++ b/packages/core/injector/injector.ts
@@ -106,16 +106,9 @@ export class Injector {
     inquirer?: InstanceWrapper,
   ) {
     const inquirerId = this.getInquirerId(inquirer);
-    const instanceHost = wrapper.getInstanceByContextId(
-      this.getContextId(contextId, wrapper),
-      inquirerId,
-    );
+    const instanceHost = wrapper.getInstanceByContextId(contextId, inquirerId);
     if (instanceHost.isPending) {
-      return instanceHost.donePromise.then((err?: unknown) => {
-        if (err) {
-          throw err;
-        }
-      });
+      return instanceHost.donePromise;
     }
     const done = this.applyDoneHook(instanceHost);
     const token = wrapper.token || wrapper.name;
@@ -128,39 +121,34 @@ export class Injector {
     if (instanceHost.isResolved) {
       return done();
     }
-    try {
-      const callback = async (instances: unknown[]) => {
-        const properties = await this.resolveProperties(
-          wrapper,
-          moduleRef,
-          inject as InjectionToken[],
-          contextId,
-          wrapper,
-          inquirer,
-        );
-        const instance = await this.instantiateClass(
-          instances,
-          wrapper,
-          targetWrapper,
-          contextId,
-          inquirer,
-        );
-        this.applyProperties(instance, properties);
-        done();
-      };
-      await this.resolveConstructorParams<T>(
+    const callback = async (instances: unknown[]) => {
+      const properties = await this.resolveProperties(
         wrapper,
         moduleRef,
         inject as InjectionToken[],
-        callback,
         contextId,
         wrapper,
         inquirer,
       );
-    } catch (err) {
-      done(err);
-      throw err;
-    }
+      const instance = await this.instantiateClass(
+        instances,
+        wrapper,
+        targetWrapper,
+        contextId,
+        inquirer,
+      );
+      this.applyProperties(instance, properties);
+      done();
+    };
+    await this.resolveConstructorParams<T>(
+      wrapper,
+      moduleRef,
+      inject as InjectionToken[],
+      callback,
+      contextId,
+      wrapper,
+      inquirer,
+    );
   }
 
   public async loadMiddleware(
@@ -234,11 +222,9 @@ export class Injector {
     await this.loadEnhancersPerContext(wrapper, contextId, wrapper);
   }
 
-  public applyDoneHook<T>(
-    wrapper: InstancePerContext<T>,
-  ): (err?: unknown) => void {
-    let done: (err?: unknown) => void;
-    wrapper.donePromise = new Promise<unknown>((resolve, reject) => {
+  public applyDoneHook<T>(wrapper: InstancePerContext<T>): () => void {
+    let done: () => void;
+    wrapper.donePromise = new Promise<void>((resolve, reject) => {
       done = resolve;
     });
     wrapper.isPending = true;
@@ -292,7 +278,7 @@ export class Injector {
           index,
         );
         const instanceHost = paramWrapper.getInstanceByContextId(
-          this.getContextId(contextId, paramWrapper),
+          contextId,
           inquirerId,
         );
         if (!instanceHost.isResolved && !paramWrapper.forwardRef) {
@@ -448,7 +434,7 @@ export class Injector {
   ): Promise<InstanceWrapper> {
     const inquirerId = this.getInquirerId(inquirer);
     const instanceHost = instanceWrapper.getInstanceByContextId(
-      this.getContextId(contextId, instanceWrapper),
+      contextId,
       inquirerId,
     );
     if (!instanceHost.isResolved && !instanceWrapper.forwardRef) {
@@ -477,7 +463,7 @@ export class Injector {
     }
     if (instanceWrapper.async) {
       const host = instanceWrapper.getInstanceByContextId(
-        this.getContextId(contextId, instanceWrapper),
+        contextId,
         inquirerId,
       );
       host.instance = await host.instance;
@@ -598,7 +584,7 @@ export class Injector {
 
       const inquirerId = this.getInquirerId(inquirer);
       const instanceHost = instanceWrapperRef.getInstanceByContextId(
-        this.getContextId(contextId, instanceWrapperRef),
+        contextId,
         inquirerId,
       );
       if (!instanceHost.isResolved && !instanceWrapperRef.forwardRef) {
@@ -654,7 +640,7 @@ export class Injector {
           }
           const inquirerId = this.getInquirerId(inquirer);
           const instanceHost = paramWrapper.getInstanceByContextId(
-            this.getContextId(contextId, paramWrapper),
+            contextId,
             inquirerId,
           );
           return instanceHost.instance;
@@ -706,7 +692,7 @@ export class Injector {
     const { metatype, inject } = wrapper;
     const inquirerId = this.getInquirerId(inquirer);
     const instanceHost = targetMetatype.getInstanceByContextId(
-      this.getContextId(contextId, targetMetatype),
+      contextId,
       inquirerId,
     );
     const isInContext =
@@ -746,10 +732,7 @@ export class Injector {
     await this.loadInstance(wrapper, collection, moduleRef, ctx, wrapper);
     await this.loadEnhancersPerContext(wrapper, ctx, wrapper);
 
-    const host = wrapper.getInstanceByContextId(
-      this.getContextId(ctx, wrapper),
-      wrapper.id,
-    );
+    const host = wrapper.getInstanceByContextId(ctx, wrapper.id);
     return host && (host.instance as T);
   }
 
@@ -778,7 +761,7 @@ export class Injector {
     inquirer?: InstanceWrapper,
     parentInquirer?: InstanceWrapper,
   ): Promise<any[]> {
-    const hosts: Array<InstanceWrapper<any> | undefined> = await Promise.all(
+    const hosts = await Promise.all(
       metadata.map(async item =>
         this.resolveScopedComponentHost(
           item,
@@ -790,11 +773,7 @@ export class Injector {
     );
     const inquirerId = this.getInquirerId(inquirer);
     return hosts.map(
-      item =>
-        item?.getInstanceByContextId(
-          this.getContextId(contextId, item),
-          inquirerId,
-        ).instance,
+      item => item.getInstanceByContextId(contextId, inquirerId).instance,
     );
   }
 
@@ -818,10 +797,7 @@ export class Injector {
     return dependenciesHosts.map(({ key, host }) => ({
       key,
       name: key,
-      instance: host.getInstanceByContextId(
-        this.getContextId(contextId, host),
-        inquirerId,
-      ).instance,
+      instance: host.getInstanceByContextId(contextId, inquirerId).instance,
     }));
   }
 
@@ -923,16 +899,4 @@ export class Injector {
   private isDebugMode(): boolean {
     return !!process.env.NEST_DEBUG;
   }
-
-  private getContextId(
-    contextId: ContextId,
-    instanceWrapper: InstanceWrapper,
-  ): ContextId {
-    return contextId.getParent
-      ? contextId.getParent({
-          token: instanceWrapper.token,
-          isTreeDurable: instanceWrapper.isDependencyTreeDurable(),
-        })
-      : contextId;
-  }
 }
diff --git a/packages/core/injector/instance-wrapper.ts b/packages/core/injector/instance-wrapper.ts
index 773a9b4f5..239e89dea 100644
--- a/packages/core/injector/instance-wrapper.ts
+++ b/packages/core/injector/instance-wrapper.ts
@@ -1,51 +1,28 @@
-import { Logger, LoggerService, Provider, Scope, Type } from '@nestjs/common';
+import { Provider, Scope, Type } from '@nestjs/common';
 import {
   ClassProvider,
   FactoryProvider,
   ValueProvider,
 } from '@nestjs/common/interfaces';
-import { clc } from '@nestjs/common/utils/cli-colors.util';
 import { randomStringGenerator } from '@nestjs/common/utils/random-string-generator.util';
-import {
-  isNil,
-  isString,
-  isUndefined,
-} from '@nestjs/common/utils/shared.utils';
+import { isNil, isUndefined } from '@nestjs/common/utils/shared.utils';
 import { iterate } from 'iterare';
 import { STATIC_CONTEXT } from './constants';
-import {
-  isClassProvider,
-  isFactoryProvider,
-  isValueProvider,
-} from './helpers/provider-classifier';
 import { InstanceToken, Module } from './module';
 
 export const INSTANCE_METADATA_SYMBOL = Symbol.for('instance_metadata:cache');
 export const INSTANCE_ID_SYMBOL = Symbol.for('instance_metadata:id');
 
-export interface HostComponentInfo {
-  /**
-   * Injection token (or class reference)
-   */
-  token: InstanceToken;
-  /**
-   * Flag that indicates whether DI subtree is durable
-   */
-  isTreeDurable: boolean;
-}
-
 export interface ContextId {
   readonly id: number;
-  getParent?(info: HostComponentInfo): ContextId;
 }
 
 export interface InstancePerContext<T> {
   instance: T;
   isResolved?: boolean;
   isPending?: boolean;
-  donePromise?: Promise<unknown>;
+  donePromise?: Promise<void>;
 }
-
 export interface PropertyMetadata {
   key: symbol | string;
   wrapper: InstanceWrapper;
@@ -68,9 +45,6 @@ export class InstanceWrapper<T = any> {
   public metatype: Type<T> | Function;
   public inject?: FactoryProvider['inject'];
   public forwardRef?: boolean;
-  public durable?: boolean;
-
-  private static logger: LoggerService = new Logger(InstanceWrapper.name);
 
   private readonly values = new WeakMap<ContextId, InstancePerContext<T>>();
   private readonly [INSTANCE_METADATA_SYMBOL]: InstanceMetadataStore = {};
@@ -79,7 +53,6 @@ export class InstanceWrapper<T = any> {
     | Map<string, WeakMap<ContextId, InstancePerContext<T>>>
     | undefined;
   private isTreeStatic: boolean | undefined;
-  private isTreeDurable: boolean | undefined;
 
   constructor(
     metadata: Partial<InstanceWrapper<T>> & Partial<InstancePerContext<T>> = {},
@@ -198,40 +171,14 @@ export class InstanceWrapper<T = any> {
     return this[INSTANCE_METADATA_SYMBOL].enhancers;
   }
 
-  public isDependencyTreeDurable(lookupRegistry: string[] = []): boolean {
-    if (!isUndefined(this.isTreeDurable)) {
-      return this.isTreeDurable;
-    }
-    if (this.durable === true) {
-      this.isTreeDurable = true;
-      this.printIntrospectedAsDurable();
-      return this.isTreeDurable;
-    }
-    const isStatic = this.isDependencyTreeStatic();
-    if (isStatic) {
-      return false;
+  public isDependencyTreeStatic(lookupRegistry: string[] = []): boolean {
+    if (!isUndefined(this.isTreeStatic)) {
+      return this.isTreeStatic;
     }
-    const isTreeNonDurable = this.introspectDepsAttribute(
-      (collection, registry) =>
-        collection.every(
-          (item: InstanceWrapper) => !item.isDependencyTreeDurable(registry),
-        ),
-      lookupRegistry,
-    );
-    this.isTreeDurable = !isTreeNonDurable && this.durable !== false;
-    if (this.isTreeDurable) {
-      this.printIntrospectedAsDurable();
+    if (this.scope === Scope.REQUEST) {
+      this.isTreeStatic = false;
+      return this.isTreeStatic;
     }
-    return this.isTreeDurable;
-  }
-
-  public introspectDepsAttribute(
-    callback: (
-      collection: InstanceWrapper[],
-      lookupRegistry: string[],
-    ) => boolean,
-    lookupRegistry: string[] = [],
-  ): boolean {
     if (lookupRegistry.includes(this[INSTANCE_ID_SYMBOL])) {
       return true;
     }
@@ -239,41 +186,23 @@ export class InstanceWrapper<T = any> {
 
     const { dependencies, properties, enhancers } =
       this[INSTANCE_METADATA_SYMBOL];
+    let isStatic =
+      (dependencies &&
+        this.isWrapperListStatic(dependencies, lookupRegistry)) ||
+      !dependencies;
 
-    let introspectionResult =
-      (dependencies && callback(dependencies, lookupRegistry)) || !dependencies;
-
-    if (!introspectionResult || !(properties || enhancers)) {
-      return introspectionResult;
-    }
-    const propertiesHosts = (properties || []).map(item => item.wrapper);
-    introspectionResult =
-      introspectionResult && callback(propertiesHosts, lookupRegistry);
-    if (!introspectionResult || !enhancers) {
-      return introspectionResult;
-    }
-    return callback(enhancers, lookupRegistry);
-  }
-
-  public isDependencyTreeStatic(lookupRegistry: string[] = []): boolean {
-    if (!isUndefined(this.isTreeStatic)) {
+    if (!isStatic || !(properties || enhancers)) {
+      this.isTreeStatic = isStatic;
       return this.isTreeStatic;
     }
-    if (this.scope === Scope.REQUEST) {
-      this.isTreeStatic = false;
-      this.printIntrospectedAsRequestScoped();
+    const propertiesHosts = (properties || []).map(item => item.wrapper);
+    isStatic =
+      isStatic && this.isWrapperListStatic(propertiesHosts, lookupRegistry);
+    if (!isStatic || !enhancers) {
+      this.isTreeStatic = isStatic;
       return this.isTreeStatic;
     }
-    this.isTreeStatic = this.introspectDepsAttribute(
-      (collection, registry) =>
-        collection.every((item: InstanceWrapper) =>
-          item.isDependencyTreeStatic(registry),
-        ),
-      lookupRegistry,
-    );
-    if (!this.isTreeStatic) {
-      this.printIntrospectedAsRequestScoped();
-    }
+    this.isTreeStatic = this.isWrapperListStatic(enhancers, lookupRegistry);
     return this.isTreeStatic;
   }
 
@@ -389,23 +318,22 @@ export class InstanceWrapper<T = any> {
   }
 
   public mergeWith(provider: Provider) {
-    if (isValueProvider(provider)) {
+    if (!isUndefined((provider as ValueProvider).useValue)) {
       this.metatype = null;
       this.inject = null;
-
       this.scope = Scope.DEFAULT;
 
       this.setInstanceByContextId(STATIC_CONTEXT, {
-        instance: provider.useValue,
+        instance: (provider as ValueProvider).useValue,
         isResolved: true,
         isPending: false,
       });
-    } else if (isClassProvider(provider)) {
+    } else if ((provider as ClassProvider).useClass) {
       this.inject = null;
-      this.metatype = provider.useClass;
-    } else if (isFactoryProvider(provider)) {
-      this.metatype = provider.useFactory;
-      this.inject = provider.inject || [];
+      this.metatype = (provider as ClassProvider).useClass;
+    } else if ((provider as FactoryProvider).useFactory) {
+      this.metatype = (provider as FactoryProvider).useFactory;
+      this.inject = (provider as FactoryProvider).inject || [];
     }
   }
 
@@ -413,6 +341,15 @@ export class InstanceWrapper<T = any> {
     return isNil(this.inject) && this.metatype && this.metatype.prototype;
   }
 
+  private isWrapperListStatic(
+    tree: InstanceWrapper[],
+    lookupRegistry: string[],
+  ): boolean {
+    return tree.every((item: InstanceWrapper) =>
+      item.isDependencyTreeStatic(lookupRegistry),
+    );
+  }
+
   private initialize(
     metadata: Partial<InstanceWrapper<T>> & Partial<InstancePerContext<T>>,
   ) {
@@ -425,34 +362,4 @@ export class InstanceWrapper<T = any> {
     });
     this.scope === Scope.TRANSIENT && (this.transientMap = new Map());
   }
-
-  private printIntrospectedAsRequestScoped() {
-    if (!this.isDebugMode() || this.name === 'REQUEST') {
-      return;
-    }
-    if (isString(this.name)) {
-      InstanceWrapper.logger.log(
-        `${clc.cyanBright(this.name)}${clc.green(
-          ' introspected as ',
-        )}${clc.magentaBright('request-scoped')}`,
-      );
-    }
-  }
-
-  private printIntrospectedAsDurable() {
-    if (!this.isDebugMode()) {
-      return;
-    }
-    if (isString(this.name)) {
-      InstanceWrapper.logger.log(
-        `${clc.cyanBright(this.name)}${clc.green(
-          ' introspected as ',
-        )}${clc.magentaBright('durable')}`,
-      );
-    }
-  }
-
-  private isDebugMode(): boolean {
-    return !!process.env.NEST_DEBUG;
-  }
 }
diff --git a/packages/core/injector/module-ref.ts b/packages/core/injector/module-ref.ts
index 7051a7b34..22fe0f383 100644
--- a/packages/core/injector/module-ref.ts
+++ b/packages/core/injector/module-ref.ts
@@ -2,7 +2,6 @@ import { IntrospectionResult, Scope, Type } from '@nestjs/common';
 import { InvalidClassScopeException } from '../errors/exceptions/invalid-class-scope.exception';
 import { UnknownElementException } from '../errors/exceptions/unknown-element.exception';
 import { getClassScope } from '../helpers/get-class-scope';
-import { isDurable } from '../helpers/is-durable';
 import { NestContainer } from './container';
 import { Injector } from './injector';
 import { InstanceLinksHost } from './instance-links-host';
@@ -108,7 +107,6 @@ export abstract class ModuleRef {
       metatype: type,
       isResolved: false,
       scope: getClassScope(type),
-      durable: isDurable(type),
       host: moduleRef,
     });
     return new Promise<T>(async (resolve, reject) => {
diff --git a/packages/core/injector/module.ts b/packages/core/injector/module.ts
index 15b025d4a..461fd0899 100644
--- a/packages/core/injector/module.ts
+++ b/packages/core/injector/module.ts
@@ -26,7 +26,6 @@ import { RuntimeException } from '../errors/exceptions/runtime.exception';
 import { UnknownExportException } from '../errors/exceptions/unknown-export.exception';
 import { createContextId } from '../helpers/context-id-factory';
 import { getClassScope } from '../helpers/get-class-scope';
-import { isDurable } from '../helpers/is-durable';
 import { CONTROLLER_ID_KEY } from './constants';
 import { NestContainer } from './container';
 import { InstanceWrapper } from './instance-wrapper';
@@ -210,7 +209,6 @@ export class Module {
         instance: null,
         isResolved: false,
         scope: getClassScope(injectable),
-        durable: isDurable(injectable),
         host: this,
       });
       this._injectables.set(injectable, instanceWrapper);
@@ -235,7 +233,6 @@ export class Module {
         instance: null,
         isResolved: false,
         scope: getClassScope(provider),
-        durable: isDurable(provider),
         host: this,
       }),
     );
@@ -304,15 +301,12 @@ export class Module {
     provider: ClassProvider,
     collection: Map<InstanceToken, InstanceWrapper>,
   ) {
-    let { scope, durable } = provider;
+    let { scope } = provider;
 
     const { useClass } = provider;
     if (isUndefined(scope)) {
       scope = getClassScope(useClass);
     }
-    if (isUndefined(durable)) {
-      durable = isDurable(useClass);
-    }
     collection.set(
       provider.provide,
       new InstanceWrapper({
@@ -322,7 +316,6 @@ export class Module {
         instance: null,
         isResolved: false,
         scope,
-        durable,
         host: this,
       }),
     );
@@ -355,7 +348,6 @@ export class Module {
       useFactory: factory,
       inject,
       scope,
-      durable,
       provide: providerToken,
     } = provider;
 
@@ -369,7 +361,6 @@ export class Module {
         isResolved: false,
         inject: inject || [],
         scope,
-        durable,
         host: this,
       }),
     );
@@ -454,7 +445,6 @@ export class Module {
         instance: null,
         isResolved: false,
         scope: getClassScope(controller),
-        durable: isDurable(controller),
         host: this,
       }),
     );
diff --git a/packages/core/middleware/container.ts b/packages/core/middleware/container.ts
index de8dc214b..330914a19 100644
--- a/packages/core/middleware/container.ts
+++ b/packages/core/middleware/container.ts
@@ -1,10 +1,9 @@
 import { Type } from '@nestjs/common';
 import { MiddlewareConfiguration } from '@nestjs/common/interfaces/middleware/middleware-configuration.interface';
-import { getClassScope } from '../helpers/get-class-scope';
-import { isDurable } from '../helpers/is-durable';
 import { NestContainer } from '../injector/container';
 import { InstanceWrapper } from '../injector/instance-wrapper';
 import { InstanceToken } from '../injector/module';
+import { getClassScope } from '../helpers/get-class-scope';
 
 export class MiddlewareContainer {
   private readonly middleware = new Map<
@@ -46,7 +45,6 @@ export class MiddlewareContainer {
         token,
         new InstanceWrapper({
           scope: getClassScope(metatype),
-          durable: isDurable(metatype),
           name: token,
           metatype,
           token,
diff --git a/packages/core/nest-application.ts b/packages/core/nest-application.ts
index ed7484c4d..89cb096c0 100644
--- a/packages/core/nest-application.ts
+++ b/packages/core/nest-application.ts
@@ -236,6 +236,13 @@ export class NestApplication
     return this;
   }
 
+  public startAllMicroservicesAsync(): Promise<this> {
+    this.logger.warn(
+      'DEPRECATED! "startAllMicroservicesAsync" method is deprecated and will be removed in the next major release. Please, use "startAllMicroservices" instead.',
+    );
+    return this.startAllMicroservices();
+  }
+
   public use(...args: [any, any?]): this {
     this.httpAdapter.use(...args);
     return this;
@@ -294,6 +301,13 @@ export class NestApplication
     });
   }
 
+  public listenAsync(port: number | string, ...args: any[]): Promise<any> {
+    this.logger.warn(
+      'DEPRECATED! "listenAsync" method is deprecated and will be removed in the next major release. Please, use "listen" instead.',
+    );
+    return this.listen(port, ...(args as [any]));
+  }
+
   public async getUrl(): Promise<string> {
     return new Promise((resolve, reject) => {
       if (!this.isListening) {
diff --git a/packages/core/package.json b/packages/core/package.json
index b726ecfe9..34aa43602 100644
--- a/packages/core/package.json
+++ b/packages/core/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/core",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@core)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -36,13 +36,13 @@
     "uuid": "8.3.2"
   },
   "devDependencies": {
-    "@nestjs/common": "9.0.3"
+    "@nestjs/common": "8.4.7"
   },
   "peerDependencies": {
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/microservices": "^9.0.0",
-    "@nestjs/platform-express": "^9.0.0",
-    "@nestjs/websockets": "^9.0.0",
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/microservices": "^8.0.0",
+    "@nestjs/platform-express": "^8.0.0",
+    "@nestjs/websockets": "^8.0.0",
     "reflect-metadata": "^0.1.12",
     "rxjs": "^7.1.0"
   },
diff --git a/packages/core/repl/assign-to-object.util.ts b/packages/core/repl/assign-to-object.util.ts
deleted file mode 100644
index 16f937999..000000000
--- a/packages/core/repl/assign-to-object.util.ts
+++ /dev/null
@@ -1,14 +0,0 @@
-/**
- * Similar to `Object.assign` but copying properties descriptors from `source`
- * as well.
- */
-export function assignToObject<T, U>(target: T, source: U): T & U {
-  Object.defineProperties(
-    target,
-    Object.keys(source).reduce((descriptors, key) => {
-      descriptors[key] = Object.getOwnPropertyDescriptor(source, key);
-      return descriptors;
-    }, Object.create(null)),
-  );
-  return target as T & U;
-}
diff --git a/packages/core/repl/constants.ts b/packages/core/repl/constants.ts
deleted file mode 100644
index 870e2ec51..000000000
--- a/packages/core/repl/constants.ts
+++ /dev/null
@@ -1 +0,0 @@
-export const REPL_INITIALIZED_MESSAGE = 'REPL initialized';
diff --git a/packages/core/repl/index.ts b/packages/core/repl/index.ts
deleted file mode 100644
index 8a399bd09..000000000
--- a/packages/core/repl/index.ts
+++ /dev/null
@@ -1 +0,0 @@
-export * from './repl';
diff --git a/packages/core/repl/native-functions/debug-repl-fn.ts b/packages/core/repl/native-functions/debug-repl-fn.ts
deleted file mode 100644
index 910941584..000000000
--- a/packages/core/repl/native-functions/debug-repl-fn.ts
+++ /dev/null
@@ -1,62 +0,0 @@
-import type { Type, InjectionToken } from '@nestjs/common';
-import { clc } from '@nestjs/common/utils/cli-colors.util';
-import { ReplFunction } from '../repl-function';
-import type { ModuleDebugEntry } from '../repl-context';
-import type { ReplFnDefinition } from '../repl.interfaces';
-
-export class DebugReplFn extends ReplFunction {
-  public fnDefinition: ReplFnDefinition = {
-    name: 'debug',
-    description:
-      'Print all registered modules as a list together with their controllers and providers. If the argument is passed in, for example, "debug(MyModule)" then it will only print components of this specific module.',
-    signature: '(moduleCls?: ClassRef | string) => void',
-  };
-
-  action(moduleCls?: Type<unknown> | string): void {
-    this.ctx.writeToStdout('\n');
-
-    if (moduleCls) {
-      const token =
-        typeof moduleCls === 'function' ? moduleCls.name : moduleCls;
-      const moduleEntry = this.ctx.debugRegistry[token];
-      if (!moduleEntry) {
-        return this.logger.error(
-          `"${token}" has not been found in the modules registry`,
-        );
-      }
-      this.printCtrlsAndProviders(token, moduleEntry);
-    } else {
-      Object.keys(this.ctx.debugRegistry).forEach(moduleKey => {
-        this.printCtrlsAndProviders(
-          moduleKey,
-          this.ctx.debugRegistry[moduleKey],
-        );
-      });
-    }
-    this.ctx.writeToStdout('\n');
-  }
-
-  private printCtrlsAndProviders(
-    moduleName: string,
-    moduleDebugEntry: ModuleDebugEntry,
-  ) {
-    this.ctx.writeToStdout(`${clc.green(moduleName)}:\n`);
-    this.printCollection('controllers', moduleDebugEntry['controllers']);
-    this.printCollection('providers', moduleDebugEntry['providers']);
-  }
-
-  private printCollection(
-    title: string,
-    collectionValue: Record<string, InjectionToken>,
-  ) {
-    const collectionEntries = Object.keys(collectionValue);
-    if (collectionEntries.length <= 0) {
-      return;
-    }
-
-    this.ctx.writeToStdout(` ${clc.yellow(`- ${title}`)}:\n`);
-    collectionEntries.forEach(provider =>
-      this.ctx.writeToStdout(`  ${clc.green('')} ${provider}\n`),
-    );
-  }
-}
diff --git a/packages/core/repl/native-functions/get-relp-fn.ts b/packages/core/repl/native-functions/get-relp-fn.ts
deleted file mode 100644
index 6de276918..000000000
--- a/packages/core/repl/native-functions/get-relp-fn.ts
+++ /dev/null
@@ -1,17 +0,0 @@
-import type { Type } from '@nestjs/common';
-import { ReplFunction } from '../repl-function';
-import type { ReplFnDefinition } from '../repl.interfaces';
-
-export class GetReplFn extends ReplFunction {
-  public fnDefinition: ReplFnDefinition = {
-    name: 'get',
-    signature: '(token: InjectionToken) => any',
-    description:
-      'Retrieves an instance of either injectable or controller, otherwise, throws exception.',
-    aliases: ['$'],
-  };
-
-  action(token: string | symbol | Function | Type<any>): any {
-    return this.ctx.app.get(token);
-  }
-}
diff --git a/packages/core/repl/native-functions/help-repl-fn.ts b/packages/core/repl/native-functions/help-repl-fn.ts
deleted file mode 100644
index 913ced7ee..000000000
--- a/packages/core/repl/native-functions/help-repl-fn.ts
+++ /dev/null
@@ -1,32 +0,0 @@
-import { iterate } from 'iterare';
-import { clc } from '@nestjs/common/utils/cli-colors.util';
-import { ReplFunction } from '../repl-function';
-import type { ReplFnDefinition } from '../repl.interfaces';
-
-export class HelpReplFn extends ReplFunction {
-  public fnDefinition: ReplFnDefinition = {
-    name: 'help',
-    signature: '() => void',
-    description: 'Display all available REPL native functions.',
-  };
-
-  static buildHelpMessage = ({ name, description }: ReplFnDefinition) =>
-    clc.cyanBright(name) +
-    (description ? ` ${clc.bold('-')} ${description}` : '');
-
-  action(): void {
-    const sortedNativeFunctions = iterate(this.ctx.nativeFunctions)
-      .map(([, nativeFunction]) => nativeFunction.fnDefinition)
-      .toArray()
-      .sort((a, b) => (a.name < b.name ? -1 : 1));
-
-    this.ctx.writeToStdout(
-      `You can call ${clc.bold(
-        '.help',
-      )} on any function listed below (e.g.: ${clc.bold('help.help')}):\n\n` +
-        sortedNativeFunctions.map(HelpReplFn.buildHelpMessage).join('\n') +
-        // Without the following LF the last item won't be displayed
-        '\n',
-    );
-  }
-}
diff --git a/packages/core/repl/native-functions/index.ts b/packages/core/repl/native-functions/index.ts
deleted file mode 100644
index 8799e685d..000000000
--- a/packages/core/repl/native-functions/index.ts
+++ /dev/null
@@ -1,6 +0,0 @@
-export * from './help-repl-fn';
-export * from './get-relp-fn';
-export * from './resolve-repl-fn';
-export * from './select-relp-fn';
-export * from './debug-repl-fn';
-export * from './methods-repl-fn';
diff --git a/packages/core/repl/native-functions/methods-repl-fn.ts b/packages/core/repl/native-functions/methods-repl-fn.ts
deleted file mode 100644
index b8deb83fc..000000000
--- a/packages/core/repl/native-functions/methods-repl-fn.ts
+++ /dev/null
@@ -1,33 +0,0 @@
-import type { Type } from '@nestjs/common';
-import { clc } from '@nestjs/common/utils/cli-colors.util';
-import { MetadataScanner } from '../../metadata-scanner';
-import { ReplFunction } from '../repl-function';
-import type { ReplFnDefinition } from '../repl.interfaces';
-
-export class MethodsReplFn extends ReplFunction {
-  public fnDefinition: ReplFnDefinition = {
-    name: 'methods',
-    description: 'Display all public methods available on a given provider or controller.',
-    signature: '(token: ClassRef | string) => void',
-  };
-
-  private readonly metadataScanner = new MetadataScanner();
-
-  action(token: Type<unknown> | string): void {
-    const proto =
-      typeof token !== 'function'
-        ? Object.getPrototypeOf(this.ctx.app.get(token))
-        : token?.prototype;
-
-    const methods = new Set(
-      this.metadataScanner.getAllFilteredMethodNames(proto),
-    );
-
-    this.ctx.writeToStdout('\n');
-    this.ctx.writeToStdout(`${clc.green('Methods')}:\n`);
-    methods.forEach(methodName =>
-      this.ctx.writeToStdout(` ${clc.yellow('')} ${methodName}\n`),
-    );
-    this.ctx.writeToStdout('\n');
-  }
-}
diff --git a/packages/core/repl/native-functions/resolve-repl-fn.ts b/packages/core/repl/native-functions/resolve-repl-fn.ts
deleted file mode 100644
index fe587682d..000000000
--- a/packages/core/repl/native-functions/resolve-repl-fn.ts
+++ /dev/null
@@ -1,19 +0,0 @@
-import type { Type } from '@nestjs/common';
-import { ReplFunction } from '../repl-function';
-import type { ReplFnDefinition } from '../repl.interfaces';
-
-export class ResolveReplFn extends ReplFunction {
-  public fnDefinition: ReplFnDefinition = {
-    name: 'resolve',
-    description:
-      'Resolves transient or request-scoped instance of either injectable or controller, otherwise, throws exception.',
-    signature: '(token: InjectionToken, contextId: any) => Promise<any>',
-  };
-
-  action(
-    token: string | symbol | Function | Type<any>,
-    contextId: any,
-  ): Promise<any> {
-    return this.ctx.app.resolve(token, contextId);
-  }
-}
diff --git a/packages/core/repl/native-functions/select-relp-fn.ts b/packages/core/repl/native-functions/select-relp-fn.ts
deleted file mode 100644
index f35346cd1..000000000
--- a/packages/core/repl/native-functions/select-relp-fn.ts
+++ /dev/null
@@ -1,20 +0,0 @@
-import type {
-  DynamicModule,
-  INestApplicationContext,
-  Type,
-} from '@nestjs/common';
-import { ReplFunction } from '../repl-function';
-import type { ReplFnDefinition } from '../repl.interfaces';
-
-export class SelectReplFn extends ReplFunction {
-  public fnDefinition: ReplFnDefinition = {
-    name: 'select',
-    description:
-      'Allows navigating through the modules tree, for example, to pull out a specific instance from the selected module.',
-    signature: '(token: DynamicModule | ClassRef) => INestApplicationContext',
-  };
-
-  action(token: DynamicModule | Type<unknown>): INestApplicationContext {
-    return this.ctx.app.select(token);
-  }
-}
diff --git a/packages/core/repl/repl-context.ts b/packages/core/repl/repl-context.ts
deleted file mode 100644
index f8eef91a8..000000000
--- a/packages/core/repl/repl-context.ts
+++ /dev/null
@@ -1,179 +0,0 @@
-import { INestApplication, InjectionToken, Logger } from '@nestjs/common';
-import { ApplicationConfig } from '../application-config';
-import { ModuleRef, NestContainer } from '../injector';
-import { InternalCoreModule } from '../injector/internal-core-module';
-import { Module } from '../injector/module';
-import {
-  DebugReplFn,
-  GetReplFn,
-  HelpReplFn,
-  MethodsReplFn,
-  ResolveReplFn,
-  SelectReplFn,
-} from './native-functions';
-import { ReplFunction } from './repl-function';
-import type { ReplFunctionClass } from './repl.interfaces';
-
-type ModuleKey = string;
-export type ModuleDebugEntry = {
-  controllers: Record<string, InjectionToken>;
-  providers: Record<string, InjectionToken>;
-};
-
-type ReplScope = Record<string, any>;
-
-export class ReplContext {
-  public readonly logger = new Logger(ReplContext.name);
-  public debugRegistry: Record<ModuleKey, ModuleDebugEntry> = {};
-  public readonly globalScope: ReplScope = Object.create(null);
-  public readonly nativeFunctions = new Map<
-    string,
-    InstanceType<ReplFunctionClass>
-  >();
-  private readonly container: NestContainer;
-
-  constructor(
-    public readonly app: INestApplication,
-    nativeFunctionsClassRefs?: ReplFunctionClass[],
-  ) {
-    this.container = (app as any).container; // Using `any` because `app.container` is not public.
-
-    this.initializeContext();
-    this.initializeNativeFunctions(nativeFunctionsClassRefs || []);
-  }
-
-  public writeToStdout(text: string) {
-    process.stdout.write(text);
-  }
-
-  private initializeContext() {
-    const modules = this.container.getModules();
-
-    modules.forEach(moduleRef => {
-      let moduleName = moduleRef.metatype.name;
-      if (moduleName === InternalCoreModule.name) {
-        return;
-      }
-      if (this.globalScope[moduleName]) {
-        moduleName += ` (${moduleRef.token})`;
-      }
-
-      this.introspectCollection(moduleRef, moduleName, 'providers');
-      this.introspectCollection(moduleRef, moduleName, 'controllers');
-
-      // For in REPL auto-complete functionality
-      Object.defineProperty(this.globalScope, moduleName, {
-        value: moduleRef.metatype,
-        configurable: false,
-        enumerable: true,
-      });
-    });
-  }
-
-  private introspectCollection(
-    moduleRef: Module,
-    moduleKey: ModuleKey,
-    collection: keyof ModuleDebugEntry,
-  ) {
-    const moduleDebugEntry = {};
-    moduleRef[collection].forEach(({ token }) => {
-      const stringifiedToken = this.stringifyToken(token);
-      if (
-        stringifiedToken === ApplicationConfig.name ||
-        stringifiedToken === moduleRef.metatype.name ||
-        this.globalScope[stringifiedToken]
-      ) {
-        return;
-      }
-      // For in REPL auto-complete functionality
-      Object.defineProperty(this.globalScope, stringifiedToken, {
-        value: token,
-        configurable: false,
-        enumerable: true,
-      });
-
-      if (stringifiedToken === ModuleRef.name) {
-        return;
-      }
-      moduleDebugEntry[stringifiedToken] = token;
-    });
-
-    this.debugRegistry[moduleKey] = {
-      ...this.debugRegistry?.[moduleKey],
-      [collection]: moduleDebugEntry,
-    };
-  }
-
-  private stringifyToken(token: unknown): string {
-    return typeof token !== 'string'
-      ? typeof token === 'function'
-        ? token.name
-        : token?.toString()
-      : token;
-  }
-
-  private addNativeFunction(
-    NativeFunctionRef: ReplFunctionClass,
-  ): InstanceType<ReplFunctionClass>[] {
-    const nativeFunction = new NativeFunctionRef(this);
-    const nativeFunctions = [nativeFunction];
-
-    this.nativeFunctions.set(nativeFunction.fnDefinition.name, nativeFunction);
-
-    nativeFunction.fnDefinition.aliases?.forEach(aliaseName => {
-      const aliasNativeFunction: InstanceType<ReplFunctionClass> =
-        Object.create(nativeFunction);
-      aliasNativeFunction.fnDefinition = {
-        name: aliaseName,
-        description: aliasNativeFunction.fnDefinition.description,
-        signature: aliasNativeFunction.fnDefinition.signature,
-      };
-      this.nativeFunctions.set(aliaseName, aliasNativeFunction);
-      nativeFunctions.push(aliasNativeFunction);
-    });
-
-    return nativeFunctions;
-  }
-
-  private registerFunctionIntoGlobalScope(
-    nativeFunction: InstanceType<ReplFunctionClass>,
-  ) {
-    // Bind the method to REPL's context:
-    this.globalScope[nativeFunction.fnDefinition.name] =
-      nativeFunction.action.bind(nativeFunction);
-
-    // Load the help trigger as a `help` getter on each native function:
-    const functionBoundRef: ReplFunction['action'] =
-      this.globalScope[nativeFunction.fnDefinition.name];
-    Object.defineProperty(functionBoundRef, 'help', {
-      enumerable: false,
-      configurable: false,
-      get: () =>
-        // Dynamically builds the help message as will unlikely to be called
-        // several times.
-        this.writeToStdout(nativeFunction.makeHelpMessage()),
-    });
-  }
-
-  private initializeNativeFunctions(
-    nativeFunctionsClassRefs: ReplFunctionClass[],
-  ): void {
-    const builtInFunctionsClassRefs: ReplFunctionClass[] = [
-      HelpReplFn,
-      GetReplFn,
-      ResolveReplFn,
-      SelectReplFn,
-      DebugReplFn,
-      MethodsReplFn,
-    ];
-
-    builtInFunctionsClassRefs
-      .concat(nativeFunctionsClassRefs)
-      .forEach(NativeFunction => {
-        const nativeFunctions = this.addNativeFunction(NativeFunction);
-        nativeFunctions.forEach(nativeFunction => {
-          this.registerFunctionIntoGlobalScope(nativeFunction);
-        });
-      });
-  }
-}
diff --git a/packages/core/repl/repl-function.ts b/packages/core/repl/repl-function.ts
deleted file mode 100644
index aa90972c8..000000000
--- a/packages/core/repl/repl-function.ts
+++ /dev/null
@@ -1,36 +0,0 @@
-import { Logger } from '@nestjs/common';
-import { clc } from '@nestjs/common/utils/cli-colors.util';
-import { ReplContext } from './repl-context';
-import type { ReplFnDefinition } from './repl.interfaces';
-
-export abstract class ReplFunction<
-  ActionParams extends Array<unknown> = Array<unknown>,
-  ActionReturn = any,
-> {
-  /** Metadata that describes the built-in function itself. */
-  public abstract fnDefinition: ReplFnDefinition;
-
-  protected readonly logger: Logger;
-
-  constructor(protected readonly ctx: ReplContext) {
-    this.logger = ctx.logger;
-  }
-
-  /**
-   * Method called when the function is invoked from the REPL by the user.
-   */
-  abstract action(...args: ActionParams): ActionReturn;
-
-  /**
-   * @returns A message displayed by calling `<fnName>.help`
-   */
-  public makeHelpMessage(): string {
-    const { description, name, signature } = this.fnDefinition;
-
-    const fnSignatureWithName = `${name}${signature}`;
-
-    return `${clc.yellow(description)}\n${clc.magentaBright(
-      'Interface:',
-    )} ${clc.bold(fnSignatureWithName)}\n`;
-  }
-}
diff --git a/packages/core/repl/repl-logger.ts b/packages/core/repl/repl-logger.ts
deleted file mode 100644
index e6195269f..000000000
--- a/packages/core/repl/repl-logger.ts
+++ /dev/null
@@ -1,19 +0,0 @@
-import { ConsoleLogger } from '@nestjs/common';
-import { NestApplication } from '../nest-application';
-import { RouterExplorer } from '../router/router-explorer';
-import { RoutesResolver } from '../router/routes-resolver';
-
-export class ReplLogger extends ConsoleLogger {
-  private static readonly ignoredContexts = [
-    RoutesResolver.name,
-    RouterExplorer.name,
-    NestApplication.name,
-  ];
-  log(_message: any, context?: string) {
-    if (ReplLogger.ignoredContexts.includes(context)) {
-      return;
-    }
-    // eslint-disable-next-line
-    return super.log.apply(this, Array.from(arguments) as [any, string?]);
-  }
-}
diff --git a/packages/core/repl/repl.interfaces.ts b/packages/core/repl/repl.interfaces.ts
deleted file mode 100644
index ad4b8fd64..000000000
--- a/packages/core/repl/repl.interfaces.ts
+++ /dev/null
@@ -1,21 +0,0 @@
-import type { ReplContext } from './repl-context';
-import type { ReplFunction } from './repl-function';
-
-export type ReplFnDefinition = {
-  /** Function's name. Note that this should be a valid JavaScript function name. */
-  name: string;
-
-  /** Alternative names to the function. */
-  aliases?: ReplFnDefinition['name'][];
-
-  /** Function's description to display when `<function>.help` is entered. */
-  description: string;
-
-  /**
-   * Function's signature following TypeScript _function type expression_ syntax.
-   * @example '(token: InjectionToken) => any'
-   */
-  signature: string;
-};
-
-export type ReplFunctionClass = new (replContext: ReplContext) => ReplFunction;
diff --git a/packages/core/repl/repl.ts b/packages/core/repl/repl.ts
deleted file mode 100644
index 076140b46..000000000
--- a/packages/core/repl/repl.ts
+++ /dev/null
@@ -1,27 +0,0 @@
-import { Logger, Type } from '@nestjs/common';
-import { clc } from '@nestjs/common/utils/cli-colors.util';
-import { NestFactory } from '../nest-factory';
-import { assignToObject } from './assign-to-object.util';
-import { REPL_INITIALIZED_MESSAGE } from './constants';
-import { ReplContext } from './repl-context';
-import { ReplLogger } from './repl-logger';
-
-export async function repl(module: Type) {
-  const app = await NestFactory.create(module, {
-    abortOnError: false,
-    logger: new ReplLogger(),
-  });
-  await app.init();
-
-  const replContext = new ReplContext(app);
-  Logger.log(REPL_INITIALIZED_MESSAGE);
-
-  const _repl = await import('repl');
-  const replServer = _repl.start({
-    prompt: clc.green('> '),
-    ignoreUndefined: true,
-  });
-  assignToObject(replServer.context, replContext.globalScope);
-
-  return replServer;
-}
diff --git a/packages/core/router/router-explorer.ts b/packages/core/router/router-explorer.ts
index 6dbbad0ae..ab0517dc5 100644
--- a/packages/core/router/router-explorer.ts
+++ b/packages/core/router/router-explorer.ts
@@ -332,12 +332,134 @@ export class RouterExplorer {
     routePathMetadata: RoutePathMetadata,
     handler: Function,
   ) {
+    const { versioningOptions } = routePathMetadata;
     const version = this.routePathFactory.getVersion(routePathMetadata);
-    return router.applyVersionFilter(
-      handler,
-      version,
-      routePathMetadata.versioningOptions,
-    );
+    if (router?.applyVersionFilter) {
+      return router.applyVersionFilter(handler, version, versioningOptions);
+    }
+    /**
+     * TODO(v9): This was left for backward-compatibility and can be removed.
+     */
+    return <TRequest extends Record<string, any> = any, TResponse = any>(
+      req: TRequest,
+      res: TResponse,
+      next: () => void,
+    ) => {
+      if (version === VERSION_NEUTRAL) {
+        return handler(req, res, next);
+      }
+      // URL Versioning is done via the path, so the filter continues forward
+      if (versioningOptions.type === VersioningType.URI) {
+        return handler(req, res, next);
+      }
+
+      // Custom Extractor Versioning Handler
+      if (versioningOptions.type === VersioningType.CUSTOM) {
+        const extractedVersion = versioningOptions.extractor(req) as
+          | string
+          | string[]
+          | Array<string | symbol>;
+
+        if (Array.isArray(version)) {
+          if (
+            Array.isArray(extractedVersion) &&
+            version.filter(
+              extractedVersion.includes as (
+                value: string | symbol,
+                index: number,
+                array: Array<string | symbol>,
+              ) => boolean,
+            ).length
+          ) {
+            return handler(req, res, next);
+          } else if (
+            isString(extractedVersion) &&
+            version.includes(extractedVersion)
+          ) {
+            return handler(req, res, next);
+          }
+        } else {
+          if (
+            Array.isArray(extractedVersion) &&
+            extractedVersion.includes(version)
+          ) {
+            return handler(req, res, next);
+          } else if (
+            isString(extractedVersion) &&
+            version === extractedVersion
+          ) {
+            return handler(req, res, next);
+          }
+        }
+      }
+
+      // Media Type (Accept Header) Versioning Handler
+      if (versioningOptions.type === VersioningType.MEDIA_TYPE) {
+        const MEDIA_TYPE_HEADER = 'Accept';
+        const acceptHeaderValue: string | undefined =
+          req.headers?.[MEDIA_TYPE_HEADER] ||
+          req.headers?.[MEDIA_TYPE_HEADER.toLowerCase()];
+
+        const acceptHeaderVersionParameter = acceptHeaderValue
+          ? acceptHeaderValue.split(';')[1]
+          : undefined;
+
+        // No version was supplied
+        if (isUndefined(acceptHeaderVersionParameter)) {
+          if (Array.isArray(version)) {
+            if (version.includes(VERSION_NEUTRAL)) {
+              return handler(req, res, next);
+            }
+          }
+        } else {
+          const headerVersion = acceptHeaderVersionParameter.split(
+            versioningOptions.key,
+          )[1];
+
+          if (Array.isArray(version)) {
+            if (version.includes(headerVersion)) {
+              return handler(req, res, next);
+            }
+          } else if (isString(version)) {
+            if (version === headerVersion) {
+              return handler(req, res, next);
+            }
+          }
+        }
+      }
+      // Header Versioning Handler
+      else if (versioningOptions.type === VersioningType.HEADER) {
+        const customHeaderVersionParameter: string | undefined =
+          req.headers?.[versioningOptions.header] ||
+          req.headers?.[versioningOptions.header.toLowerCase()];
+
+        // No version was supplied
+        if (isUndefined(customHeaderVersionParameter)) {
+          if (Array.isArray(version)) {
+            if (version.includes(VERSION_NEUTRAL)) {
+              return handler(req, res, next);
+            }
+          }
+        } else {
+          if (Array.isArray(version)) {
+            if (version.includes(customHeaderVersionParameter)) {
+              return handler(req, res, next);
+            }
+          } else if (isString(version)) {
+            if (version === customHeaderVersionParameter) {
+              return handler(req, res, next);
+            }
+          }
+        }
+      }
+
+      if (!next) {
+        throw new InternalServerErrorException(
+          'HTTP adapter does not support filtering on version',
+        );
+      }
+      return next();
+    };
   }
 
   private createCallbackProxy(
diff --git a/packages/core/router/router-response-controller.ts b/packages/core/router/router-response-controller.ts
index 4128e7fca..008eea5a8 100644
--- a/packages/core/router/router-response-controller.ts
+++ b/packages/core/router/router-response-controller.ts
@@ -5,9 +5,9 @@ import {
   RequestMethod,
   MessageEvent,
 } from '@nestjs/common';
-import { isObject } from '@nestjs/common/utils/shared.utils';
+import { isFunction, isObject } from '@nestjs/common/utils/shared.utils';
 import { IncomingMessage } from 'http';
-import { EMPTY, lastValueFrom, Observable, isObservable } from 'rxjs';
+import { EMPTY, lastValueFrom, Observable } from 'rxjs';
 import { catchError, debounce, map } from 'rxjs/operators';
 import {
   AdditionalHeaders,
@@ -64,7 +64,7 @@ export class RouterResponseController {
   }
 
   public async transformToResult(resultOrDeferred: any) {
-    if (isObservable(resultOrDeferred)) {
+    if (resultOrDeferred && isFunction(resultOrDeferred.subscribe)) {
       return lastValueFrom(resultOrDeferred);
     }
     return resultOrDeferred;
@@ -152,8 +152,8 @@ export class RouterResponseController {
     });
   }
 
-  private assertObservable(value: any) {
-    if (!isObservable(value)) {
+  private assertObservable(result: any) {
+    if (!isFunction(result.subscribe)) {
       throw new ReferenceError(
         'You must return an Observable stream to use Server-Sent Events (SSE).',
       );
diff --git a/packages/core/scanner.ts b/packages/core/scanner.ts
index 97a78f66d..63d02a6c2 100644
--- a/packages/core/scanner.ts
+++ b/packages/core/scanner.ts
@@ -2,6 +2,7 @@ import {
   DynamicModule,
   flatten,
   ForwardReference,
+  Logger,
   Provider,
 } from '@nestjs/common';
 import {
@@ -58,6 +59,7 @@ interface ApplicationProviderWrapper {
 }
 
 export class DependenciesScanner {
+  private readonly logger = new Logger(DependenciesScanner.name);
   private readonly applicationProvidersApplyMap: ApplicationProviderWrapper[] =
     [];
 
@@ -100,13 +102,13 @@ export class DependenciesScanner {
       moduleDefinition as Type<any> | DynamicModule,
     )
       ? this.reflectMetadata(
-          MODULE_METADATA.IMPORTS,
           moduleDefinition as Type<any>,
+          MODULE_METADATA.IMPORTS,
         )
       : [
           ...this.reflectMetadata(
-            MODULE_METADATA.IMPORTS,
             (moduleDefinition as DynamicModule).module,
+            MODULE_METADATA.IMPORTS,
           ),
           ...((moduleDefinition as DynamicModule).imports || []),
         ];
@@ -149,7 +151,10 @@ export class DependenciesScanner {
       this.isController(moduleToAdd) ||
       this.isExceptionFilter(moduleToAdd)
     ) {
-      throw new InvalidClassModuleException(moduleDefinition, scope);
+      // TODO(v9): Throw the exception instead of printing a warning
+      this.logger.warn(
+        new InvalidClassModuleException(moduleDefinition, scope).message,
+      );
     }
 
     return this.container.addModule(moduleToAdd, scope);
@@ -172,7 +177,7 @@ export class DependenciesScanner {
     context: string,
   ) {
     const modules = [
-      ...this.reflectMetadata(MODULE_METADATA.IMPORTS, module),
+      ...this.reflectMetadata(module, MODULE_METADATA.IMPORTS),
       ...this.container.getDynamicMetadataByToken(
         token,
         MODULE_METADATA.IMPORTS as 'imports',
@@ -185,7 +190,7 @@ export class DependenciesScanner {
 
   public reflectProviders(module: Type<any>, token: string) {
     const providers = [
-      ...this.reflectMetadata(MODULE_METADATA.PROVIDERS, module),
+      ...this.reflectMetadata(module, MODULE_METADATA.PROVIDERS),
       ...this.container.getDynamicMetadataByToken(
         token,
         MODULE_METADATA.PROVIDERS as 'providers',
@@ -199,7 +204,7 @@ export class DependenciesScanner {
 
   public reflectControllers(module: Type<any>, token: string) {
     const controllers = [
-      ...this.reflectMetadata(MODULE_METADATA.CONTROLLERS, module),
+      ...this.reflectMetadata(module, MODULE_METADATA.CONTROLLERS),
       ...this.container.getDynamicMetadataByToken(
         token,
         MODULE_METADATA.CONTROLLERS as 'controllers',
@@ -224,7 +229,7 @@ export class DependenciesScanner {
 
   public reflectExports(module: Type<unknown>, token: string) {
     const exports = [
-      ...this.reflectMetadata(MODULE_METADATA.EXPORTS, module),
+      ...this.reflectMetadata(module, MODULE_METADATA.EXPORTS),
       ...this.container.getDynamicMetadataByToken(
         token,
         MODULE_METADATA.EXPORTS as 'exports',
@@ -240,7 +245,7 @@ export class DependenciesScanner {
     token: string,
     metadataKey: string,
   ) {
-    const controllerInjectables = this.reflectMetadata(metadataKey, component);
+    const controllerInjectables = this.reflectMetadata(component, metadataKey);
     const methodsInjectables = this.metadataScanner.scanFromPrototype(
       null,
       component.prototype,
@@ -411,7 +416,7 @@ export class DependenciesScanner {
     this.container.addController(controller, token);
   }
 
-  public reflectMetadata(metadataKey: string, metatype: Type<any>) {
+  public reflectMetadata(metatype: Type<any>, metadataKey: string) {
     return Reflect.getMetadata(metadataKey, metatype) || [];
   }
 
@@ -546,7 +551,7 @@ export class DependenciesScanner {
   }
 
   private flatten<T = any>(arr: T[][]): T[] {
-    return arr.flat(1);
+    return arr.reduce((a: T[], b: T[]) => a.concat(b), []);
   }
 
   private isRequestOrTransient(scope: Scope): boolean {
diff --git a/packages/microservices/Readme.md b/packages/microservices/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/microservices/Readme.md
+++ b/packages/microservices/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/microservices/client/client-kafka.ts b/packages/microservices/client/client-kafka.ts
index ba9ad099a..7aac2451f 100644
--- a/packages/microservices/client/client-kafka.ts
+++ b/packages/microservices/client/client-kafka.ts
@@ -62,7 +62,7 @@ export class ClientKafka extends ClientProxy {
     const consumerOptions =
       this.getOptionsProp(this.options, 'consumer') || ({} as ConsumerConfig);
     const postfixId =
-      this.getOptionsProp(this.options, 'postfixId') ?? '-client';
+      this.getOptionsProp(this.options, 'postfixId') || '-client';
     this.producerOnlyMode =
       this.getOptionsProp(this.options, 'producerOnlyMode') || false;
 
diff --git a/packages/microservices/client/client-redis.ts b/packages/microservices/client/client-redis.ts
index 517ea271c..8b42ce6a0 100644
--- a/packages/microservices/client/client-redis.ts
+++ b/packages/microservices/client/client-redis.ts
@@ -1,31 +1,48 @@
 import { Logger } from '@nestjs/common/services/logger.service';
 import { loadPackage } from '@nestjs/common/utils/load-package.util';
 import {
+  EmptyError,
+  fromEvent,
+  lastValueFrom,
+  merge,
+  Subject,
+  zip,
+} from 'rxjs';
+import { share, take, tap } from 'rxjs/operators';
+import {
+  CONNECT_EVENT,
+  ECONNREFUSED,
   ERROR_EVENT,
   MESSAGE_EVENT,
-  REDIS_DEFAULT_HOST,
-  REDIS_DEFAULT_PORT,
+  REDIS_DEFAULT_URL,
 } from '../constants';
+import {
+  ClientOpts,
+  RedisClient,
+  RetryStrategyOptions,
+} from '../external/redis.interface';
 import { ReadPacket, RedisOptions, WritePacket } from '../interfaces';
 import { ClientProxy } from './client-proxy';
 
-type Redis = any;
-
-let redisPackage = {} as any;
+let redisPackage: any = {};
 
 export class ClientRedis extends ClientProxy {
   protected readonly logger = new Logger(ClientProxy.name);
   protected readonly subscriptionsCount = new Map<string, number>();
-  protected pubClient: Redis;
-  protected subClient: Redis;
+  protected readonly url: string;
+  protected pubClient: RedisClient;
+  protected subClient: RedisClient;
   protected connection: Promise<any>;
   protected isExplicitlyTerminated = false;
 
   constructor(protected readonly options: RedisOptions['options']) {
     super();
+    this.url =
+      this.getOptionsProp(options, 'url') ||
+      (!this.getOptionsProp(options, 'host') && REDIS_DEFAULT_URL);
 
-    redisPackage = loadPackage('ioredis', ClientRedis.name, () =>
-      require('ioredis'),
+    redisPackage = loadPackage('redis', ClientRedis.name, () =>
+      require('redis'),
     );
 
     this.initializeSerializer(options);
@@ -47,57 +64,73 @@ export class ClientRedis extends ClientProxy {
     this.isExplicitlyTerminated = true;
   }
 
-  public async connect(): Promise<any> {
+  public connect(): Promise<any> {
     if (this.pubClient && this.subClient) {
       return this.connection;
     }
-    this.pubClient = this.createClient();
-    this.subClient = this.createClient();
+    const error$ = new Subject<Error>();
+
+    this.pubClient = this.createClient(error$);
+    this.subClient = this.createClient(error$);
     this.handleError(this.pubClient);
     this.handleError(this.subClient);
 
-    this.connection = Promise.all([
-      this.subClient.connect(),
-      this.pubClient.connect(),
-    ]);
-    await this.connection;
+    const pubConnect$ = fromEvent(this.pubClient, CONNECT_EVENT);
+    const subClient$ = fromEvent(this.subClient, CONNECT_EVENT);
 
-    this.subClient.on(MESSAGE_EVENT, this.createResponseCallback());
+    this.connection = lastValueFrom(
+      merge(error$, zip(pubConnect$, subClient$)).pipe(
+        take(1),
+        tap(() =>
+          this.subClient.on(MESSAGE_EVENT, this.createResponseCallback()),
+        ),
+        share(),
+      ),
+    ).catch(err => {
+      if (err instanceof EmptyError) {
+        return;
+      }
+      throw err;
+    });
     return this.connection;
   }
 
-  public createClient(): Redis {
-    return new redisPackage({
-      host: REDIS_DEFAULT_HOST,
-      port: REDIS_DEFAULT_PORT,
-      ...this.getClientOptions(),
-      lazyConnect: true,
+  public createClient(error$: Subject<Error>): RedisClient {
+    return redisPackage.createClient({
+      ...this.getClientOptions(error$),
+      url: this.url,
     });
   }
 
-  public handleError(client: Redis) {
+  public handleError(client: RedisClient) {
     client.addListener(ERROR_EVENT, (err: any) => this.logger.error(err));
   }
 
-  public getClientOptions(): Partial<RedisOptions['options']> {
-    const retryStrategy = (times: number) => this.createRetryStrategy(times);
+  public getClientOptions(error$: Subject<Error>): Partial<ClientOpts> {
+    const retry_strategy = (options: RetryStrategyOptions) =>
+      this.createRetryStrategy(options, error$);
 
     return {
       ...(this.options || {}),
-      retryStrategy,
+      retry_strategy,
     };
   }
 
-  public createRetryStrategy(times: number): undefined | number {
+  public createRetryStrategy(
+    options: RetryStrategyOptions,
+    error$: Subject<Error>,
+  ): undefined | number | Error {
+    if (options.error && (options.error as any).code === ECONNREFUSED) {
+      error$.error(options.error);
+    }
     if (this.isExplicitlyTerminated) {
       return undefined;
     }
     if (
       !this.getOptionsProp(this.options, 'retryAttempts') ||
-      times > this.getOptionsProp(this.options, 'retryAttempts')
+      options.attempt > this.getOptionsProp(this.options, 'retryAttempts')
     ) {
-      this.logger.error('Retry time exhausted');
-      return;
+      return new Error('Retry time exhausted');
     }
     return this.getOptionsProp(this.options, 'retryDelay') || 0;
   }
diff --git a/packages/microservices/constants.ts b/packages/microservices/constants.ts
index 2ae256805..96f8b2fa3 100644
--- a/packages/microservices/constants.ts
+++ b/packages/microservices/constants.ts
@@ -2,10 +2,7 @@ import { ROUTE_ARGS_METADATA } from '@nestjs/common/constants';
 
 export const TCP_DEFAULT_PORT = 3000;
 export const TCP_DEFAULT_HOST = 'localhost';
-
-export const REDIS_DEFAULT_PORT = 6379;
-export const REDIS_DEFAULT_HOST = 'localhost';
-
+export const REDIS_DEFAULT_URL = 'redis://localhost:6379';
 export const NATS_DEFAULT_URL = 'nats://localhost:4222';
 export const MQTT_DEFAULT_URL = 'mqtt://localhost:1883';
 export const GRPC_DEFAULT_URL = 'localhost:5000';
@@ -41,10 +38,8 @@ export const RQM_DEFAULT_NOACK = true;
 export const RQM_DEFAULT_PERSISTENT = false;
 export const GRPC_DEFAULT_PROTO_LOADER = '@grpc/proto-loader';
 
-export const NO_EVENT_HANDLER = (text: TemplateStringsArray, pattern: string) =>
-  `There is no matching event handler defined in the remote service. Event pattern: ${pattern}`;
 export const NO_MESSAGE_HANDLER = `There is no matching message handler defined in the remote service.`;
-
+export const NO_EVENT_HANDLER = `There is no matching event handler defined in the remote service.`;
 export const DISCONNECTED_RMQ_MESSAGE = `Disconnected from RMQ. Trying to reconnect.`;
 
 export const KAFKA_DEFAULT_CLIENT = 'nestjs-consumer';
diff --git a/packages/microservices/context/rpc-proxy.ts b/packages/microservices/context/rpc-proxy.ts
index 521d5b7cd..081167f62 100644
--- a/packages/microservices/context/rpc-proxy.ts
+++ b/packages/microservices/context/rpc-proxy.ts
@@ -1,5 +1,5 @@
 import { ExecutionContextHost } from '@nestjs/core/helpers/execution-context-host';
-import { isObservable, Observable } from 'rxjs';
+import { Observable, isObservable } from 'rxjs';
 import { catchError } from 'rxjs/operators';
 import { RpcExceptionsHandler } from '../exceptions/rpc-exceptions-handler';
 
diff --git a/packages/microservices/ctx-host/kafka.context.ts b/packages/microservices/ctx-host/kafka.context.ts
index 54c80475a..922ccb9c5 100644
--- a/packages/microservices/ctx-host/kafka.context.ts
+++ b/packages/microservices/ctx-host/kafka.context.ts
@@ -1,12 +1,7 @@
-import { Consumer, KafkaMessage } from '../external/kafka.interface';
+import { KafkaMessage } from '../external/kafka.interface';
 import { BaseRpcContext } from './base-rpc.context';
 
-type KafkaContextArgs = [
-  message: KafkaMessage,
-  partition: number,
-  topic: string,
-  consumer: Consumer,
-];
+type KafkaContextArgs = [KafkaMessage, number, string];
 
 export class KafkaContext extends BaseRpcContext<KafkaContextArgs> {
   constructor(args: KafkaContextArgs) {
@@ -33,11 +28,4 @@ export class KafkaContext extends BaseRpcContext<KafkaContextArgs> {
   getTopic() {
     return this.args[2];
   }
-
-  /**
-   * Returns the Kafka consumer reference.
-   */
-  getConsumer() {
-    return this.args[3];
-  }
 }
diff --git a/packages/microservices/decorators/event-pattern.decorator.ts b/packages/microservices/decorators/event-pattern.decorator.ts
index b44825d63..34708b007 100644
--- a/packages/microservices/decorators/event-pattern.decorator.ts
+++ b/packages/microservices/decorators/event-pattern.decorator.ts
@@ -48,11 +48,7 @@ export const EventPattern: {
     key: string | symbol,
     descriptor: PropertyDescriptor,
   ) => {
-    Reflect.defineMetadata(
-      PATTERN_METADATA,
-      [].concat(metadata),
-      descriptor.value,
-    );
+    Reflect.defineMetadata(PATTERN_METADATA, metadata, descriptor.value);
     Reflect.defineMetadata(
       PATTERN_HANDLER_METADATA,
       PatternHandler.EVENT,
diff --git a/packages/microservices/decorators/message-pattern.decorator.ts b/packages/microservices/decorators/message-pattern.decorator.ts
index 6cb4ed1d8..3e17d8569 100644
--- a/packages/microservices/decorators/message-pattern.decorator.ts
+++ b/packages/microservices/decorators/message-pattern.decorator.ts
@@ -62,11 +62,7 @@ export const MessagePattern: {
     key: string | symbol,
     descriptor: PropertyDescriptor,
   ) => {
-    Reflect.defineMetadata(
-      PATTERN_METADATA,
-      [].concat(metadata),
-      descriptor.value,
-    );
+    Reflect.defineMetadata(PATTERN_METADATA, metadata, descriptor.value);
     Reflect.defineMetadata(
       PATTERN_HANDLER_METADATA,
       PatternHandler.MESSAGE,
diff --git a/packages/microservices/deserializers/kafka-request.deserializer.ts b/packages/microservices/deserializers/kafka-request.deserializer.ts
deleted file mode 100644
index 99dae3119..000000000
--- a/packages/microservices/deserializers/kafka-request.deserializer.ts
+++ /dev/null
@@ -1,21 +0,0 @@
-import { IncomingEvent, IncomingRequest } from '../interfaces';
-import { KafkaRequest } from '../serializers/kafka-request.serializer';
-import { IncomingRequestDeserializer } from './incoming-request.deserializer';
-
-export class KafkaRequestDeserializer extends IncomingRequestDeserializer {
-  mapToSchema(
-    data: KafkaRequest,
-    options?: Record<string, any>,
-  ): IncomingRequest | IncomingEvent {
-    if (!options) {
-      return {
-        pattern: undefined,
-        data: undefined,
-      };
-    }
-    return {
-      pattern: options.channel,
-      data: data?.value ?? data,
-    };
-  }
-}
diff --git a/packages/microservices/exceptions/index.ts b/packages/microservices/exceptions/index.ts
index 73e4c3176..dd6e4d298 100644
--- a/packages/microservices/exceptions/index.ts
+++ b/packages/microservices/exceptions/index.ts
@@ -1,3 +1,2 @@
 export * from './base-rpc-exception-filter';
-export * from './kafka-retriable-exception';
 export * from './rpc-exception';
diff --git a/packages/microservices/exceptions/kafka-retriable-exception.ts b/packages/microservices/exceptions/kafka-retriable-exception.ts
deleted file mode 100644
index c62194a2e..000000000
--- a/packages/microservices/exceptions/kafka-retriable-exception.ts
+++ /dev/null
@@ -1,17 +0,0 @@
-import { RpcException } from './rpc-exception';
-
-/**
- * Exception that instructs Kafka driver to instead of introspecting
- * error processing flow and sending serialized error message to the consumer,
- * force bubble it up to the "eachMessage" callback of the underlying "kafkajs" package
- * (even if interceptors are applied, or an observable stream is returned from the message handler).
- *
- * A transient exception that if retried may succeed.
- *
- * @publicApi
- */
-export class KafkaRetriableException extends RpcException {
-  public getError(): string | object {
-    return this;
-  }
-}
diff --git a/packages/microservices/external/grpc-options.interface.ts b/packages/microservices/external/grpc-options.interface.ts
index 3c5bd22c2..f00fb4cb7 100644
--- a/packages/microservices/external/grpc-options.interface.ts
+++ b/packages/microservices/external/grpc-options.interface.ts
@@ -16,5 +16,5 @@ export interface ChannelOptions {
   'grpc.max_reconnect_backoff_ms'?: number;
   'grpc.use_local_subchannel_pool'?: number;
   'grpc-node.max_session_memory'?: number;
-  [key: string]: any;
+  [key: string]: string | number | undefined;
 }
diff --git a/packages/microservices/external/kafka.interface.ts b/packages/microservices/external/kafka.interface.ts
index 164d11155..ea7a29a4c 100644
--- a/packages/microservices/external/kafka.interface.ts
+++ b/packages/microservices/external/kafka.interface.ts
@@ -563,7 +563,7 @@ export interface LogEntry {
 }
 
 export interface LoggerEntryContent {
-  readonly timestamp: string;
+  readonly timestamp: Date;
   readonly message: string;
   [key: string]: any;
 }
diff --git a/packages/microservices/external/redis.interface.ts b/packages/microservices/external/redis.interface.ts
index 6de36c439..00ae1bba7 100644
--- a/packages/microservices/external/redis.interface.ts
+++ b/packages/microservices/external/redis.interface.ts
@@ -1,213 +1,383 @@
-import { ConnectionOptions } from 'tls';
+/* eslint-disable @typescript-eslint/adjacent-overload-signatures */
 
-/**
- * @see https://github.dev/luin/ioredis/blob/df04dd8d87a44d3b64b385c86581915248554508/lib/redis/RedisOptions.ts#L184
- */
-export interface IORedisOptions {
-  Connector?: any;
-  retryStrategy?: (times: number) => number | void | null;
-
-  /**
-   * If a command does not return a reply within a set number of milliseconds,
-   * a "Command timed out" error will be thrown.
-   */
-  commandTimeout?: number;
-  /**
-   * Enable/disable keep-alive functionality.
-   * @link https://nodejs.org/api/net.html#socketsetkeepaliveenable-initialdelay
-   * @default 0
-   */
-  keepAlive?: number;
-
-  /**
-   * Enable/disable the use of Nagle's algorithm.
-   * @link https://nodejs.org/api/net.html#socketsetnodelaynodelay
-   * @default true
-   */
-  noDelay?: boolean;
-
-  /**
-   * Set the name of the connection to make it easier to identity the connection
-   * in client list.
-   * @link https://redis.io/commands/client-setname
-   */
-  connectionName?: string;
-
-  /**
-   * If set, client will send AUTH command with the value of this option as the first argument when connected.
-   * This is supported since Redis 6.
-   */
-  username?: string;
+export interface RetryStrategyOptions {
+  error: Error;
+  total_retry_time: number;
+  times_connected: number;
+  attempt: number;
+}
 
-  /**
-   * If set, client will send AUTH command with the value of this option when connected.
-   */
+export interface ClientOpts {
+  auth_pass?: string;
+  command_queue_high_water?: number;
+  command_queue_low_water?: number;
+  connect_timeout?: number;
+  db?: string;
+  detect_buffers?: boolean;
+  disable_resubscribing?: boolean;
+  enable_offline_queue?: boolean;
+  family?: string;
+  host?: string;
+  max_attempts?: number;
+  no_ready_check?: boolean;
+  parser?: string;
   password?: string;
+  path?: string;
+  port?: number;
+  prefix?: string;
+  rename_commands?: any;
+  retry_max_delay?: number;
+  retry_strategy?: any;
+  retry_unfulfilled_commands?: boolean;
+  return_buffers?: boolean;
+  socket_keepalive?: boolean;
+  socket_nodelay?: boolean;
+  string_numbers?: boolean;
+  tls?: any;
+  url?: string;
+}
 
-  /**
-   * Database index to use.
-   *
-   * @default 0
-   */
-  db?: number;
+export interface RedisClient {
+  // event: connect
+  // event: error
+  // event: message
+  // event: pmessage
+  // event: subscribe
+  // event: psubscribe
+  // event: unsubscribe
+  // event: punsubscribe
 
-  /**
-   * When the client reconnects, channels subscribed in the previous connection will be
-   * resubscribed automatically if `autoResubscribe` is `true`.
-   * @default true
-   */
-  autoResubscribe?: boolean;
+  connected: boolean;
+  retry_delay: number;
+  retry_backoff: number;
+  command_queue: any[];
+  offline_queue: any[];
+  server_info: any;
 
   /**
-   * Whether or not to resend unfulfilled commands on reconnect.
-   * Unfulfilled commands are most likely to be blocking commands such as `brpop` or `blpop`.
-   * @default true
-   */
-  autoResendUnfulfilledCommands?: boolean;
-  /**
-   * Whether or not to reconnect on certain Redis errors.
-   * This options by default is `null`, which means it should never reconnect on Redis errors.
-   * You can pass a function that accepts an Redis error, and returns:
-   * - `true` or `1` to trigger a reconnection.
-   * - `false` or `0` to not reconnect.
-   * - `2` to reconnect and resend the failed command (who triggered the error) after reconnection.
-   * @example
-   * ```js
-   * const redis = new Redis({
-   *   reconnectOnError(err) {
-   *     const targetError = "READONLY";
-   *     if (err.message.includes(targetError)) {
-   *       // Only reconnect when the error contains "READONLY"
-   *       return true; // or `return 1;`
-   *     }
-   *   },
-   * });
-   * ```
-   * @default null
-   */
-  reconnectOnError?: ((err: Error) => boolean | 1 | 2) | null;
-
-  /**
-   * @default false
-   */
-  readOnly?: boolean;
-  /**
-   * When enabled, numbers returned by Redis will be converted to JavaScript strings instead of numbers.
-   * This is necessary if you want to handle big numbers (above `Number.MAX_SAFE_INTEGER` === 2^53).
-   * @default false
-   */
-  stringNumbers?: boolean;
-
-  /**
-   * How long the client will wait before killing a socket due to inactivity during initial connection.
-   * @default 10000
-   */
-  connectTimeout?: number;
-
-  /**
-   * This option is used internally when you call `redis.monitor()` to tell Redis
-   * to enter the monitor mode when the connection is established.
+   * Forcibly close the connection to the Redis server. Note that this does not wait until all replies have been parsed. If you want to exit cleanly, call client.quit()
    *
-   * @default false
+   * @param {boolean} flush You should set flush to true, if you are not absolutely sure you do not care about any other commands. If you set flush to false all still running commands will silently fail.
    */
-  monitor?: boolean;
+  end(flush: boolean): void;
+  unref(): void;
 
   /**
-   * The commands that don't get a reply due to the connection to the server is lost are
-   * put into a queue and will be resent on reconnect (if allowed by the `retryStrategy` option).
-   * This option is used to configure how many reconnection attempts should be allowed before
-   * the queue is flushed with a `MaxRetriesPerRequestError` error.
-   * Set this options to `null` instead of a number to let commands wait forever
-   * until the connection is alive again.
-   *
-   * @default 20
+   * Stop sending commands and queue the commands.
    */
-  maxRetriesPerRequest?: number | null;
+  cork(): void;
 
   /**
-   * @default 10000
+   * Resume and send the queued commands at once.
    */
-  maxLoadingRetryTime?: number;
-  /**
-   * @default false
-   */
-  enableAutoPipelining?: boolean;
-  /**
-   * @default []
-   */
-  autoPipeliningIgnoredCommands?: string[];
-  offlineQueue?: boolean;
-  commandQueue?: boolean;
+  uncork(): void;
 
-  /**
-   *
-   * By default, if the connection to Redis server has not been established, commands are added to a queue
-   * and are executed once the connection is "ready" (when `enableReadyCheck` is true, "ready" means
-   * the Redis server has loaded the database from disk, otherwise means the connection to the Redis
-   * server has been established). If this option is false, when execute the command when the connection
-   * isn't ready, an error will be returned.
-   *
-   * @default true
-   */
-  enableOfflineQueue?: boolean;
+  // Low level command execution
+  send_command(command: string, ...args: any[]): boolean;
 
-  /**
-   * The client will sent an INFO command to check whether the server is still loading data from the disk (
-   * which happens when the server is just launched) when the connection is established, and only wait until
-   * the loading process is finished before emitting the `ready` event.
-   *
-   * @default true
-   */
-  enableReadyCheck?: boolean;
+  // Connection (http://redis.io/commands#connection)
+  auth(password: string, callback?: any): boolean;
+  ping(callback?: any): boolean;
 
-  /**
-   * When a Redis instance is initialized, a connection to the server is immediately established. Set this to
-   * true will delay the connection to the server until the first command is sent or `redis.connect()` is called
-   * explicitly.
-   *
-   * @default false
-   */
+  // Strings (http://redis.io/commands#strings)
+  append(key: string, value: string, callback?: any): boolean;
+  bitcount(key: string, callback?: any): boolean;
+  bitcount(key: string, start: number, end: number, callback?: any): boolean;
+  set(key: string, value: string, callback?: any): boolean;
+  get(key: string, callback?: any): boolean;
+  exists(key: string, value: string, callback?: any): boolean;
 
-  lazyConnect?: boolean;
+  publish(channel: string, value: any): boolean;
+  subscribe(channel: string): boolean;
+  on(event: string, callback: Function): any;
+  off(event: string, callback: Function): any;
+  addListener(event: string, callback: Function): any;
 
-  /**
-   * @default undefined
+  /*
+   commands = set_union([
+   "get", "set", "setnx", "setex", "append", "strlen", "del", "exists", "setbit", "getbit", "setrange", "getrange", "substr",
+   "incr", "decr", "mget", "rpush", "lpush", "rpushx", "lpushx", "linsert", "rpop", "lpop", "brpop", "brpoplpush", "blpop", "llen", "lindex",
+   "lset", "lrange", "ltrim", "lrem", "rpoplpush", "sadd", "srem", "smove", "sismember", "scard", "spop", "srandmember", "sinter", "sinterstore",
+   "sunion", "sunionstore", "sdiff", "sdiffstore", "smembers", "zadd", "zincrby", "zrem", "zremrangebyscore", "zremrangebyrank", "zunionstore",
+   "zinterstore", "zrange", "zrangebyscore", "zrevrangebyscore", "zcount", "zrevrange", "zcard", "zscore", "zrank", "zrevrank", "hset", "hsetnx",
+   "hget", "hmset", "hmget", "hincrby", "hincrbyfloat", "hdel", "hlen", "hkeys", "hvals", "hgetall", "hexists", "incrby", "decrby", "getset", "mset", "msetnx",
+   "randomkey", "select", "move", "rename", "renamenx", "expire", "expireat", "keys", "dbsize", "auth", "ping", "echo", "save", "bgsave",
+   "bgrewriteaof", "shutdown", "lastsave", "type", "any", "exec", "discard", "sync", "flushdb", "flushall", "sort", "info", "monitor", "ttl",
+   "persist", "slaveof", "debug", "config", "subscribe", "unsubscribe", "psubscribe", "punsubscribe", "publish", "watch", "unwatch", "cluster",
+   "restore", "migrate", "dump", "object", "client", "eval", "evalsha"], require("./lib/commands"));
    */
-  scripts?: Record<
-    string,
-    { lua: string; numberOfKeys?: number; readOnly?: boolean }
-  >;
 
-  keyPrefix?: string;
-  showFriendlyErrorStack?: boolean;
+  get(args: any[], callback?: any): boolean;
+  get(...args: any[]): boolean;
+  set(args: any[], callback?: any): boolean;
+  set(...args: any[]): boolean;
+  setnx(args: any[], callback?: any): boolean;
+  setnx(...args: any[]): boolean;
+  setex(args: any[], callback?: any): boolean;
+  setex(...args: any[]): boolean;
+  append(args: any[], callback?: any): boolean;
+  append(...args: any[]): boolean;
+  strlen(args: any[], callback?: any): boolean;
+  strlen(...args: any[]): boolean;
+  del(args: any[], callback?: any): boolean;
+  del(...args: any[]): boolean;
+  exists(args: any[], callback?: any): boolean;
+  exists(...args: any[]): boolean;
+  setbit(args: any[], callback?: any): boolean;
+  setbit(...args: any[]): boolean;
+  getbit(args: any[], callback?: any): boolean;
+  getbit(...args: any[]): boolean;
+  setrange(args: any[], callback?: any): boolean;
+  setrange(...args: any[]): boolean;
+  getrange(args: any[], callback?: any): boolean;
+  getrange(...args: any[]): boolean;
+  substr(args: any[], callback?: any): boolean;
+  substr(...args: any[]): boolean;
+  incr(args: any[], callback?: any): boolean;
+  incr(...args: any[]): boolean;
+  decr(args: any[], callback?: any): boolean;
+  decr(...args: any[]): boolean;
+  mget(args: any[], callback?: any): boolean;
+  mget(...args: any[]): boolean;
+  rpush(...args: any[]): boolean;
+  lpush(args: any[], callback?: any): boolean;
+  lpush(...args: any[]): boolean;
+  rpushx(args: any[], callback?: any): boolean;
+  rpushx(...args: any[]): boolean;
+  lpushx(args: any[], callback?: any): boolean;
+  lpushx(...args: any[]): boolean;
+  linsert(args: any[], callback?: any): boolean;
+  linsert(...args: any[]): boolean;
+  rpop(args: any[], callback?: any): boolean;
+  rpop(...args: any[]): boolean;
+  lpop(args: any[], callback?: any): boolean;
+  lpop(...args: any[]): boolean;
+  brpop(args: any[], callback?: any): boolean;
+  brpop(...args: any[]): boolean;
+  brpoplpush(args: any[], callback?: any): boolean;
+  brpoplpush(...args: any[]): boolean;
+  blpop(args: any[], callback?: any): boolean;
+  blpop(...args: any[]): boolean;
+  llen(args: any[], callback?: any): boolean;
+  llen(...args: any[]): boolean;
+  lindex(args: any[], callback?: any): boolean;
+  lindex(...args: any[]): boolean;
+  lset(args: any[], callback?: any): boolean;
+  lset(...args: any[]): boolean;
+  lrange(args: any[], callback?: any): boolean;
+  lrange(...args: any[]): boolean;
+  ltrim(args: any[], callback?: any): boolean;
+  ltrim(...args: any[]): boolean;
+  lrem(args: any[], callback?: any): boolean;
+  lrem(...args: any[]): boolean;
+  rpoplpush(args: any[], callback?: any): boolean;
+  rpoplpush(...args: any[]): boolean;
+  sadd(args: any[], callback?: any): boolean;
+  sadd(...args: any[]): boolean;
+  srem(args: any[], callback?: any): boolean;
+  srem(...args: any[]): boolean;
+  smove(args: any[], callback?: any): boolean;
+  smove(...args: any[]): boolean;
+  sismember(args: any[], callback?: any): boolean;
+  sismember(...args: any[]): boolean;
+  scard(args: any[], callback?: any): boolean;
+  scard(...args: any[]): boolean;
+  spop(args: any[], callback?: any): boolean;
+  spop(...args: any[]): boolean;
+  srandmember(args: any[], callback?: any): boolean;
+  srandmember(...args: any[]): boolean;
+  sinter(args: any[], callback?: any): boolean;
+  sinter(...args: any[]): boolean;
+  sinterstore(args: any[], callback?: any): boolean;
+  sinterstore(...args: any[]): boolean;
+  sunion(args: any[], callback?: any): boolean;
+  sunion(...args: any[]): boolean;
+  sunionstore(args: any[], callback?: any): boolean;
+  sunionstore(...args: any[]): boolean;
+  sdiff(args: any[], callback?: any): boolean;
+  sdiff(...args: any[]): boolean;
+  sdiffstore(args: any[], callback?: any): boolean;
+  sdiffstore(...args: any[]): boolean;
+  smembers(args: any[], callback?: any): boolean;
+  smembers(...args: any[]): boolean;
+  zadd(args: any[], callback?: any): boolean;
+  zadd(...args: any[]): boolean;
+  zincrby(args: any[], callback?: any): boolean;
+  zincrby(...args: any[]): boolean;
+  zrem(args: any[], callback?: any): boolean;
+  zrem(...args: any[]): boolean;
+  zremrangebyscore(args: any[], callback?: any): boolean;
+  zremrangebyscore(...args: any[]): boolean;
+  zremrangebyrank(args: any[], callback?: any): boolean;
+  zremrangebyrank(...args: any[]): boolean;
+  zunionstore(args: any[], callback?: any): boolean;
+  zunionstore(...args: any[]): boolean;
+  zinterstore(args: any[], callback?: any): boolean;
+  zinterstore(...args: any[]): boolean;
+  zrange(args: any[], callback?: any): boolean;
+  zrange(...args: any[]): boolean;
+  zrangebyscore(args: any[], callback?: any): boolean;
+  zrangebyscore(...args: any[]): boolean;
+  zrevrangebyscore(args: any[], callback?: any): boolean;
+  zrevrangebyscore(...args: any[]): boolean;
+  zcount(args: any[], callback?: any): boolean;
+  zcount(...args: any[]): boolean;
+  zrevrange(args: any[], callback?: any): boolean;
+  zrevrange(...args: any[]): boolean;
+  zcard(args: any[], callback?: any): boolean;
+  zcard(...args: any[]): boolean;
+  zscore(args: any[], callback?: any): boolean;
+  zscore(...args: any[]): boolean;
+  zrank(args: any[], callback?: any): boolean;
+  zrank(...args: any[]): boolean;
+  zrevrank(args: any[], callback?: any): boolean;
+  zrevrank(...args: any[]): boolean;
+  hset(args: any[], callback?: any): boolean;
+  hset(...args: any[]): boolean;
+  hsetnx(args: any[], callback?: any): boolean;
+  hsetnx(...args: any[]): boolean;
+  hget(args: any[], callback?: any): boolean;
+  hget(...args: any[]): boolean;
+  hmset(args: any[], callback?: any): boolean;
+  hmset(key: string, hash: any, callback?: any): boolean;
+  hmset(...args: any[]): boolean;
+  hmget(args: any[], callback?: any): boolean;
+  hmget(...args: any[]): boolean;
+  hincrby(args: any[], callback?: any): boolean;
+  hincrby(...args: any[]): boolean;
+  hincrbyfloat(args: any[], callback?: any): boolean;
+  hincrbyfloat(...args: any[]): boolean;
+  hdel(args: any[], callback?: any): boolean;
+  hdel(...args: any[]): boolean;
+  hlen(args: any[], callback?: any): boolean;
+  hlen(...args: any[]): boolean;
+  hkeys(args: any[], callback?: any): boolean;
+  hkeys(...args: any[]): boolean;
+  hvals(args: any[], callback?: any): boolean;
+  hvals(...args: any[]): boolean;
+  hgetall(args: any[], callback?: any): boolean;
+  hgetall(...args: any[]): boolean;
+  hgetall(key: string, callback?: any): boolean;
+  hexists(args: any[], callback?: any): boolean;
+  hexists(...args: any[]): boolean;
+  incrby(args: any[], callback?: any): boolean;
+  incrby(...args: any[]): boolean;
+  decrby(args: any[], callback?: any): boolean;
+  decrby(...args: any[]): boolean;
+  getset(args: any[], callback?: any): boolean;
+  getset(...args: any[]): boolean;
+  mset(args: any[], callback?: any): boolean;
+  mset(...args: any[]): boolean;
+  msetnx(args: any[], callback?: any): boolean;
+  msetnx(...args: any[]): boolean;
+  randomkey(args: any[], callback?: any): boolean;
+  randomkey(...args: any[]): boolean;
+  select(args: any[], callback?: any): void;
+  select(...args: any[]): void;
+  move(args: any[], callback?: any): boolean;
+  move(...args: any[]): boolean;
+  rename(args: any[], callback?: any): boolean;
+  rename(...args: any[]): boolean;
+  renamenx(args: any[], callback?: any): boolean;
+  renamenx(...args: any[]): boolean;
+  expire(args: any[], callback?: any): boolean;
+  expire(...args: any[]): boolean;
+  expireat(args: any[], callback?: any): boolean;
+  expireat(...args: any[]): boolean;
+  keys(args: any[], callback?: any): boolean;
+  keys(...args: any[]): boolean;
+  dbsize(args: any[], callback?: any): boolean;
+  dbsize(...args: any[]): boolean;
+  auth(args: any[], callback?: any): void;
+  auth(...args: any[]): void;
+  ping(args: any[], callback?: any): boolean;
+  ping(...args: any[]): boolean;
+  echo(args: any[], callback?: any): boolean;
+  echo(...args: any[]): boolean;
+  save(args: any[], callback?: any): boolean;
+  save(...args: any[]): boolean;
+  bgsave(args: any[], callback?: any): boolean;
+  bgsave(...args: any[]): boolean;
+  bgrewriteaof(args: any[], callback?: any): boolean;
+  bgrewriteaof(...args: any[]): boolean;
+  shutdown(args: any[], callback?: any): boolean;
+  shutdown(...args: any[]): boolean;
+  lastsave(args: any[], callback?: any): boolean;
+  lastsave(...args: any[]): boolean;
+  type(args: any[], callback?: any): boolean;
+  type(...args: any[]): boolean;
+  any(args: any[], callback?: any): any;
+  any(...args: any[]): any;
+  exec(args: any[], callback?: any): boolean;
+  exec(...args: any[]): boolean;
+  discard(args: any[], callback?: any): boolean;
+  discard(...args: any[]): boolean;
+  sync(args: any[], callback?: any): boolean;
+  sync(...args: any[]): boolean;
+  flushdb(args: any[], callback?: any): boolean;
+  flushdb(...args: any[]): boolean;
+  flushall(args: any[], callback?: any): boolean;
+  flushall(...args: any[]): boolean;
+  sort(args: any[], callback?: any): boolean;
+  sort(...args: any[]): boolean;
+  info(args: any[], callback?: any): boolean;
+  info(...args: any[]): boolean;
+  monitor(args: any[], callback?: any): boolean;
+  monitor(...args: any[]): boolean;
+  ttl(args: any[], callback?: any): boolean;
+  ttl(...args: any[]): boolean;
+  persist(args: any[], callback?: any): boolean;
+  persist(...args: any[]): boolean;
+  slaveof(args: any[], callback?: any): boolean;
+  slaveof(...args: any[]): boolean;
+  debug(args: any[], callback?: any): boolean;
+  debug(...args: any[]): boolean;
+  config(args: any[], callback?: any): boolean;
+  config(...args: any[]): boolean;
+  subscribe(args: any[], callback?: any): boolean;
+  subscribe(...args: any[]): boolean;
+  unsubscribe(args: any[], callback?: any): boolean;
+  unsubscribe(...args: any[]): boolean;
+  psubscribe(args: any[], callback?: any): boolean;
+  psubscribe(...args: any[]): boolean;
+  punsubscribe(args: any[], callback?: any): boolean;
+  punsubscribe(...args: any[]): boolean;
+  publish(args: any[], callback?: any): boolean;
+  publish(...args: any[]): boolean;
+  watch(args: any[], callback?: any): boolean;
+  watch(...args: any[]): boolean;
+  unwatch(args: any[], callback?: any): boolean;
+  unwatch(...args: any[]): boolean;
+  cluster(args: any[], callback?: any): boolean;
+  cluster(...args: any[]): boolean;
+  restore(args: any[], callback?: any): boolean;
+  restore(...args: any[]): boolean;
+  migrate(args: any[], callback?: any): boolean;
+  migrate(...args: any[]): boolean;
+  dump(args: any[], callback?: any): boolean;
+  dump(...args: any[]): boolean;
+  object(args: any[], callback?: any): boolean;
+  object(...args: any[]): boolean;
+  client(args: any[], callback?: any): boolean;
+  client(...args: any[]): boolean;
+  eval(args: any[], callback?: any): boolean;
+  eval(...args: any[]): boolean;
+  evalsha(args: any[], callback?: any): boolean;
+  evalsha(...args: any[]): boolean;
+  script(args: any[], callback?: any): boolean;
+  script(...args: any[]): boolean;
+  script(key: string, callback?: any): boolean;
+  quit(args: any[], callback?: any): boolean;
+  quit(...args: any[]): boolean;
+  sscan(...args: any[]): boolean;
+  sscan(args: any[], callback?: any): boolean;
+  scan(...args: any[]): boolean;
+  scan(args: any[], callback?: any): boolean;
+  hscan(...args: any[]): boolean;
+  hscan(args: any[], callback?: any): boolean;
+  zscan(...args: any[]): boolean;
+  zscan(args: any[], callback?: any): boolean;
 
-  // StandaloneConnectionOptions
-  disconnectTimeout?: number;
-  tls?: ConnectionOptions;
-
-  // SentinelConnectionOptions
-  /**
-   * Master group name of the Sentinel
-   */
-  name?: string;
-  /**
-   * @default "master"
-   */
-  role?: 'master' | 'slave';
-  sentinelUsername?: string;
-  sentinelPassword?: string;
-  sentinels?: Array<Partial<any>>;
-  sentinelRetryStrategy?: (retryAttempts: number) => number | void | null;
-  sentinelReconnectStrategy?: (retryAttempts: number) => number | void | null;
-  preferredSlaves?: any;
-  sentinelCommandTimeout?: number;
-  enableTLSForSentinelMode?: boolean;
-  sentinelTLS?: ConnectionOptions;
-  natMap?: any;
-  updateSentinels?: boolean;
-  /**
-   * @default 10
-   */
-  sentinelMaxConnections?: number;
-  failoverDetector?: boolean;
+  // Extras
+  duplicate(options?: any[], callback?: any): RedisClient;
 }
diff --git a/packages/microservices/interfaces/message-handler.interface.ts b/packages/microservices/interfaces/message-handler.interface.ts
index 00aecaa6e..d8152e2f8 100644
--- a/packages/microservices/interfaces/message-handler.interface.ts
+++ b/packages/microservices/interfaces/message-handler.interface.ts
@@ -1,13 +1,8 @@
 import { Observable } from 'rxjs';
 
 export interface MessageHandler<TInput = any, TContext = any, TResult = any> {
-  (data: TInput, ctx?: TContext):
-    | Promise<Observable<TResult>>
-    | Promise<TResult>;
-  next?: (
-    data: TInput,
-    ctx?: TContext,
-  ) => Promise<Observable<TResult>> | Promise<TResult>;
+  (data: TInput, ctx?: TContext): Promise<Observable<TResult>>;
+  next?: (data: TInput, ctx?: TContext) => Promise<Observable<TResult>>;
   isEventHandler?: boolean;
   extras?: Record<string, any>;
 }
diff --git a/packages/microservices/interfaces/microservice-configuration.interface.ts b/packages/microservices/interfaces/microservice-configuration.interface.ts
index f167a414c..d5f339632 100644
--- a/packages/microservices/interfaces/microservice-configuration.interface.ts
+++ b/packages/microservices/interfaces/microservice-configuration.interface.ts
@@ -10,7 +10,7 @@ import {
   ProducerRecord,
 } from '../external/kafka.interface';
 import { MqttClientOptions, QoS } from '../external/mqtt-options.interface';
-import { IORedisOptions } from '../external/redis.interface';
+import { ClientOpts } from '../external/redis.interface';
 import { RmqUrl } from '../external/rmq-url.interface';
 import { TcpSocket } from '../helpers';
 import { CustomTransportStrategy } from './custom-transport-strategy.interface';
@@ -35,6 +35,9 @@ export interface CustomStrategy {
 export interface GrpcOptions {
   transport?: Transport.GRPC;
   options: {
+    interceptors?: Array<
+      (options: any, nextCall: (options: any) => any) => any
+    >;
     url?: string;
     maxSendMessageLength?: number;
     maxReceiveMessageLength?: number;
@@ -91,7 +94,7 @@ export interface RedisOptions {
     retryDelay?: number;
     serializer?: Serializer;
     deserializer?: Deserializer;
-  } & IORedisOptions;
+  } & ClientOpts;
 }
 
 export interface MqttOptions {
@@ -191,9 +194,6 @@ export interface KafkaParserConfig {
 export interface KafkaOptions {
   transport?: Transport.KAFKA;
   options?: {
-    /**
-     * Defaults to `"-server"` on server side and `"-client"` on client side.
-     */
     postfixId?: string;
     client?: KafkaConfig;
     consumer?: ConsumerConfig;
diff --git a/packages/microservices/listener-metadata-explorer.ts b/packages/microservices/listener-metadata-explorer.ts
index 66ddffaf0..83e8f04c2 100644
--- a/packages/microservices/listener-metadata-explorer.ts
+++ b/packages/microservices/listener-metadata-explorer.ts
@@ -20,7 +20,7 @@ export interface ClientProperties {
 }
 
 export interface EventOrMessageListenerDefinition {
-  patterns: PatternMetadata[];
+  pattern: PatternMetadata;
   methodKey: string;
   isEventHandler: boolean;
   targetCallback: (...args: any[]) => any;
@@ -58,13 +58,13 @@ export class ListenerMetadataExplorer {
     if (isUndefined(handlerType)) {
       return;
     }
-    const patterns = Reflect.getMetadata(PATTERN_METADATA, targetCallback);
+    const pattern = Reflect.getMetadata(PATTERN_METADATA, targetCallback);
     const transport = Reflect.getMetadata(TRANSPORT_METADATA, targetCallback);
     const extras = Reflect.getMetadata(PATTERN_EXTRAS_METADATA, targetCallback);
     return {
       methodKey,
       targetCallback,
-      patterns,
+      pattern,
       transport,
       extras,
       isEventHandler: handlerType === PatternHandler.EVENT,
diff --git a/packages/microservices/listeners-controller.ts b/packages/microservices/listeners-controller.ts
index df275cb11..7687ccf46 100644
--- a/packages/microservices/listeners-controller.ts
+++ b/packages/microservices/listeners-controller.ts
@@ -71,21 +71,8 @@ export class ListenersController {
           isUndefined(server.transportId) ||
           transport === server.transportId,
       )
-      .reduce((acc, handler) => {
-        // Optional chaining for backward-compatibility
-        handler.patterns?.forEach(pattern =>
-          acc.push({ ...handler, patterns: [pattern] }),
-        );
-        return acc;
-      }, [])
       .forEach(
-        ({
-          patterns: [pattern],
-          targetCallback,
-          methodKey,
-          extras,
-          isEventHandler,
-        }) => {
+        ({ pattern, targetCallback, methodKey, extras, isEventHandler }) => {
           if (isStatic) {
             const proxy = this.contextCreator.create(
               instance as object,
diff --git a/packages/microservices/microservices-module.ts b/packages/microservices/microservices-module.ts
index 54632e412..735fda9fe 100644
--- a/packages/microservices/microservices-module.ts
+++ b/packages/microservices/microservices-module.ts
@@ -24,12 +24,13 @@ export class MicroservicesModule {
   private listenersController: ListenersController;
 
   public register(container: NestContainer, config: ApplicationConfig) {
+    const rpcProxy = new RpcProxy();
     const exceptionFiltersContext = new ExceptionFiltersContext(
       container,
       config,
     );
     const contextCreator = new RpcContextCreator(
-      new RpcProxy(),
+      rpcProxy,
       exceptionFiltersContext,
       new PipesContextCreator(container, config),
       new PipesConsumer(),
diff --git a/packages/microservices/nest-microservice.ts b/packages/microservices/nest-microservice.ts
index dbaf19800..be5a79c5f 100644
--- a/packages/microservices/nest-microservice.ts
+++ b/packages/microservices/nest-microservice.ts
@@ -136,6 +136,13 @@ export class NestMicroservice
     });
   }
 
+  public async listenAsync(): Promise<any> {
+    this.logger.warn(
+      'DEPRECATED! "listenAsync" method is deprecated and will be removed in the next major release. Please, use "listen" instead.',
+    );
+    return this.listen();
+  }
+
   public async close(): Promise<any> {
     await this.server.close();
     if (this.isTerminated) {
diff --git a/packages/microservices/package-lock.json b/packages/microservices/package-lock.json
new file mode 100644
index 000000000..486c9213a
Binary files /dev/null and b/packages/microservices/package-lock.json differ
diff --git a/packages/microservices/package.json b/packages/microservices/package.json
index 344c7b4b9..de74338ac 100644
--- a/packages/microservices/package.json
+++ b/packages/microservices/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/microservices",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@microservices)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -21,21 +21,21 @@
     "tslib": "2.4.0"
   },
   "devDependencies": {
-    "@nestjs/common": "9.0.3",
-    "@nestjs/core": "9.0.3"
+    "@nestjs/common": "8.4.7",
+    "@nestjs/core": "8.4.7"
   },
   "peerDependencies": {
     "@grpc/grpc-js": "*",
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/core": "^9.0.0",
-    "@nestjs/websockets": "^9.0.0",
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/core": "^8.0.0",
+    "@nestjs/websockets": "^8.0.0",
     "amqp-connection-manager": "*",
     "amqplib": "*",
     "cache-manager": "*",
-    "ioredis": "*",
     "kafkajs": "*",
     "mqtt": "*",
     "nats": "*",
+    "redis": "*",
     "reflect-metadata": "^0.1.12",
     "rxjs": "^7.1.0"
   },
@@ -58,7 +58,7 @@
     "nats": {
       "optional": true
     },
-    "ioredis": {
+    "redis": {
       "optional": true
     },
     "amqplib": {
diff --git a/packages/microservices/server/server-kafka.ts b/packages/microservices/server/server-kafka.ts
index 2a426eaf6..829d30d91 100644
--- a/packages/microservices/server/server-kafka.ts
+++ b/packages/microservices/server/server-kafka.ts
@@ -1,17 +1,14 @@
 import { Logger } from '@nestjs/common/services/logger.service';
 import { isNil } from '@nestjs/common/utils/shared.utils';
-import { isObservable, lastValueFrom, Observable, ReplaySubject } from 'rxjs';
+import { Observable } from 'rxjs';
 import {
   KAFKA_DEFAULT_BROKER,
   KAFKA_DEFAULT_CLIENT,
   KAFKA_DEFAULT_GROUP,
-  NO_EVENT_HANDLER,
   NO_MESSAGE_HANDLER,
 } from '../constants';
 import { KafkaContext } from '../ctx-host';
-import { KafkaRequestDeserializer } from '../deserializers/kafka-request.deserializer';
 import { KafkaHeaders, Transport } from '../enums';
-import { KafkaRetriableException } from '../exceptions';
 import {
   BrokersFunction,
   Consumer,
@@ -29,7 +26,6 @@ import {
   CustomTransportStrategy,
   KafkaOptions,
   OutgoingResponse,
-  ReadPacket,
 } from '../interfaces';
 import { KafkaRequestSerializer } from '../serializers/kafka-request.serializer';
 import { Server } from './server';
@@ -57,7 +53,7 @@ export class ServerKafka extends Server implements CustomTransportStrategy {
     const consumerOptions =
       this.getOptionsProp(this.options, 'consumer') || ({} as ConsumerConfig);
     const postfixId =
-      this.getOptionsProp(this.options, 'postfixId') ?? '-server';
+      this.getOptionsProp(this.options, 'postfixId') || '-server';
 
     this.brokers = clientOptions.brokers || [KAFKA_DEFAULT_BROKER];
 
@@ -166,7 +162,6 @@ export class ServerKafka extends Server implements CustomTransportStrategy {
       rawMessage,
       payload.partition,
       payload.topic,
-      this.consumer,
     ]);
     const handler = this.getHandlerByPattern(packet.pattern);
     // if the correlation id or reply topic is not set
@@ -191,37 +186,7 @@ export class ServerKafka extends Server implements CustomTransportStrategy {
     const response$ = this.transformToObservable(
       await handler(packet.data, kafkaContext),
     );
-
-    const replayStream$ = new ReplaySubject();
-    await this.combineStreamsAndThrowIfRetriable(response$, replayStream$);
-
-    this.send(replayStream$, publish);
-  }
-
-  private combineStreamsAndThrowIfRetriable(
-    response$: Observable<any>,
-    replayStream$: ReplaySubject<unknown>,
-  ) {
-    return new Promise<void>((resolve, reject) => {
-      let isPromiseResolved = false;
-      response$.subscribe({
-        next: val => {
-          replayStream$.next(val);
-          if (!isPromiseResolved) {
-            isPromiseResolved = true;
-            resolve();
-          }
-        },
-        error: err => {
-          if (err instanceof KafkaRetriableException && !isPromiseResolved) {
-            isPromiseResolved = true;
-            reject(err);
-          }
-          replayStream$.error(err);
-        },
-        complete: () => replayStream$.complete(),
-      });
-    });
+    response$ && this.send(response$, publish);
   }
 
   public async sendMessage(
@@ -263,12 +228,9 @@ export class ServerKafka extends Server implements CustomTransportStrategy {
     if (!outgoingResponse.err) {
       return;
     }
-    const stringifiedError =
-      typeof outgoingResponse.err === 'object'
-        ? JSON.stringify(outgoingResponse.err)
-        : outgoingResponse.err;
-    outgoingMessage.headers[KafkaHeaders.NEST_ERR] =
-      Buffer.from(stringifiedError);
+    outgoingMessage.headers[KafkaHeaders.NEST_ERR] = Buffer.from(
+      outgoingResponse.err,
+    );
   }
 
   public assignCorrelationIdHeader(
@@ -289,27 +251,8 @@ export class ServerKafka extends Server implements CustomTransportStrategy {
     outgoingMessage.partition = parseFloat(replyPartition);
   }
 
-  public async handleEvent(
-    pattern: string,
-    packet: ReadPacket,
-    context: KafkaContext,
-  ): Promise<any> {
-    const handler = this.getHandlerByPattern(pattern);
-    if (!handler) {
-      return this.logger.error(NO_EVENT_HANDLER`${pattern}`);
-    }
-    const resultOrStream = await handler(packet.data, context);
-    if (isObservable(resultOrStream)) {
-      await lastValueFrom(resultOrStream);
-    }
-  }
-
   protected initializeSerializer(options: KafkaOptions['options']) {
     this.serializer =
       (options && options.serializer) || new KafkaRequestSerializer();
   }
-
-  protected initializeDeserializer(options: KafkaOptions['options']) {
-    this.deserializer = options?.deserializer ?? new KafkaRequestDeserializer();
-  }
 }
diff --git a/packages/microservices/server/server-redis.ts b/packages/microservices/server/server-redis.ts
index 6e5530165..beaf02f85 100644
--- a/packages/microservices/server/server-redis.ts
+++ b/packages/microservices/server/server-redis.ts
@@ -1,37 +1,41 @@
 import { isUndefined } from '@nestjs/common/utils/shared.utils';
 import { Observable } from 'rxjs';
 import {
+  CONNECT_EVENT,
   ERROR_EVENT,
   MESSAGE_EVENT,
   NO_MESSAGE_HANDLER,
-  REDIS_DEFAULT_HOST,
-  REDIS_DEFAULT_PORT,
+  REDIS_DEFAULT_URL,
 } from '../constants';
 import { RedisContext } from '../ctx-host';
 import { Transport } from '../enums';
 import {
-  CustomTransportStrategy,
-  IncomingRequest,
-  RedisOptions,
-} from '../interfaces';
+  ClientOpts,
+  RedisClient,
+  RetryStrategyOptions,
+} from '../external/redis.interface';
+import { CustomTransportStrategy, IncomingRequest } from '../interfaces';
+import { RedisOptions } from '../interfaces/microservice-configuration.interface';
 import { Server } from './server';
 
-type Redis = any;
-
-let redisPackage = {} as any;
+let redisPackage: any = {};
 
 export class ServerRedis extends Server implements CustomTransportStrategy {
   public readonly transportId = Transport.REDIS;
 
-  private subClient: Redis;
-  private pubClient: Redis;
+  private readonly url: string;
+  private subClient: RedisClient;
+  private pubClient: RedisClient;
   private isExplicitlyTerminated = false;
 
   constructor(private readonly options: RedisOptions['options']) {
     super();
+    this.url =
+      this.getOptionsProp(options, 'url') ||
+      (!this.getOptionsProp(options, 'host') && REDIS_DEFAULT_URL);
 
-    redisPackage = this.loadPackage('ioredis', ServerRedis.name, () =>
-      require('ioredis'),
+    redisPackage = this.loadPackage('redis', ServerRedis.name, () =>
+      require('redis'),
     );
 
     this.initializeSerializer(options);
@@ -47,7 +51,6 @@ export class ServerRedis extends Server implements CustomTransportStrategy {
 
       this.handleError(this.pubClient);
       this.handleError(this.subClient);
-
       this.start(callback);
     } catch (err) {
       callback(err);
@@ -55,15 +58,11 @@ export class ServerRedis extends Server implements CustomTransportStrategy {
   }
 
   public start(callback?: () => void) {
-    Promise.all([this.subClient.connect(), this.pubClient.connect()])
-      .then(() => {
-        this.bindEvents(this.subClient, this.pubClient);
-        callback();
-      })
-      .catch(callback);
+    this.bindEvents(this.subClient, this.pubClient);
+    this.subClient.on(CONNECT_EVENT, callback);
   }
 
-  public bindEvents(subClient: Redis, pubClient: Redis) {
+  public bindEvents(subClient: RedisClient, pubClient: RedisClient) {
     subClient.on(MESSAGE_EVENT, this.getMessageHandler(pubClient).bind(this));
     const subscribePatterns = [...this.messageHandlers.keys()];
     subscribePatterns.forEach(pattern => {
@@ -80,16 +79,14 @@ export class ServerRedis extends Server implements CustomTransportStrategy {
     this.subClient && this.subClient.quit();
   }
 
-  public createRedisClient(): Redis {
-    return new redisPackage({
-      port: REDIS_DEFAULT_PORT,
-      host: REDIS_DEFAULT_HOST,
+  public createRedisClient(): RedisClient {
+    return redisPackage.createClient({
       ...this.getClientOptions(),
-      lazyConnect: true,
+      url: this.url,
     });
   }
 
-  public getMessageHandler(pub: Redis) {
+  public getMessageHandler(pub: RedisClient) {
     return async (channel: string, buffer: string | any) =>
       this.handleMessage(channel, buffer, pub);
   }
@@ -97,7 +94,7 @@ export class ServerRedis extends Server implements CustomTransportStrategy {
   public async handleMessage(
     channel: string,
     buffer: string | any,
-    pub: Redis,
+    pub: RedisClient,
   ) {
     const rawMessage = this.parseMessage(buffer);
     const packet = await this.deserializer.deserialize(rawMessage, { channel });
@@ -128,7 +125,7 @@ export class ServerRedis extends Server implements CustomTransportStrategy {
     response$ && this.send(response$, publish);
   }
 
-  public getPublisher(pub: Redis, pattern: any, id: string) {
+  public getPublisher(pub: RedisClient, pattern: any, id: string) {
     return (response: any) => {
       Object.assign(response, { id });
       const outgoingResponse = this.serializer.serialize(response);
@@ -160,25 +157,31 @@ export class ServerRedis extends Server implements CustomTransportStrategy {
     stream.on(ERROR_EVENT, (err: any) => this.logger.error(err));
   }
 
-  public getClientOptions(): Partial<RedisOptions['options']> {
-    const retryStrategy = (times: number) => this.createRetryStrategy(times);
+  public getClientOptions(): Partial<ClientOpts> {
+    const retry_strategy = (options: RetryStrategyOptions) =>
+      this.createRetryStrategy(options);
 
     return {
       ...(this.options || {}),
-      retryStrategy,
+      retry_strategy,
     };
   }
 
-  public createRetryStrategy(times: number): undefined | number | void {
+  public createRetryStrategy(
+    options: RetryStrategyOptions,
+  ): undefined | number | void {
+    if (options.error && (options.error as any).code === 'ECONNREFUSED') {
+      this.logger.error(`Error ECONNREFUSED: ${this.url}`);
+    }
     if (this.isExplicitlyTerminated) {
       return undefined;
     }
     if (
       !this.getOptionsProp(this.options, 'retryAttempts') ||
-      times > this.getOptionsProp(this.options, 'retryAttempts')
+      options.attempt > this.getOptionsProp(this.options, 'retryAttempts')
     ) {
-      this.logger.error(`Retry time exhausted`);
-      return;
+      this.logger.error(`Retry time exhausted: ${this.url}`);
+      throw new Error('Retry time exhausted');
     }
     return this.getOptionsProp(this.options, 'retryDelay') || 0;
   }
diff --git a/packages/microservices/server/server.ts b/packages/microservices/server/server.ts
index 4e8ee9bf6..b36bcfa3a 100644
--- a/packages/microservices/server/server.ts
+++ b/packages/microservices/server/server.ts
@@ -111,7 +111,9 @@ export abstract class Server {
   ): Promise<any> {
     const handler = this.getHandlerByPattern(pattern);
     if (!handler) {
-      return this.logger.error(NO_EVENT_HANDLER`${pattern}`);
+      return this.logger.error(
+        `${NO_EVENT_HANDLER} Event pattern: ${JSON.stringify(pattern)}.`,
+      );
     }
     const resultOrStream = await handler(packet.data, context);
     if (isObservable(resultOrStream)) {
diff --git a/packages/platform-express/Readme.md b/packages/platform-express/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/platform-express/Readme.md
+++ b/packages/platform-express/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/platform-express/adapters/express-adapter.ts b/packages/platform-express/adapters/express-adapter.ts
index 9bb80c5b1..605eda024 100644
--- a/packages/platform-express/adapters/express-adapter.ts
+++ b/packages/platform-express/adapters/express-adapter.ts
@@ -1,13 +1,16 @@
 import {
   InternalServerErrorException,
+  Logger,
   RawBodyRequest,
   RequestMethod,
   StreamableFile,
   VersioningType,
+} from '@nestjs/common';
+import {
   VersioningOptions,
+  VersionValue,
   VERSION_NEUTRAL,
-} from '@nestjs/common';
-import { VersionValue } from '@nestjs/common/interfaces';
+} from '@nestjs/common/interfaces';
 import {
   CorsOptions,
   CorsOptionsDelegate,
@@ -31,6 +34,7 @@ import * as cors from 'cors';
 import * as express from 'express';
 import * as http from 'http';
 import * as https from 'https';
+import { PassThrough, pipeline } from 'stream';
 import { ServeStaticOptions } from '../interfaces/serve-static-options.interface';
 
 type VersionedRoute = <
@@ -44,6 +48,7 @@ type VersionedRoute = <
 
 export class ExpressAdapter extends AbstractHttpAdapter {
   private readonly routerMethodFactory = new RouterMethodFactory();
+  private readonly logger = new Logger(ExpressAdapter.name);
 
   constructor(instance?: any) {
     super(instance || express());
@@ -76,7 +81,17 @@ export class ExpressAdapter extends AbstractHttpAdapter {
       ) {
         response.setHeader('Content-Length', streamHeaders.length);
       }
-      return body.getStream().pipe(response);
+      return pipeline(
+        body.getStream().once('error', (err: Error) => {
+          body.errorHandler(err, response);
+        }),
+        response,
+        (err: Error) => {
+          if (err) {
+            this.logger.error(err.message, err.stack);
+          }
+        },
+      );
     }
     return isObject(body) ? response.json(body) : response.send(String(body));
   }
@@ -85,10 +100,6 @@ export class ExpressAdapter extends AbstractHttpAdapter {
     return response.status(statusCode);
   }
 
-  public end(response: any, message?: string) {
-    return response.end(message);
-  }
-
   public render(response: any, view: string, options: any) {
     return response.render(view, options);
   }
@@ -105,10 +116,6 @@ export class ExpressAdapter extends AbstractHttpAdapter {
     return this.use(handler);
   }
 
-  public isHeadersSent(response: any): boolean {
-    return response.headersSent;
-  }
-
   public setHeader(response: any, name: string, value: string) {
     return response.set(name, value);
   }
diff --git a/packages/platform-express/package.json b/packages/platform-express/package.json
index 0a6713a5a..9ac643d3a 100644
--- a/packages/platform-express/package.json
+++ b/packages/platform-express/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/platform-express",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@platform-express)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -24,11 +24,11 @@
     "tslib": "2.4.0"
   },
   "devDependencies": {
-    "@nestjs/common": "9.0.3",
-    "@nestjs/core": "9.0.3"
+    "@nestjs/common": "8.4.7",
+    "@nestjs/core": "8.4.7"
   },
   "peerDependencies": {
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/core": "^9.0.0"
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/core": "^8.0.0"
   }
 }
diff --git a/packages/platform-fastify/Readme.md b/packages/platform-fastify/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/platform-fastify/Readme.md
+++ b/packages/platform-fastify/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/platform-fastify/adapters/fastify-adapter.ts b/packages/platform-fastify/adapters/fastify-adapter.ts
index 1043bfef4..3113a4a29 100644
--- a/packages/platform-fastify/adapters/fastify-adapter.ts
+++ b/packages/platform-fastify/adapters/fastify-adapter.ts
@@ -6,9 +6,8 @@ import {
   StreamableFile,
   VersioningOptions,
   VersioningType,
-  VERSION_NEUTRAL,
 } from '@nestjs/common';
-import { VersionValue } from '@nestjs/common/interfaces';
+import { VersionValue, VERSION_NEUTRAL } from '@nestjs/common/interfaces';
 import {
   CorsOptions,
   CorsOptionsDelegate,
@@ -69,11 +68,7 @@ type FastifyHttpsOptions<
   https: https.ServerOptions;
 };
 
-type VersionedRoute<TRequest, TResponse> = ((
-  req: TRequest,
-  res: TResponse,
-  next: Function,
-) => Function) & {
+type VersionedRoute = Function & {
   version: VersionValue;
   versioningOptions: VersioningOptions;
 };
@@ -223,16 +218,8 @@ export class FastifyAdapter<
     hostname: string,
     callback?: () => void,
   ): void;
-  public listen(port: string | number, ...args: any[]): void {
-    const isFirstArgTypeofFunction = typeof args[0] === 'function';
-    const callback = isFirstArgTypeofFunction ? args[0] : args[1];
-    const options: Record<string, any> = {
-      port: +port,
-    };
-    if (!isFirstArgTypeofFunction) {
-      options.host = args[0];
-    }
-    return this.instance.listen(options, callback);
+  public listen(port: string | number, ...args: any[]): Promise<string> {
+    return this.instance.listen(port, ...args);
   }
 
   public get(...args: any[]) {
@@ -267,11 +254,11 @@ export class FastifyAdapter<
     handler: Function,
     version: VersionValue,
     versioningOptions: VersioningOptions,
-  ): VersionedRoute<TRequest, TReply> {
+  ) {
     if (!this.versioningOptions) {
       this.versioningOptions = versioningOptions;
     }
-    const versionedRoute = handler as VersionedRoute<TRequest, TReply>;
+    const versionedRoute = handler as VersionedRoute;
     versionedRoute.version = version;
     return versionedRoute;
   }
@@ -333,10 +320,6 @@ export class FastifyAdapter<
     return (response as TReply).code(statusCode);
   }
 
-  public end(response: TReply, message?: string) {
-    response.raw.end(message);
-  }
-
   public render(
     response: TReply & { view: Function },
     view: string,
@@ -399,8 +382,8 @@ export class FastifyAdapter<
 
   public useStaticAssets(options: FastifyStaticOptions) {
     return this.register(
-      loadPackage('@fastify/static', 'FastifyAdapter.useStaticAssets()', () =>
-        require('@fastify/static'),
+      loadPackage('fastify-static', 'FastifyAdapter.useStaticAssets()', () =>
+        require('fastify-static'),
       ),
       options,
     );
@@ -414,17 +397,13 @@ export class FastifyAdapter<
       process.exit(1);
     }
     return this.register(
-      loadPackage('@fastify/view', 'FastifyAdapter.setViewEngine()', () =>
-        require('@fastify/view'),
+      loadPackage('point-of-view', 'FastifyAdapter.setViewEngine()', () =>
+        require('point-of-view'),
       ),
       options,
     );
   }
 
-  public isHeadersSent(response: TReply): boolean {
-    return response.sent;
-  }
-
   public setHeader(response: TReply, name: string, value: string) {
     return response.header(name, value);
   }
@@ -444,19 +423,14 @@ export class FastifyAdapter<
   }
 
   public enableCors(options: CorsOptions | CorsOptionsDelegate<TRequest>) {
-    this.register(
-      import('@fastify/cors') as Parameters<TInstance['register']>[0],
-      options,
-    );
+    this.register(import('fastify-cors'), options);
   }
 
   public registerParserMiddleware(prefix?: string, rawBody?: boolean) {
     if (this._isParserRegistered) {
       return;
     }
-    this.register(
-      import('@fastify/formbody') as Parameters<TInstance['register']>[0],
-    );
+    this.register(import('fastify-formbody'));
 
     if (rawBody) {
       this.registerContentParserWithRawBody();
@@ -479,7 +453,7 @@ export class FastifyAdapter<
       // Fallback to "(.*)" to support plugins like GraphQL
       normalizedPath = normalizedPath === '/(.*)' ? '(.*)' : normalizedPath;
 
-      // The following type assertion is valid as we use import('@fastify/middie') rather than require('@fastify/middie')
+      // The following type assertion is valid as we use import('middie') rather than require('middie')
       // ref https://github.com/fastify/middie/pull/55
       this.instance.use(
         normalizedPath,
@@ -535,9 +509,7 @@ export class FastifyAdapter<
 
   private async registerMiddie() {
     this.isMiddieRegistered = true;
-    await this.register(
-      import('@fastify/middie') as Parameters<TInstance['register']>[0],
-    );
+    await this.register(import('middie'));
   }
 
   private getRequestOriginalUrl(rawRequest: TRawRequest) {
diff --git a/packages/platform-fastify/interfaces/external/fastify-static-options.interface.ts b/packages/platform-fastify/interfaces/external/fastify-static-options.interface.ts
index a0ccb1f22..9f591764a 100644
--- a/packages/platform-fastify/interfaces/external/fastify-static-options.interface.ts
+++ b/packages/platform-fastify/interfaces/external/fastify-static-options.interface.ts
@@ -2,28 +2,15 @@
  * "fastify-static" interfaces
  * @see https://github.com/fastify/fastify-static/blob/master/index.d.ts
  */
-import { Stats } from 'fs';
-
-interface ExtendedInformation {
-  fileCount: number;
-  totalFileCount: number;
-  folderCount: number;
-  totalFolderCount: number;
-  totalSize: number;
-  lastModified: number;
-}
 
 interface ListDir {
   href: string;
   name: string;
-  stats: Stats;
-  extendedInfo?: ExtendedInformation;
 }
 
 interface ListFile {
   href: string;
   name: string;
-  stats: Stats;
 }
 
 interface ListRender {
@@ -34,8 +21,6 @@ interface ListOptions {
   format: 'json' | 'html';
   names: string[];
   render: ListRender;
-  extendedFolderInfo?: boolean;
-  jsonFormat?: 'names' | 'extended';
 }
 
 // Passed on to `send`
@@ -63,11 +48,6 @@ export interface FastifyStaticOptions extends SendOptions {
   wildcard?: boolean;
   list?: boolean | ListOptions;
   allowedPath?: (pathName: string, root?: string) => boolean;
-  /**
-   * @description
-   * Opt-in to looking for pre-compressed files
-   */
-  preCompressed?: boolean;
 
   // Passed on to `send`
   acceptRanges?: boolean;
diff --git a/packages/platform-fastify/interfaces/external/point-of-view-options.interface.ts b/packages/platform-fastify/interfaces/external/point-of-view-options.interface.ts
index f7ce1adeb..4d5f918c6 100644
--- a/packages/platform-fastify/interfaces/external/point-of-view-options.interface.ts
+++ b/packages/platform-fastify/interfaces/external/point-of-view-options.interface.ts
@@ -9,6 +9,7 @@ export interface PointOfViewOptions {
     nunjucks?: any;
     pug?: any;
     handlebars?: any;
+    marko?: any;
     mustache?: any;
     'art-template'?: any;
     twig?: any;
diff --git a/packages/platform-fastify/interfaces/nest-fastify-application.interface.ts b/packages/platform-fastify/interfaces/nest-fastify-application.interface.ts
index 71908f43a..f275385ba 100644
--- a/packages/platform-fastify/interfaces/nest-fastify-application.interface.ts
+++ b/packages/platform-fastify/interfaces/nest-fastify-application.interface.ts
@@ -16,7 +16,7 @@ import { FastifyStaticOptions, PointOfViewOptions } from './external';
 export interface NestFastifyApplication extends INestApplication {
   /**
    * A wrapper function around native `fastify.register()` method.
-   * Example `app.register(require('@fastify/formbody'))
+   * Example `app.register(require('fastify-formbody'))
    * @returns {Promise<FastifyInstance>}
    */
   register<Options extends FastifyPluginOptions = any>(
diff --git a/packages/platform-fastify/package.json b/packages/platform-fastify/package.json
index 1f75404e0..fd4c7ce9f 100644
--- a/packages/platform-fastify/package.json
+++ b/packages/platform-fastify/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/platform-fastify",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@platform-fastify)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -17,26 +17,16 @@
     "access": "public"
   },
   "dependencies": {
-    "@fastify/cors": "8.0.0",
-    "@fastify/formbody": "7.0.1",
-    "@fastify/middie": "8.0.0",
-    "fastify": "4.2.1",
+    "fastify": "3.29.0",
+    "fastify-cors": "6.1.0",
+    "fastify-formbody": "5.3.0",
     "light-my-request": "5.0.0",
+    "middie": "6.1.0",
     "path-to-regexp": "3.2.0",
     "tslib": "2.4.0"
   },
   "peerDependencies": {
-    "@fastify/static": "^6.0.0",
-    "@fastify/view": "^7.0.0",
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/core": "^9.0.0"
-  },
-  "peerDependenciesMeta": {
-    "@fastify/static": {
-      "optional": true
-    },
-    "@fastify/view": {
-      "optional": true
-    }
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/core": "^8.0.0"
   }
 }
diff --git a/packages/platform-socket.io/Readme.md b/packages/platform-socket.io/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/platform-socket.io/Readme.md
+++ b/packages/platform-socket.io/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/platform-socket.io/package.json b/packages/platform-socket.io/package.json
index af074797b..21e06cf47 100644
--- a/packages/platform-socket.io/package.json
+++ b/packages/platform-socket.io/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/platform-socket.io",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@platform-socket.io)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -21,8 +21,8 @@
     "tslib": "2.4.0"
   },
   "peerDependencies": {
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/websockets": "^9.0.0",
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/websockets": "^8.0.0",
     "rxjs": "^7.1.0"
   }
 }
diff --git a/packages/platform-ws/Readme.md b/packages/platform-ws/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/platform-ws/Readme.md
+++ b/packages/platform-ws/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/platform-ws/package.json b/packages/platform-ws/package.json
index 9b7b5f979..da2154a36 100644
--- a/packages/platform-ws/package.json
+++ b/packages/platform-ws/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/platform-ws",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@platform-ws)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -21,8 +21,8 @@
     "ws": "8.8.0"
   },
   "peerDependencies": {
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/websockets": "^9.0.0",
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/websockets": "^8.0.0",
     "rxjs": "^7.1.0"
   }
 }
diff --git a/packages/testing/Readme.md b/packages/testing/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/testing/Readme.md
+++ b/packages/testing/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/testing/package-lock.json b/packages/testing/package-lock.json
new file mode 100644
index 000000000..bf611a2b7
Binary files /dev/null and b/packages/testing/package-lock.json differ
diff --git a/packages/testing/package.json b/packages/testing/package.json
index 51c61331f..8dabd8912 100644
--- a/packages/testing/package.json
+++ b/packages/testing/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/testing",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@testing)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -20,10 +20,10 @@
     "tslib": "2.4.0"
   },
   "peerDependencies": {
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/core": "^9.0.0",
-    "@nestjs/microservices": "^9.0.0",
-    "@nestjs/platform-express": "^9.0.0"
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/core": "^8.0.0",
+    "@nestjs/microservices": "^8.0.0",
+    "@nestjs/platform-express": "^8.0.0"
   },
   "peerDependenciesMeta": {
     "@nestjs/microservices": {
diff --git a/packages/testing/testing-module.ts b/packages/testing/testing-module.ts
index ec632c453..e107acc52 100644
--- a/packages/testing/testing-module.ts
+++ b/packages/testing/testing-module.ts
@@ -29,43 +29,20 @@ export class TestingModule extends NestApplicationContext {
     super(container, scope, contextModule);
   }
 
-  private isHttpServer(
-    serverOrOptions:
-      | HttpServer
-      | AbstractHttpAdapter
-      | NestApplicationOptions
-      | undefined,
-  ): serverOrOptions is HttpServer | AbstractHttpAdapter {
-    return !!(serverOrOptions && (serverOrOptions as HttpServer).patch);
-  }
-
-  public createNestApplication<T extends INestApplication = INestApplication>(
-    httpAdapter: HttpServer | AbstractHttpAdapter,
-    options?: NestApplicationOptions,
-  ): T;
   public createNestApplication<T extends INestApplication = INestApplication>(
-    options?: NestApplicationOptions,
-  ): T;
-  public createNestApplication<T extends INestApplication = INestApplication>(
-    serverOrOptions:
-      | HttpServer
-      | AbstractHttpAdapter
-      | NestApplicationOptions
-      | undefined,
+    httpAdapter?: HttpServer | AbstractHttpAdapter,
     options?: NestApplicationOptions,
   ): T {
-    const [httpAdapter, appOptions] = this.isHttpServer(serverOrOptions)
-      ? [serverOrOptions, options]
-      : [this.createHttpAdapter(), serverOrOptions];
+    httpAdapter = httpAdapter || this.createHttpAdapter();
 
-    this.applyLogger(appOptions);
+    this.applyLogger(options);
     this.container.setHttpAdapter(httpAdapter);
 
     const instance = new NestApplication(
       this.container,
       httpAdapter,
       this.applicationConfig,
-      appOptions,
+      options,
     );
     return this.createAdapterProxy<T>(instance, httpAdapter);
   }
diff --git a/packages/websockets/Readme.md b/packages/websockets/Readme.md
index 702a5dc3c..9a3f42045 100644
--- a/packages/websockets/Readme.md
+++ b/packages/websockets/Readme.md
@@ -128,8 +128,6 @@ Nest is an MIT-licensed open source project. It can grow thanks to the sponsors
      <td align="center" valign="middle"><a href="https://polygon-software.ch/" target="_blank"><img src="https://nestjs.com/img/polygon-logo.svg" width="120" valign="middle" /></a></td>
    <td align="center" valign="middle"><a href="https://mobilereality.pl/" target="_blank"><img src="https://nestjs.com/img/mobile-reality-logo.png" width="45" valign="middle" /></a></td>
      <td align="center" valign="middle"><a href="https://boringowl.io/" target="_blank"><img src="https://nestjs.com/img/boringowl-logo.svg" width="120" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://www.mobilefactory.jp/" target="_blank"><img src="https://nestjs.com/img/mobilefactory-logo.png" width="100" valign="middle" /></a></td>
- <td align="center" valign="middle"><a href="https://db.nordbot.app/" target="_blank"><img src="https://nestjs.com/img/nord-logo.png" width="50" valign="middle" /></a></td>
   </tr></table>
 
 ## Backers
diff --git a/packages/websockets/interfaces/gateway-metadata.interface.ts b/packages/websockets/interfaces/gateway-metadata.interface.ts
index 9221f68ab..e5ac2e7bc 100644
--- a/packages/websockets/interfaces/gateway-metadata.interface.ts
+++ b/packages/websockets/interfaces/gateway-metadata.interface.ts
@@ -51,7 +51,7 @@ export interface GatewayMetadata {
   upgradeTimeout?: number;
   /**
    * How many bytes or characters a message can be, before closing the session (to avoid DoS).
-   * @default 1e6 (1 MB)
+   * @default 1e5 (100 KB)
    */
   maxHttpBufferSize?: number;
   /**
diff --git a/packages/websockets/package.json b/packages/websockets/package.json
index 5e0cc126a..af1d682be 100644
--- a/packages/websockets/package.json
+++ b/packages/websockets/package.json
@@ -1,6 +1,6 @@
 {
   "name": "@nestjs/websockets",
-  "version": "9.0.3",
+  "version": "8.4.7",
   "description": "Nest - modern, fast, powerful node.js web framework (@websockets)",
   "author": "Kamil Mysliwiec",
   "license": "MIT",
@@ -17,13 +17,13 @@
     "tslib": "2.4.0"
   },
   "devDependencies": {
-    "@nestjs/common": "9.0.3",
-    "@nestjs/core": "9.0.3"
+    "@nestjs/common": "8.4.7",
+    "@nestjs/core": "8.4.7"
   },
   "peerDependencies": {
-    "@nestjs/common": "^9.0.0",
-    "@nestjs/core": "^9.0.0",
-    "@nestjs/platform-socket.io": "^9.0.0",
+    "@nestjs/common": "^8.0.0",
+    "@nestjs/core": "^8.0.0",
+    "@nestjs/platform-socket.io": "^8.0.0",
     "reflect-metadata": "^0.1.12",
     "rxjs": "^7.1.0"
   },
diff --git a/packages/websockets/web-sockets-controller.ts b/packages/websockets/web-sockets-controller.ts
index d01811e17..75e790c82 100644
--- a/packages/websockets/web-sockets-controller.ts
+++ b/packages/websockets/web-sockets-controller.ts
@@ -1,14 +1,9 @@
 import { Type } from '@nestjs/common/interfaces/type.interface';
 import { Logger } from '@nestjs/common/services/logger.service';
+import { isFunction } from '@nestjs/common/utils/shared.utils';
 import { ApplicationConfig } from '@nestjs/core/application-config';
 import { MetadataScanner } from '@nestjs/core/metadata-scanner';
-import {
-  from as fromPromise,
-  Observable,
-  isObservable,
-  of,
-  Subject,
-} from 'rxjs';
+import { from as fromPromise, Observable, of, Subject } from 'rxjs';
 import { distinctUntilChanged, mergeAll } from 'rxjs/operators';
 import { GATEWAY_OPTIONS, PORT_METADATA } from './constants';
 import { WsContextCreator } from './context/ws-context-creator';
@@ -163,7 +158,7 @@ export class WebSocketsController {
     deferredResult: Promise<any>,
   ): Promise<Observable<any>> {
     const result = await deferredResult;
-    if (isObservable(result)) {
+    if (result && isFunction(result.subscribe)) {
       return result;
     }
     if (result instanceof Promise) {
diff --git a/renovate.json b/renovate.json
index 0bb2d8556..a75e902ef 100644
--- a/renovate.json
+++ b/renovate.json
@@ -1,5 +1,7 @@
 {
-  "extends": ["config:base"],
+  "extends": [
+    "config:base"
+  ],
   "labels": ["dependencies"],
   "packageRules": [
     {
diff --git a/sample/01-cats-app/package-lock.json b/sample/01-cats-app/package-lock.json
index e1c1c9b68..1f3bf12b1 100644
Binary files a/sample/01-cats-app/package-lock.json and b/sample/01-cats-app/package-lock.json differ
diff --git a/sample/01-cats-app/package.json b/sample/01-cats-app/package.json
index 20504858a..0f3562953 100644
--- a/sample/01-cats-app/package.json
+++ b/sample/01-cats-app/package.json
@@ -19,36 +19,36 @@
     "test:e2e": "jest --config ./e2e/jest-e2e.json"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/02-gateways/package-lock.json b/sample/02-gateways/package-lock.json
index d272cb8d0..450745806 100644
Binary files a/sample/02-gateways/package-lock.json and b/sample/02-gateways/package-lock.json differ
diff --git a/sample/02-gateways/package.json b/sample/02-gateways/package.json
index 0317efb04..910a63c62 100644
--- a/sample/02-gateways/package.json
+++ b/sample/02-gateways/package.json
@@ -19,40 +19,40 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/platform-socket.io": "9.0.1",
-    "@nestjs/websockets": "9.0.1",
-    "@socket.io/redis-adapter": "7.2.0",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "@nestjs/platform-socket.io": "8.2.4",
+    "@nestjs/websockets": "8.2.3",
+    "@socket.io/redis-adapter": "7.1.0",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "socket.io": "4.5.1"
+    "rxjs": "7.4.0",
+    "socket.io": "4.4.1"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@types/ws": "8.5.3",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "redis": "4.2.0",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@types/ws": "8.2.2",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "redis": "4.0.3",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/03-microservices/package-lock.json b/sample/03-microservices/package-lock.json
index 1be26269f..2081cae2d 100644
Binary files a/sample/03-microservices/package-lock.json and b/sample/03-microservices/package-lock.json differ
diff --git a/sample/03-microservices/package.json b/sample/03-microservices/package.json
index 9be88ca1f..9b2e8701c 100644
--- a/sample/03-microservices/package.json
+++ b/sample/03-microservices/package.json
@@ -19,36 +19,36 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/microservices": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/microservices": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/amqplib": "0.8.2",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/04-grpc/package-lock.json b/sample/04-grpc/package-lock.json
index 05469575a..c5d034295 100644
Binary files a/sample/04-grpc/package-lock.json and b/sample/04-grpc/package-lock.json differ
diff --git a/sample/04-grpc/package.json b/sample/04-grpc/package.json
index 9a4ba80c1..698f661d3 100644
--- a/sample/04-grpc/package.json
+++ b/sample/04-grpc/package.json
@@ -19,36 +19,36 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@grpc/grpc-js": "1.6.7",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/microservices": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@grpc/grpc-js": "1.4.4",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/microservices": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/05-sql-typeorm/package-lock.json b/sample/05-sql-typeorm/package-lock.json
index a8f573b16..ac4a293b1 100644
Binary files a/sample/05-sql-typeorm/package-lock.json and b/sample/05-sql-typeorm/package-lock.json differ
diff --git a/sample/05-sql-typeorm/package.json b/sample/05-sql-typeorm/package.json
index 761db7920..5cd6af955 100644
--- a/sample/05-sql-typeorm/package.json
+++ b/sample/05-sql-typeorm/package.json
@@ -19,37 +19,37 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/typeorm": "9.0.0",
+    "@nestjs/common": "8.4.5",
+    "@nestjs/core": "8.4.5",
+    "@nestjs/platform-express": "8.4.5",
+    "@nestjs/typeorm": "8.1.0",
     "mysql2": "2.3.3",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "typeorm": "0.3.7"
+    "rxjs": "7.4.0",
+    "typeorm": "0.3.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.4.5",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/06-mongoose/package-lock.json b/sample/06-mongoose/package-lock.json
index 6f1ff3c2d..3b88c4d08 100644
Binary files a/sample/06-mongoose/package-lock.json and b/sample/06-mongoose/package-lock.json differ
diff --git a/sample/06-mongoose/package.json b/sample/06-mongoose/package.json
index 57ee58f91..3996e3a4d 100644
--- a/sample/06-mongoose/package.json
+++ b/sample/06-mongoose/package.json
@@ -19,36 +19,36 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/mongoose": "9.2.0",
-    "@nestjs/platform-express": "9.0.1",
-    "mongoose": "6.4.4",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/mongoose": "9.0.1",
+    "@nestjs/platform-express": "8.2.3",
+    "mongoose": "6.0.15",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/07-sequelize/package-lock.json b/sample/07-sequelize/package-lock.json
index 72134d3bb..5309547a7 100644
Binary files a/sample/07-sequelize/package-lock.json and b/sample/07-sequelize/package-lock.json differ
diff --git a/sample/07-sequelize/package.json b/sample/07-sequelize/package.json
index b1233cdea..afd851bfc 100644
--- a/sample/07-sequelize/package.json
+++ b/sample/07-sequelize/package.json
@@ -19,39 +19,39 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/sequelize": "9.0.0",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "@nestjs/sequelize": "8.0.0",
     "mysql2": "2.3.3",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "sequelize": "6.21.2",
-    "sequelize-typescript": "2.1.3",
-    "typescript": "4.7.4"
+    "rxjs": "7.4.0",
+    "sequelize": "6.9.0",
+    "sequelize-typescript": "2.1.1",
+    "typescript": "4.3.5"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/07-sequelize/src/users/users.service.ts b/sample/07-sequelize/src/users/users.service.ts
index 615252598..ebdb2282e 100644
--- a/sample/07-sequelize/src/users/users.service.ts
+++ b/sample/07-sequelize/src/users/users.service.ts
@@ -11,10 +11,7 @@ export class UsersService {
   ) {}
 
   create(createUserDto: CreateUserDto): Promise<User> {
-    return this.userModel.create({
-      firstName: createUserDto.firstName,
-      lastName: createUserDto.lastName,
-    });
+    return this.userModel.create(createUserDto);
   }
 
   async findAll(): Promise<User[]> {
diff --git a/sample/08-webpack/package-lock.json b/sample/08-webpack/package-lock.json
index 794c55e31..22b640f3b 100644
Binary files a/sample/08-webpack/package-lock.json and b/sample/08-webpack/package-lock.json differ
diff --git a/sample/08-webpack/package.json b/sample/08-webpack/package.json
index de629c430..bd3082723 100644
--- a/sample/08-webpack/package.json
+++ b/sample/08-webpack/package.json
@@ -8,31 +8,30 @@
     "build:dev": "nest build --watch --webpack --webpackPath webpack-hmr.config.js",
     "start": "node dist/main",
     "lint": "eslint '{src,apps,libs,test}/**/*.ts' --fix",
-    "test": "echo 'No tests implemented yet.'",
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
     "reflect-metadata": "0.1.13",
-    "rxjs": "7.5.5",
-    "typescript": "4.7.4"
+    "rxjs": "7.4.0",
+    "typescript": "4.3.5"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@types/node": "18.0.3",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@types/node": "16.11.26",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
     "start-server-webpack-plugin": "2.2.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "webpack": "5.73.0",
-    "webpack-cli": "4.10.0",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "webpack": "5.64.4",
+    "webpack-cli": "4.9.2",
     "webpack-node-externals": "3.0.0"
   }
 }
diff --git a/sample/09-babel-example/package-lock.json b/sample/09-babel-example/package-lock.json
index d8924b330..73d9627a8 100644
Binary files a/sample/09-babel-example/package-lock.json and b/sample/09-babel-example/package-lock.json differ
diff --git a/sample/09-babel-example/package.json b/sample/09-babel-example/package.json
index 91eb2b03d..27e52a508 100644
--- a/sample/09-babel-example/package.json
+++ b/sample/09-babel-example/package.json
@@ -13,28 +13,28 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/microservices": "9.0.1",
-    "@nestjs/websockets": "9.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "@nestjs/microservices": "8.2.3",
+    "@nestjs/websockets": "8.2.3",
     "reflect-metadata": "0.1.13",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@babel/cli": "7.18.6",
-    "@babel/core": "7.18.6",
-    "@babel/node": "7.18.6",
-    "@babel/plugin-proposal-decorators": "7.18.6",
-    "@babel/plugin-transform-runtime": "7.18.6",
-    "@babel/preset-env": "7.18.6",
-    "@babel/register": "7.18.6",
-    "@babel/runtime": "7.18.6",
-    "@nestjs/testing": "9.0.1",
-    "jest": "28.1.2",
-    "nodemon": "2.0.19",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4"
+    "@babel/cli": "7.17.6",
+    "@babel/core": "7.17.8",
+    "@babel/node": "7.16.8",
+    "@babel/plugin-proposal-decorators": "7.17.8",
+    "@babel/plugin-transform-runtime": "7.17.0",
+    "@babel/preset-env": "7.16.11",
+    "@babel/register": "7.17.7",
+    "@babel/runtime": "7.17.8",
+    "@nestjs/testing": "8.2.3",
+    "jest": "27.5.1",
+    "nodemon": "2.0.15",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/10-fastify/package-lock.json b/sample/10-fastify/package-lock.json
index 88412b2ca..62d3daa22 100644
Binary files a/sample/10-fastify/package-lock.json and b/sample/10-fastify/package-lock.json differ
diff --git a/sample/10-fastify/package.json b/sample/10-fastify/package.json
index e47a1fa77..ae7816b8a 100644
--- a/sample/10-fastify/package.json
+++ b/sample/10-fastify/package.json
@@ -19,34 +19,34 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-fastify": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-fastify": "8.2.3",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/11-swagger/package-lock.json b/sample/11-swagger/package-lock.json
index 6b563fabf..5548b5217 100644
Binary files a/sample/11-swagger/package-lock.json and b/sample/11-swagger/package-lock.json differ
diff --git a/sample/11-swagger/package.json b/sample/11-swagger/package.json
index 32d80f423..0889b7ad0 100644
--- a/sample/11-swagger/package.json
+++ b/sample/11-swagger/package.json
@@ -19,35 +19,36 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/swagger": "6.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "@nestjs/swagger": "5.1.5",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0",
+    "swagger-ui-express": "4.2.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/12-graphql-schema-first/package-lock.json b/sample/12-graphql-schema-first/package-lock.json
index f5a9519f5..e5467188a 100644
Binary files a/sample/12-graphql-schema-first/package-lock.json and b/sample/12-graphql-schema-first/package-lock.json differ
diff --git a/sample/12-graphql-schema-first/package.json b/sample/12-graphql-schema-first/package.json
index 308efcc4e..44e83e3d6 100644
--- a/sample/12-graphql-schema-first/package.json
+++ b/sample/12-graphql-schema-first/package.json
@@ -19,42 +19,42 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@graphql-tools/utils": "8.8.0",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server": "3.9.0",
-    "apollo-server-express": "3.9.0",
-    "class-transformer": "0.5.1",
+    "@graphql-tools/utils": "8.6.3",
+    "@nestjs/apollo": "10.0.0",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server": "3.6.2",
+    "apollo-server-express": "3.6.2",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
-    "graphql": "16.5.0",
+    "graphql": "15.7.2",
     "graphql-subscriptions": "2.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-morph": "15.1.0",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-morph": "12.2.0",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.4.2"
   }
 }
diff --git a/sample/13-mongo-typeorm/package-lock.json b/sample/13-mongo-typeorm/package-lock.json
index c55ff924b..50260a27e 100644
Binary files a/sample/13-mongo-typeorm/package-lock.json and b/sample/13-mongo-typeorm/package-lock.json differ
diff --git a/sample/13-mongo-typeorm/package.json b/sample/13-mongo-typeorm/package.json
index 067b16796..37c15a7ac 100644
--- a/sample/13-mongo-typeorm/package.json
+++ b/sample/13-mongo-typeorm/package.json
@@ -19,37 +19,37 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/typeorm": "9.0.0",
-    "mongodb": "3.6.0",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "@nestjs/typeorm": "8.0.2",
+    "mongodb": "3.7.3",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "typeorm": "0.3.7"
+    "rxjs": "7.4.0",
+    "typeorm": "0.2.41"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/14-mongoose-base/package-lock.json b/sample/14-mongoose-base/package-lock.json
index 051ce8013..10c9948a9 100644
Binary files a/sample/14-mongoose-base/package-lock.json and b/sample/14-mongoose-base/package-lock.json differ
diff --git a/sample/14-mongoose-base/package.json b/sample/14-mongoose-base/package.json
index 5c5819d9c..aa2d93b68 100644
--- a/sample/14-mongoose-base/package.json
+++ b/sample/14-mongoose-base/package.json
@@ -19,35 +19,35 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "mongoose": "6.4.4",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "mongoose": "6.0.15",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/15-mvc/package-lock.json b/sample/15-mvc/package-lock.json
index bc6c2f3a4..217509e85 100644
Binary files a/sample/15-mvc/package-lock.json and b/sample/15-mvc/package-lock.json differ
diff --git a/sample/15-mvc/package.json b/sample/15-mvc/package.json
index 6fac51a12..826740233 100644
--- a/sample/15-mvc/package.json
+++ b/sample/15-mvc/package.json
@@ -19,34 +19,34 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
     "hbs": "4.2.0",
     "pug": "3.0.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/16-gateways-ws/package-lock.json b/sample/16-gateways-ws/package-lock.json
index 143fb29d3..644c9c453 100644
Binary files a/sample/16-gateways-ws/package-lock.json and b/sample/16-gateways-ws/package-lock.json differ
diff --git a/sample/16-gateways-ws/package.json b/sample/16-gateways-ws/package.json
index b6c1e534c..a5d024427 100644
--- a/sample/16-gateways-ws/package.json
+++ b/sample/16-gateways-ws/package.json
@@ -19,38 +19,38 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/platform-ws": "9.0.1",
-    "@nestjs/websockets": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "@nestjs/platform-ws": "8.2.3",
+    "@nestjs/websockets": "8.2.3",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "rimraf": "3.0.2",
     "reflect-metadata": "0.1.13",
-    "rxjs": "7.5.5",
-    "ws": "8.8.0"
+    "rxjs": "7.4.0",
+    "ws": "7.5.6"
   },
   "devDependencies": {
-    "@types/ws": "8.5.3",
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@types/ws": "7.4.7",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/17-mvc-fastify/package-lock.json b/sample/17-mvc-fastify/package-lock.json
index 8e0d5e733..7193960fe 100644
Binary files a/sample/17-mvc-fastify/package-lock.json and b/sample/17-mvc-fastify/package-lock.json differ
diff --git a/sample/17-mvc-fastify/package.json b/sample/17-mvc-fastify/package.json
index 60c0a2486..e2c4eb63f 100644
--- a/sample/17-mvc-fastify/package.json
+++ b/sample/17-mvc-fastify/package.json
@@ -1,53 +1,53 @@
 {
-    "name": "nest-typescript-starter",
-    "version": "1.0.0",
-    "description": "Nest TypeScript starter repository",
-    "license": "MIT",
-    "scripts": {
-        "prebuild": "rimraf dist",
-        "build": "nest build",
-        "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
-        "start": "nest start",
-        "start:dev": "nest start --watch",
-        "start:debug": "nest start --debug --watch",
-        "start:prod": "node dist/main",
-        "lint": "eslint '{src,apps,libs,test}/**/*.ts' --fix",
-        "test": "jest",
-        "test:watch": "jest --watch",
-        "test:cov": "jest --coverage",
-        "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
-        "test:e2e": "echo 'No e2e tests implemented yet.'"
-    },
-    "dependencies": {
-        "@nestjs/common": "9.0.1",
-        "@nestjs/core": "9.0.1",
-        "@nestjs/platform-fastify": "9.0.1",
-        "@fastify/static": "6.4.0",
-        "handlebars": "4.7.7",
-        "@fastify/view": "7.0.0",
-        "reflect-metadata": "0.1.13",
-        "rimraf": "3.0.2",
-        "rxjs": "7.5.5"
-    },
-    "devDependencies": {
-        "@nestjs/cli": "9.0.0",
-        "@nestjs/schematics": "9.0.1",
-        "@nestjs/testing": "9.0.1",
-        "@types/express": "4.17.13",
-        "@types/node": "18.0.3",
-        "@types/supertest": "2.0.12",
-        "@typescript-eslint/eslint-plugin": "5.30.5",
-        "@typescript-eslint/parser": "5.30.5",
-        "eslint": "8.19.0",
-        "eslint-config-prettier": "8.5.0",
-        "eslint-plugin-import": "2.26.0",
-        "jest": "28.1.2",
-        "prettier": "2.7.1",
-        "supertest": "6.2.4",
-        "ts-jest": "28.0.5",
-        "ts-loader": "9.3.1",
-        "ts-node": "10.8.2",
-        "tsconfig-paths": "4.0.0",
-        "typescript": "4.7.4"
-    }
+  "name": "nest-typescript-starter",
+  "version": "1.0.0",
+  "description": "Nest TypeScript starter repository",
+  "license": "MIT",
+  "scripts": {
+    "prebuild": "rimraf dist",
+    "build": "nest build",
+    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
+    "start": "nest start",
+    "start:dev": "nest start --watch",
+    "start:debug": "nest start --debug --watch",
+    "start:prod": "node dist/main",
+    "lint": "eslint '{src,apps,libs,test}/**/*.ts' --fix",
+    "test": "jest",
+    "test:watch": "jest --watch",
+    "test:cov": "jest --coverage",
+    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
+    "test:e2e": "echo 'No e2e tests implemented yet.'"
+  },
+  "dependencies": {
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-fastify": "8.2.3",
+    "fastify-static": "4.5.0",
+    "handlebars": "4.7.7",
+    "point-of-view": "4.15.3",
+    "reflect-metadata": "0.1.13",
+    "rimraf": "3.0.2",
+    "rxjs": "7.4.0"
+  },
+  "devDependencies": {
+    "@nestjs/cli": "8.1.7",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
+    "@types/express": "4.17.13",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
+  }
 }
diff --git a/sample/18-context/package-lock.json b/sample/18-context/package-lock.json
index 6a88952a8..907d5026c 100644
Binary files a/sample/18-context/package-lock.json and b/sample/18-context/package-lock.json differ
diff --git a/sample/18-context/package.json b/sample/18-context/package.json
index 11dccf00e..af397b8f3 100644
--- a/sample/18-context/package.json
+++ b/sample/18-context/package.json
@@ -19,29 +19,29 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/19-auth-jwt/package-lock.json b/sample/19-auth-jwt/package-lock.json
index 7c1f7d517..bbde2473e 100644
Binary files a/sample/19-auth-jwt/package-lock.json and b/sample/19-auth-jwt/package-lock.json differ
diff --git a/sample/19-auth-jwt/package.json b/sample/19-auth-jwt/package.json
index d2dce9331..b1fd1c297 100644
--- a/sample/19-auth-jwt/package.json
+++ b/sample/19-auth-jwt/package.json
@@ -20,39 +20,39 @@
     "test:e2e": "jest --config ./e2e/jest-e2e.json"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/jwt": "9.0.0",
-    "@nestjs/passport": "9.0.0",
-    "@nestjs/platform-express": "9.0.1",
-    "passport": "0.6.0",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/jwt": "8.0.0",
+    "@nestjs/passport": "8.0.1",
+    "@nestjs/platform-express": "8.2.3",
+    "passport": "0.5.0",
     "passport-jwt": "4.0.0",
     "passport-local": "1.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/20-cache/package-lock.json b/sample/20-cache/package-lock.json
index 0304e49b4..c4f66a4a0 100644
Binary files a/sample/20-cache/package-lock.json and b/sample/20-cache/package-lock.json differ
diff --git a/sample/20-cache/package.json b/sample/20-cache/package.json
index 8a2244cf9..0429ef329 100644
--- a/sample/20-cache/package.json
+++ b/sample/20-cache/package.json
@@ -19,34 +19,34 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
     "cache-manager-redis-store": "2.0.0",
-    "class-transformer": "0.5.1",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/21-serializer/package-lock.json b/sample/21-serializer/package-lock.json
index 78ab170e8..e38ad4229 100644
Binary files a/sample/21-serializer/package-lock.json and b/sample/21-serializer/package-lock.json differ
diff --git a/sample/21-serializer/package.json b/sample/21-serializer/package.json
index 75e40184b..25bbfbfd5 100644
--- a/sample/21-serializer/package.json
+++ b/sample/21-serializer/package.json
@@ -19,33 +19,33 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "class-transformer": "0.4.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/22-graphql-prisma/.eslintrc.js b/sample/22-graphql-prisma/.eslintrc.js
old mode 100755
new mode 100644
diff --git a/sample/22-graphql-prisma/.gitignore b/sample/22-graphql-prisma/.gitignore
old mode 100755
new mode 100644
index d64fba583..d5c8a57e7
--- a/sample/22-graphql-prisma/.gitignore
+++ b/sample/22-graphql-prisma/.gitignore
@@ -1,27 +1,104 @@
-# dependencies
-/node_modules
 
-# IDE
-/.idea
-/.awcache
-/.vscode
+# Created by https://www.gitignore.io/api/node,macos,visualstudiocode
 
-# misc
-npm-debug.log
+### macOS ###
+*.DS_Store
+.AppleDouble
+.LSOverride
 
-# example
-/quick-start
+# Icon must end with two \r
+Icon
 
-# tests
-/test
-/coverage
-/.nyc_output
+# Thumbnails
+._*
 
-# dist
-/dist
+# Files that might appear in the root of a volume
+.DocumentRevisions-V100
+.fseventsd
+.Spotlight-V100
+.TemporaryItems
+.Trashes
+.VolumeIcon.icns
+.com.apple.timemachine.donotpresent
 
-# database
-prisma/dev.db
+# Directories potentially created on remote AFP share
+.AppleDB
+.AppleDesktop
+Network Trash Folder
+Temporary Items
+.apdisk
 
-# secrets
-.env
\ No newline at end of file
+### Node ###
+# Logs
+logs
+*.log
+npm-debug.log*
+yarn-debug.log*
+yarn-error.log*
+
+# Runtime data
+pids
+*.pid
+*.seed
+*.pid.lock
+
+# Directory for instrumented libs generated by jscoverage/JSCover
+lib-cov
+
+# Coverage directory used by tools like istanbul
+coverage
+
+# nyc test coverage
+.nyc_output
+
+# Grunt intermediate storage (http://gruntjs.com/creating-plugins#storing-task-files)
+.grunt
+
+# Bower dependency directory (https://bower.io/)
+bower_components
+
+# node-waf configuration
+.lock-wscript
+
+# Compiled binary addons (http://nodejs.org/api/addons.html)
+build/Release
+
+# Dependency directories
+node_modules/
+jspm_packages/
+
+# Typescript v1 declaration files
+typings/
+
+# Optional npm cache directory
+.npm
+
+# Optional eslint cache
+.eslintcache
+
+# Optional REPL history
+.node_repl_history
+
+# Output of 'npm pack'
+*.tgz
+
+# Yarn Integrity file
+.yarn-integrity
+
+# dotenv environment variables file
+.env
+
+### VisualStudioCode ###
+.vscode/*
+!.vscode/settings.json
+!.vscode/tasks.json
+!.vscode/launch.json
+!.vscode/extensions.json
+.history
+
+
+# Target Folder
+dist/
+*.deb
+
+# End of https://www.gitignore.io/api/node,macos,visualstudiocode
diff --git a/sample/22-graphql-prisma/.graphqlconfig.yml b/sample/22-graphql-prisma/.graphqlconfig.yml
new file mode 100644
index 000000000..0ef04dedd
--- /dev/null
+++ b/sample/22-graphql-prisma/.graphqlconfig.yml
@@ -0,0 +1,11 @@
+projects:
+  database:
+    schemaPath: src/prisma/prisma-types.graphql
+    extensions:
+      endpoints:
+        default: https://eu1.prisma.sh/public-agatepuma-476/my-app/dev
+      codegen:
+        - generator: prisma-binding
+          language: typescript
+          output:
+            binding: src/prisma/prisma.binding.ts
diff --git a/sample/22-graphql-prisma/README.md b/sample/22-graphql-prisma/README.md
deleted file mode 100755
index 75c5b827a..000000000
--- a/sample/22-graphql-prisma/README.md
+++ /dev/null
@@ -1,14 +0,0 @@
-### Prisma GraphQL schema first sample
-
-This sample project uses sqlite as the relational database. To use a different database, check the [Prisma docs](https://www.prisma.io/docs/getting-started).
-
-### Installation
-
-1. Install dependencies: `npm install`
-2. Generate TypeScript type definitions for the GraphQL schema: `npm run generate:typings`
-3. Create sqlite database and create tables: `npx prisma db push`
-4. Start server: `npm run start:dev`
-
-### Graphql Playground
-
-When the application is running, you can go to [http://localhost:3000/graphql](http://localhost:3000/graphql) to access the GraphQL Playground.  See [here](https://docs.nestjs.com/graphql/quick-start#playground) for more.
\ No newline at end of file
diff --git a/sample/22-graphql-prisma/database/datamodel.graphql b/sample/22-graphql-prisma/database/datamodel.graphql
new file mode 100644
index 000000000..d94e42feb
--- /dev/null
+++ b/sample/22-graphql-prisma/database/datamodel.graphql
@@ -0,0 +1,6 @@
+type Post {
+  id: ID! @unique @id
+  isPublished: Boolean! @default(value: false)
+  title: String!
+  text: String!
+}
diff --git a/sample/22-graphql-prisma/database/prisma.yml b/sample/22-graphql-prisma/database/prisma.yml
new file mode 100644
index 000000000..33bd8b9e7
--- /dev/null
+++ b/sample/22-graphql-prisma/database/prisma.yml
@@ -0,0 +1,20 @@
+# The endpoint of your Prisma API (deployed to a Prisma Sandbox).
+endpoint: https://eu1.prisma.sh/public-agatepuma-476/my-app/dev
+
+# The file containing the definition of your data model.
+datamodel: datamodel.graphql
+
+# Seed your service with initial data based on `seed.graphql`.
+seed:
+  import: seed.graphql
+
+# Download the GraphQL schema of the Prisma API into
+# `src/generated/prisma.graphql` (as specfied in `.graphqlconfig.yml`).
+hooks:
+  post-deploy:
+    - graphql get-schema --project database
+
+# If specified, the `secret` must be used to generate a JWT which is attached
+# to the `Authorization` header of HTTP requests made against the Prisma API.
+# Info: https://www.prisma.io/docs/reference/prisma-api/concepts-utee3eiquo#authentication
+# secret: mysecret123
diff --git a/sample/22-graphql-prisma/database/seed.graphql b/sample/22-graphql-prisma/database/seed.graphql
new file mode 100644
index 000000000..c5c21972f
--- /dev/null
+++ b/sample/22-graphql-prisma/database/seed.graphql
@@ -0,0 +1,31 @@
+mutation {
+  first: createPost(
+    data: {
+      title: "Hello World "
+      text: "I like turtles."
+      isPublished: true
+    }
+  ) {
+    id
+  }
+
+  second: createPost(
+    data: {
+      title: "Join us at GraphQL Europe  "
+      text: "Get a 10%-discount with this promo code on graphql-europe.org: gql-boilerplates"
+      isPublished: true
+    }
+  ) {
+    id
+  }
+
+  third: createPost(
+    data: {
+      title: "Solving world hunger"
+      text: "This is a draft..."
+      isPublished: false
+    }
+  ) {
+    id
+  }
+}
diff --git a/sample/22-graphql-prisma/generate-typings.ts b/sample/22-graphql-prisma/generate-typings.ts
deleted file mode 100755
index 91f00bd20..000000000
--- a/sample/22-graphql-prisma/generate-typings.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-import { GraphQLDefinitionsFactory } from '@nestjs/graphql';
-import { join } from 'path';
-
-const definitionsFactory = new GraphQLDefinitionsFactory();
-definitionsFactory.generate({
-  typePaths: ['./src/**/*.graphql'],
-  path: join(process.cwd(), 'src/graphql.schema.ts'),
-  outputAs: 'class',
-});
diff --git a/sample/22-graphql-prisma/nest-cli.json b/sample/22-graphql-prisma/nest-cli.json
deleted file mode 100755
index 89bc59ae9..000000000
--- a/sample/22-graphql-prisma/nest-cli.json
+++ /dev/null
@@ -1,5 +0,0 @@
-{
-  "compilerOptions": {
-    "assets": ["**/*.graphql"]
-  }
-}
diff --git a/sample/22-graphql-prisma/nodemon.json b/sample/22-graphql-prisma/nodemon.json
new file mode 100644
index 000000000..cef103d86
--- /dev/null
+++ b/sample/22-graphql-prisma/nodemon.json
@@ -0,0 +1,6 @@
+{
+  "watch": ["src"],
+  "ext": "ts",
+  "ignore": ["src/**/*.spec.ts", "src/graphql.schema.d.ts"],
+  "exec": "ts-node -r tsconfig-paths/register src/main.ts"
+}
diff --git a/sample/22-graphql-prisma/package-lock.json b/sample/22-graphql-prisma/package-lock.json
index d0e2195a9..c613518e9 100644
Binary files a/sample/22-graphql-prisma/package-lock.json and b/sample/22-graphql-prisma/package-lock.json differ
diff --git a/sample/22-graphql-prisma/package.json b/sample/22-graphql-prisma/package.json
old mode 100755
new mode 100644
index f808c73d6..4f1f230d5
--- a/sample/22-graphql-prisma/package.json
+++ b/sample/22-graphql-prisma/package.json
@@ -6,7 +6,6 @@
   "scripts": {
     "prebuild": "rimraf dist",
     "build": "nest build",
-    "generate:typings": "ts-node generate-typings.ts",
     "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
     "start": "nest start",
     "start:dev": "nest start --watch",
@@ -20,43 +19,38 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/apollo": "^10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "@prisma/client": "3.8.1",
-    "apollo-server": "3.6.2",
+    "@nestjs/apollo": "10.0.0",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
     "apollo-server-express": "3.6.2",
-    "class-transformer": "0.5.1",
-    "class-validator": "0.13.2",
-    "graphql": "15.8.0",
-    "graphql-subscriptions": "2.0.0",
+    "graphql": "15.7.2",
+    "graphql-tools": "7.0.5",
+    "prisma-binding": "2.3.16",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "prisma": "^4.0.0",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-morph": "15.1.0",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/22-graphql-prisma/prisma/schema.prisma b/sample/22-graphql-prisma/prisma/schema.prisma
deleted file mode 100755
index c085f0aee..000000000
--- a/sample/22-graphql-prisma/prisma/schema.prisma
+++ /dev/null
@@ -1,18 +0,0 @@
-// This is your Prisma schema file,
-// learn more about it in the docs: https://pris.ly/d/prisma-schema
-
-datasource db {
-  provider = "sqlite"
-  url      = "file:./dev.db"
-}
-
-generator client {
-  provider = "prisma-client-js"
-}
-
-model Post {
-  id          String  @id @default(uuid())
-  title       String
-  text        String
-  isPublished Boolean @default(false)
-}
diff --git a/sample/22-graphql-prisma/src/app.module.ts b/sample/22-graphql-prisma/src/app.module.ts
old mode 100755
new mode 100644
index b8ea4ccb2..f986403ce
--- a/sample/22-graphql-prisma/src/app.module.ts
+++ b/sample/22-graphql-prisma/src/app.module.ts
@@ -1,16 +1,18 @@
+import { ApolloDriver, ApolloDriverConfig } from '@nestjs/apollo';
 import { Module } from '@nestjs/common';
 import { GraphQLModule } from '@nestjs/graphql';
+import { GraphQLOptionsHost } from './graphql.options';
 import { PostsModule } from './posts/posts.module';
-import { ApolloDriver, ApolloDriverConfig } from '@nestjs/apollo';
+import { PrismaModule } from './prisma/prisma.module';
 
 @Module({
   imports: [
-    PostsModule,
-    GraphQLModule.forRoot<ApolloDriverConfig>({
+    GraphQLModule.forRootAsync<ApolloDriverConfig>({
       driver: ApolloDriver,
-      typePaths: ['./**/*.graphql'],
-      installSubscriptionHandlers: true,
+      useClass: GraphQLOptionsHost,
     }),
+    PrismaModule,
+    PostsModule,
   ],
 })
 export class AppModule {}
diff --git a/sample/22-graphql-prisma/src/graphql.options.ts b/sample/22-graphql-prisma/src/graphql.options.ts
new file mode 100644
index 000000000..4fe640808
--- /dev/null
+++ b/sample/22-graphql-prisma/src/graphql.options.ts
@@ -0,0 +1,22 @@
+import { ApolloDriverConfig } from '@nestjs/apollo';
+import { Injectable } from '@nestjs/common';
+import { GqlOptionsFactory } from '@nestjs/graphql';
+import { join } from 'path';
+
+@Injectable()
+export class GraphQLOptionsHost implements GqlOptionsFactory {
+  createGqlOptions(): Promise<ApolloDriverConfig> | ApolloDriverConfig {
+    return {
+      typePaths: ['./src/**/*.graphql'],
+      path: '/',
+      installSubscriptionHandlers: true,
+      resolverValidationOptions: {
+        requireResolversForResolveType: 'ignore',
+      },
+      definitions: {
+        path: join(process.cwd(), 'src/graphql.schema.d.ts'),
+        outputAs: 'class',
+      },
+    };
+  }
+}
diff --git a/sample/22-graphql-prisma/src/graphql.schema.d.ts b/sample/22-graphql-prisma/src/graphql.schema.d.ts
new file mode 100644
index 000000000..c216c2d42
--- /dev/null
+++ b/sample/22-graphql-prisma/src/graphql.schema.d.ts
@@ -0,0 +1,183 @@
+
+/*
+ * -------------------------------------------------------
+ * THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
+ * -------------------------------------------------------
+ */
+
+/* tslint:disable */
+/* eslint-disable */
+export enum MutationType {
+    CREATED = "CREATED",
+    UPDATED = "UPDATED",
+    DELETED = "DELETED"
+}
+
+export enum PostOrderByInput {
+    id_ASC = "id_ASC",
+    id_DESC = "id_DESC",
+    isPublished_ASC = "isPublished_ASC",
+    isPublished_DESC = "isPublished_DESC",
+    title_ASC = "title_ASC",
+    title_DESC = "title_DESC",
+    text_ASC = "text_ASC",
+    text_DESC = "text_DESC"
+}
+
+export class PostCreateInput {
+    id?: Nullable<string>;
+    isPublished?: Nullable<boolean>;
+    title: string;
+    text: string;
+}
+
+export class PostSubscriptionWhereInput {
+    AND?: Nullable<PostSubscriptionWhereInput[]>;
+    OR?: Nullable<PostSubscriptionWhereInput[]>;
+    NOT?: Nullable<PostSubscriptionWhereInput[]>;
+    mutation_in?: Nullable<MutationType[]>;
+    updatedFields_contains?: Nullable<string>;
+    updatedFields_contains_every?: Nullable<string[]>;
+    updatedFields_contains_some?: Nullable<string[]>;
+    node?: Nullable<PostWhereInput>;
+}
+
+export class PostUpdateInput {
+    isPublished?: Nullable<boolean>;
+    title?: Nullable<string>;
+    text?: Nullable<string>;
+}
+
+export class PostUpdateManyMutationInput {
+    isPublished?: Nullable<boolean>;
+    title?: Nullable<string>;
+    text?: Nullable<string>;
+}
+
+export class PostWhereInput {
+    AND?: Nullable<PostWhereInput[]>;
+    OR?: Nullable<PostWhereInput[]>;
+    NOT?: Nullable<PostWhereInput[]>;
+    id?: Nullable<string>;
+    id_not?: Nullable<string>;
+    id_in?: Nullable<string[]>;
+    id_not_in?: Nullable<string[]>;
+    id_lt?: Nullable<string>;
+    id_lte?: Nullable<string>;
+    id_gt?: Nullable<string>;
+    id_gte?: Nullable<string>;
+    id_contains?: Nullable<string>;
+    id_not_contains?: Nullable<string>;
+    id_starts_with?: Nullable<string>;
+    id_not_starts_with?: Nullable<string>;
+    id_ends_with?: Nullable<string>;
+    id_not_ends_with?: Nullable<string>;
+    isPublished?: Nullable<boolean>;
+    isPublished_not?: Nullable<boolean>;
+    title?: Nullable<string>;
+    title_not?: Nullable<string>;
+    title_in?: Nullable<string[]>;
+    title_not_in?: Nullable<string[]>;
+    title_lt?: Nullable<string>;
+    title_lte?: Nullable<string>;
+    title_gt?: Nullable<string>;
+    title_gte?: Nullable<string>;
+    title_contains?: Nullable<string>;
+    title_not_contains?: Nullable<string>;
+    title_starts_with?: Nullable<string>;
+    title_not_starts_with?: Nullable<string>;
+    title_ends_with?: Nullable<string>;
+    title_not_ends_with?: Nullable<string>;
+    text?: Nullable<string>;
+    text_not?: Nullable<string>;
+    text_in?: Nullable<string[]>;
+    text_not_in?: Nullable<string[]>;
+    text_lt?: Nullable<string>;
+    text_lte?: Nullable<string>;
+    text_gt?: Nullable<string>;
+    text_gte?: Nullable<string>;
+    text_contains?: Nullable<string>;
+    text_not_contains?: Nullable<string>;
+    text_starts_with?: Nullable<string>;
+    text_not_starts_with?: Nullable<string>;
+    text_ends_with?: Nullable<string>;
+    text_not_ends_with?: Nullable<string>;
+}
+
+export class PostWhereUniqueInput {
+    id?: Nullable<string>;
+}
+
+export interface Node {
+    id: string;
+}
+
+export class AggregatePost {
+    count: number;
+}
+
+export class BatchPayload {
+    count: Long;
+}
+
+export abstract class IMutation {
+    abstract createPost(data: PostCreateInput): Post | Promise<Post>;
+    abstract updatePost(data: PostUpdateInput, where: PostWhereUniqueInput): Nullable<Post> | Promise<Nullable<Post>>;
+    abstract deletePost(where: PostWhereUniqueInput): Nullable<Post> | Promise<Nullable<Post>>;
+    abstract upsertPost(where: PostWhereUniqueInput, create: PostCreateInput, update: PostUpdateInput): Post | Promise<Post>;
+    abstract updateManyPosts(data: PostUpdateManyMutationInput, where?: Nullable<PostWhereInput>): BatchPayload | Promise<BatchPayload>;
+    abstract deleteManyPosts(where?: Nullable<PostWhereInput>): BatchPayload | Promise<BatchPayload>;
+}
+
+export class PageInfo {
+    hasNextPage: boolean;
+    hasPreviousPage: boolean;
+    startCursor?: Nullable<string>;
+    endCursor?: Nullable<string>;
+}
+
+export class Post implements Node {
+    id: string;
+    isPublished: boolean;
+    title: string;
+    text: string;
+}
+
+export class PostConnection {
+    pageInfo: PageInfo;
+    edges: Nullable<PostEdge>[];
+    aggregate: AggregatePost;
+}
+
+export class PostEdge {
+    node: Post;
+    cursor: string;
+}
+
+export class PostPreviousValues {
+    id: string;
+    isPublished: boolean;
+    title: string;
+    text: string;
+}
+
+export class PostSubscriptionPayload {
+    mutation: MutationType;
+    node?: Nullable<Post>;
+    updatedFields?: Nullable<string[]>;
+    previousValues?: Nullable<PostPreviousValues>;
+}
+
+export abstract class IQuery {
+    abstract posts(where?: Nullable<PostWhereInput>, orderBy?: Nullable<PostOrderByInput>, skip?: Nullable<number>, after?: Nullable<string>, before?: Nullable<string>, first?: Nullable<number>, last?: Nullable<number>): Nullable<Post>[] | Promise<Nullable<Post>[]>;
+    abstract post(where: PostWhereUniqueInput): Nullable<Post> | Promise<Nullable<Post>>;
+    abstract postsConnection(where?: Nullable<PostWhereInput>, orderBy?: Nullable<PostOrderByInput>, skip?: Nullable<number>, after?: Nullable<string>, before?: Nullable<string>, first?: Nullable<number>, last?: Nullable<number>): PostConnection | Promise<PostConnection>;
+    abstract node(id: string): Nullable<Node> | Promise<Nullable<Node>>;
+}
+
+export abstract class ISubscription {
+    abstract post(where?: Nullable<PostSubscriptionWhereInput>): Nullable<PostSubscriptionPayload> | Promise<Nullable<PostSubscriptionPayload>>;
+}
+
+export type Long = any;
+type Nullable<T> = T | null;
diff --git a/sample/22-graphql-prisma/src/graphql.schema.ts b/sample/22-graphql-prisma/src/graphql.schema.ts
deleted file mode 100755
index 38a134f7f..000000000
--- a/sample/22-graphql-prisma/src/graphql.schema.ts
+++ /dev/null
@@ -1,48 +0,0 @@
-/*
- * -------------------------------------------------------
- * THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
- * -------------------------------------------------------
- */
-
-/* tslint:disable */
-/* eslint-disable */
-export class NewPost {
-  title: string;
-  text: string;
-}
-
-export class UpdatePost {
-  id: string;
-  title?: Nullable<string>;
-  text?: Nullable<string>;
-  isPublished?: Nullable<boolean>;
-}
-
-export class Post {
-  id: string;
-  title: string;
-  text: string;
-  isPublished: boolean;
-}
-
-export abstract class IQuery {
-  abstract posts(): Post[] | Promise<Post[]>;
-
-  abstract post(id: string): Nullable<Post> | Promise<Nullable<Post>>;
-}
-
-export abstract class IMutation {
-  abstract createPost(input: NewPost): Post | Promise<Post>;
-
-  abstract updatePost(
-    input: UpdatePost,
-  ): Nullable<Post> | Promise<Nullable<Post>>;
-
-  abstract deletePost(id: string): Nullable<Post> | Promise<Nullable<Post>>;
-}
-
-export abstract class ISubscription {
-  abstract postCreated(): Nullable<Post> | Promise<Nullable<Post>>;
-}
-
-type Nullable<T> = T | null;
diff --git a/sample/22-graphql-prisma/src/main.ts b/sample/22-graphql-prisma/src/main.ts
old mode 100755
new mode 100644
index c442b692c..e1e10d969
--- a/sample/22-graphql-prisma/src/main.ts
+++ b/sample/22-graphql-prisma/src/main.ts
@@ -1,13 +1,9 @@
-import { ValidationPipe } from '@nestjs/common';
 import { NestFactory } from '@nestjs/core';
 import { AppModule } from './app.module';
 
 async function bootstrap() {
   const app = await NestFactory.create(AppModule);
-  app.useGlobalPipes(new ValidationPipe());
-
   await app.listen(3000);
   console.log(`Application is running on: ${await app.getUrl()}`);
-  console.log(`GraphQL Playground: ${await app.getUrl()}/graphql`);
 }
 bootstrap();
diff --git a/sample/22-graphql-prisma/src/posts/posts.module.ts b/sample/22-graphql-prisma/src/posts/posts.module.ts
old mode 100755
new mode 100644
index a70df6058..a1f53f854
--- a/sample/22-graphql-prisma/src/posts/posts.module.ts
+++ b/sample/22-graphql-prisma/src/posts/posts.module.ts
@@ -1,10 +1,9 @@
 import { Module } from '@nestjs/common';
-import { PostsResolvers } from './posts.resolvers';
-import { PostsService } from './posts.service';
-import { PrismaModule } from '../prisma/prisma.module';
+import { PrismaModule } from './../prisma/prisma.module';
+import { PostsResolver } from './posts.resolver';
 
 @Module({
-  providers: [PostsResolvers, PostsService],
+  providers: [PostsResolver],
   imports: [PrismaModule],
 })
 export class PostsModule {}
diff --git a/sample/22-graphql-prisma/src/posts/posts.resolver.ts b/sample/22-graphql-prisma/src/posts/posts.resolver.ts
new file mode 100644
index 000000000..303b65dae
--- /dev/null
+++ b/sample/22-graphql-prisma/src/posts/posts.resolver.ts
@@ -0,0 +1,56 @@
+import {
+  Args,
+  Info,
+  Mutation,
+  Query,
+  Resolver,
+  Subscription,
+} from '@nestjs/graphql';
+import { Post } from '../graphql.schema';
+import { BatchPayload } from '../prisma/prisma.binding';
+import { PrismaService } from '../prisma/prisma.service';
+
+@Resolver()
+export class PostsResolver {
+  constructor(private readonly prisma: PrismaService) {}
+
+  @Query('posts')
+  async getPosts(@Args() args, @Info() info): Promise<Post[]> {
+    return this.prisma.query.posts(args, info);
+  }
+
+  @Query('post')
+  async getPost(@Args() args, @Info() info): Promise<Post> {
+    return this.prisma.query.post(args, info);
+  }
+
+  @Mutation('createPost')
+  async createPost(@Args() args, @Info() info): Promise<Post> {
+    return this.prisma.mutation.createPost(args, info);
+  }
+
+  @Mutation('updatePost')
+  async updatePost(@Args() args, @Info() info): Promise<Post> {
+    return this.prisma.mutation.updatePost(args, info);
+  }
+
+  @Mutation('updateManyPosts')
+  async updateManyPosts(@Args() args, @Info() info): Promise<BatchPayload> {
+    return this.prisma.mutation.updateManyPosts(args, info);
+  }
+
+  @Mutation('deletePost')
+  async deletePost(@Args() args, @Info() info): Promise<Post> {
+    return this.prisma.mutation.deletePost(args, info);
+  }
+
+  @Mutation('deleteManyPosts')
+  async deleteManyPosts(@Args() args, @Info() info): Promise<BatchPayload> {
+    return this.prisma.mutation.deleteManyPosts(args, info);
+  }
+
+  @Subscription('post')
+  onPostMutation(@Args() args, @Info() info) {
+    return this.prisma.subscription.post(args, info);
+  }
+}
diff --git a/sample/22-graphql-prisma/src/posts/posts.resolvers.ts b/sample/22-graphql-prisma/src/posts/posts.resolvers.ts
deleted file mode 100755
index 5ecb8c28f..000000000
--- a/sample/22-graphql-prisma/src/posts/posts.resolvers.ts
+++ /dev/null
@@ -1,43 +0,0 @@
-import { Resolver, Query, Mutation, Args, Subscription } from '@nestjs/graphql';
-import { PostsService } from './posts.service';
-import { Post, NewPost, UpdatePost } from 'src/graphql.schema';
-import { PubSub } from 'graphql-subscriptions';
-
-const pubSub = new PubSub();
-
-@Resolver('Post')
-export class PostsResolvers {
-  constructor(private readonly postService: PostsService) {}
-
-  @Query('posts')
-  async posts(): Promise<Post[]> {
-    return this.postService.findAll();
-  }
-
-  @Query('post')
-  async post(@Args('id') args: string): Promise<Post> {
-    return this.postService.findOne(args);
-  }
-
-  @Mutation('createPost')
-  async create(@Args('input') args: NewPost): Promise<Post> {
-    const createdPost = await this.postService.create(args);
-    pubSub.publish('postCreated', { postCreated: createdPost });
-    return createdPost;
-  }
-
-  @Mutation('updatePost')
-  async update(@Args('input') args: UpdatePost): Promise<Post> {
-    return this.postService.update(args);
-  }
-
-  @Mutation('deletePost')
-  async delete(@Args('id') args: string): Promise<Post> {
-    return this.postService.delete(args);
-  }
-
-  @Subscription('postCreated')
-  postCreated() {
-    return pubSub.asyncIterator('postCreated');
-  }
-}
diff --git a/sample/22-graphql-prisma/src/posts/posts.service.ts b/sample/22-graphql-prisma/src/posts/posts.service.ts
deleted file mode 100755
index 633065a28..000000000
--- a/sample/22-graphql-prisma/src/posts/posts.service.ts
+++ /dev/null
@@ -1,48 +0,0 @@
-import { Injectable } from '@nestjs/common';
-import { Post } from '@prisma/client';
-import { NewPost, UpdatePost } from 'src/graphql.schema';
-import { PrismaService } from '../prisma/prisma.service';
-
-@Injectable()
-export class PostsService {
-  constructor(private prisma: PrismaService) {}
-
-  async findOne(id: string): Promise<Post | null> {
-    return this.prisma.post.findUnique({
-      where: {
-        id,
-      },
-    });
-  }
-
-  async findAll(): Promise<Post[]> {
-    return this.prisma.post.findMany({});
-  }
-
-  async create(input: NewPost): Promise<Post> {
-    return this.prisma.post.create({
-      data: input,
-    });
-  }
-
-  async update(params: UpdatePost): Promise<Post> {
-    const { id, ...params_without_id } = params;
-
-    return this.prisma.post.update({
-      where: {
-        id,
-      },
-      data: {
-        ...params_without_id,
-      },
-    });
-  }
-
-  async delete(id: string): Promise<Post> {
-    return this.prisma.post.delete({
-      where: {
-        id,
-      },
-    });
-  }
-}
diff --git a/sample/22-graphql-prisma/src/posts/schema.graphql b/sample/22-graphql-prisma/src/posts/schema.graphql
deleted file mode 100755
index ac00d18f0..000000000
--- a/sample/22-graphql-prisma/src/posts/schema.graphql
+++ /dev/null
@@ -1,33 +0,0 @@
-type Post {
-  id: ID!
-  title: String!
-  text: String!
-  isPublished: Boolean!
-}
-
-input NewPost {
-  title: String!
-  text: String!
-}
-
-input UpdatePost {
-  id: ID!
-  title: String
-  text: String
-  isPublished: Boolean
-}
-
-type Query {
-  posts: [Post!]!
-  post(id: ID!): Post
-}
-
-type Mutation {
-  createPost(input: NewPost!): Post!
-  updatePost(input: UpdatePost!): Post
-  deletePost(id: ID!): Post
-}
-
-type Subscription {
-  postCreated: Post
-}
diff --git a/sample/22-graphql-prisma/src/prisma/prisma-types.graphql b/sample/22-graphql-prisma/src/prisma/prisma-types.graphql
new file mode 100644
index 000000000..36380cf51
--- /dev/null
+++ b/sample/22-graphql-prisma/src/prisma/prisma-types.graphql
@@ -0,0 +1,308 @@
+# source: https://eu1.prisma.sh/adam-gajzlerowicz-1dadb3/demo/dev
+# timestamp: Sun Jan 26 2020 09:49:46 GMT+0100 (Central European Standard Time)
+
+type AggregatePost {
+  count: Int!
+}
+
+type BatchPayload {
+  """The number of nodes that have been affected by the Batch operation."""
+  count: Long!
+}
+
+"""
+The `Long` scalar type represents non-fractional signed whole numeric values.
+Long can represent values between -(2^63) and 2^63 - 1.
+"""
+scalar Long
+
+type Mutation {
+  createPost(data: PostCreateInput!): Post!
+  updatePost(data: PostUpdateInput!, where: PostWhereUniqueInput!): Post
+  deletePost(where: PostWhereUniqueInput!): Post
+  upsertPost(where: PostWhereUniqueInput!, create: PostCreateInput!, update: PostUpdateInput!): Post!
+  updateManyPosts(data: PostUpdateManyMutationInput!, where: PostWhereInput): BatchPayload!
+  deleteManyPosts(where: PostWhereInput): BatchPayload!
+}
+
+enum MutationType {
+  CREATED
+  UPDATED
+  DELETED
+}
+
+"""An object with an ID"""
+interface Node {
+  """The id of the object."""
+  id: ID!
+}
+
+"""Information about pagination in a connection."""
+type PageInfo {
+  """When paginating forwards, are there more items?"""
+  hasNextPage: Boolean!
+
+  """When paginating backwards, are there more items?"""
+  hasPreviousPage: Boolean!
+
+  """When paginating backwards, the cursor to continue."""
+  startCursor: String
+
+  """When paginating forwards, the cursor to continue."""
+  endCursor: String
+}
+
+type Post implements Node {
+  id: ID!
+  isPublished: Boolean!
+  title: String!
+  text: String!
+}
+
+"""A connection to a list of items."""
+type PostConnection {
+  """Information to aid in pagination."""
+  pageInfo: PageInfo!
+
+  """A list of edges."""
+  edges: [PostEdge]!
+  aggregate: AggregatePost!
+}
+
+input PostCreateInput {
+  id: ID
+  isPublished: Boolean
+  title: String!
+  text: String!
+}
+
+"""An edge in a connection."""
+type PostEdge {
+  """The item at the end of the edge."""
+  node: Post!
+
+  """A cursor for use in pagination."""
+  cursor: String!
+}
+
+enum PostOrderByInput {
+  id_ASC
+  id_DESC
+  isPublished_ASC
+  isPublished_DESC
+  title_ASC
+  title_DESC
+  text_ASC
+  text_DESC
+}
+
+type PostPreviousValues {
+  id: ID!
+  isPublished: Boolean!
+  title: String!
+  text: String!
+}
+
+type PostSubscriptionPayload {
+  mutation: MutationType!
+  node: Post
+  updatedFields: [String!]
+  previousValues: PostPreviousValues
+}
+
+input PostSubscriptionWhereInput {
+  """Logical AND on all given filters."""
+  AND: [PostSubscriptionWhereInput!]
+
+  """Logical OR on all given filters."""
+  OR: [PostSubscriptionWhereInput!]
+
+  """Logical NOT on all given filters combined by AND."""
+  NOT: [PostSubscriptionWhereInput!]
+
+  """The subscription event gets dispatched when it's listed in mutation_in"""
+  mutation_in: [MutationType!]
+
+  """
+  The subscription event gets only dispatched when one of the updated fields names is included in this list
+  """
+  updatedFields_contains: String
+
+  """
+  The subscription event gets only dispatched when all of the field names included in this list have been updated
+  """
+  updatedFields_contains_every: [String!]
+
+  """
+  The subscription event gets only dispatched when some of the field names included in this list have been updated
+  """
+  updatedFields_contains_some: [String!]
+  node: PostWhereInput
+}
+
+input PostUpdateInput {
+  isPublished: Boolean
+  title: String
+  text: String
+}
+
+input PostUpdateManyMutationInput {
+  isPublished: Boolean
+  title: String
+  text: String
+}
+
+input PostWhereInput {
+  """Logical AND on all given filters."""
+  AND: [PostWhereInput!]
+
+  """Logical OR on all given filters."""
+  OR: [PostWhereInput!]
+
+  """Logical NOT on all given filters combined by AND."""
+  NOT: [PostWhereInput!]
+  id: ID
+
+  """All values that are not equal to given value."""
+  id_not: ID
+
+  """All values that are contained in given list."""
+  id_in: [ID!]
+
+  """All values that are not contained in given list."""
+  id_not_in: [ID!]
+
+  """All values less than the given value."""
+  id_lt: ID
+
+  """All values less than or equal the given value."""
+  id_lte: ID
+
+  """All values greater than the given value."""
+  id_gt: ID
+
+  """All values greater than or equal the given value."""
+  id_gte: ID
+
+  """All values containing the given string."""
+  id_contains: ID
+
+  """All values not containing the given string."""
+  id_not_contains: ID
+
+  """All values starting with the given string."""
+  id_starts_with: ID
+
+  """All values not starting with the given string."""
+  id_not_starts_with: ID
+
+  """All values ending with the given string."""
+  id_ends_with: ID
+
+  """All values not ending with the given string."""
+  id_not_ends_with: ID
+  isPublished: Boolean
+
+  """All values that are not equal to given value."""
+  isPublished_not: Boolean
+  title: String
+
+  """All values that are not equal to given value."""
+  title_not: String
+
+  """All values that are contained in given list."""
+  title_in: [String!]
+
+  """All values that are not contained in given list."""
+  title_not_in: [String!]
+
+  """All values less than the given value."""
+  title_lt: String
+
+  """All values less than or equal the given value."""
+  title_lte: String
+
+  """All values greater than the given value."""
+  title_gt: String
+
+  """All values greater than or equal the given value."""
+  title_gte: String
+
+  """All values containing the given string."""
+  title_contains: String
+
+  """All values not containing the given string."""
+  title_not_contains: String
+
+  """All values starting with the given string."""
+  title_starts_with: String
+
+  """All values not starting with the given string."""
+  title_not_starts_with: String
+
+  """All values ending with the given string."""
+  title_ends_with: String
+
+  """All values not ending with the given string."""
+  title_not_ends_with: String
+  text: String
+
+  """All values that are not equal to given value."""
+  text_not: String
+
+  """All values that are contained in given list."""
+  text_in: [String!]
+
+  """All values that are not contained in given list."""
+  text_not_in: [String!]
+
+  """All values less than the given value."""
+  text_lt: String
+
+  """All values less than or equal the given value."""
+  text_lte: String
+
+  """All values greater than the given value."""
+  text_gt: String
+
+  """All values greater than or equal the given value."""
+  text_gte: String
+
+  """All values containing the given string."""
+  text_contains: String
+
+  """All values not containing the given string."""
+  text_not_contains: String
+
+  """All values starting with the given string."""
+  text_starts_with: String
+
+  """All values not starting with the given string."""
+  text_not_starts_with: String
+
+  """All values ending with the given string."""
+  text_ends_with: String
+
+  """All values not ending with the given string."""
+  text_not_ends_with: String
+}
+
+input PostWhereUniqueInput {
+  id: ID
+}
+
+type Query {
+  posts(where: PostWhereInput, orderBy: PostOrderByInput, skip: Int, after: String, before: String, first: Int, last: Int): [Post]!
+  post(where: PostWhereUniqueInput!): Post
+  postsConnection(where: PostWhereInput, orderBy: PostOrderByInput, skip: Int, after: String, before: String, first: Int, last: Int): PostConnection!
+
+  """Fetches an object given its ID"""
+  node(
+    """The ID of an object"""
+    id: ID!
+  ): Node
+}
+
+type Subscription {
+  post(where: PostSubscriptionWhereInput): PostSubscriptionPayload
+}
diff --git a/sample/22-graphql-prisma/src/prisma/prisma.binding.ts b/sample/22-graphql-prisma/src/prisma/prisma.binding.ts
new file mode 100644
index 000000000..a9dbf053a
--- /dev/null
+++ b/sample/22-graphql-prisma/src/prisma/prisma.binding.ts
@@ -0,0 +1,629 @@
+import { GraphQLResolveInfo, GraphQLSchema } from 'graphql';
+import { Options } from 'graphql-binding';
+import { IResolvers } from 'graphql-tools';
+import { BasePrismaOptions, makePrismaBindingClass } from 'prisma-binding';
+
+export interface Query {
+  posts: <T = Post[]>(
+    args: {
+      where?: PostWhereInput;
+      orderBy?: PostOrderByInput;
+      skip?: Int;
+      after?: String;
+      before?: String;
+      first?: Int;
+      last?: Int;
+    },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  post: <T = Post | null>(
+    args: { where: PostWhereUniqueInput },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  postsConnection: <T = PostConnection>(
+    args: {
+      where?: PostWhereInput;
+      orderBy?: PostOrderByInput;
+      skip?: Int;
+      after?: String;
+      before?: String;
+      first?: Int;
+      last?: Int;
+    },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  node: <T = Node | null>(
+    args: { id: ID_Output },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+}
+
+export interface Mutation {
+  createPost: <T = Post>(
+    args: { data: PostCreateInput },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  updatePost: <T = Post | null>(
+    args: { data: PostUpdateInput; where: PostWhereUniqueInput },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  deletePost: <T = Post | null>(
+    args: { where: PostWhereUniqueInput },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  upsertPost: <T = Post>(
+    args: {
+      where: PostWhereUniqueInput;
+      create: PostCreateInput;
+      update: PostUpdateInput;
+    },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  updateManyPosts: <T = BatchPayload>(
+    args: { data: PostUpdateInput; where?: PostWhereInput },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+  deleteManyPosts: <T = BatchPayload>(
+    args: { where?: PostWhereInput },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<T>;
+}
+
+export interface Subscription {
+  post: <T = PostSubscriptionPayload | null>(
+    args: { where?: PostSubscriptionWhereInput },
+    info?: GraphQLResolveInfo | string,
+    options?: Options,
+  ) => Promise<AsyncIterator<T>>;
+}
+
+export interface Exists {
+  Post: (where?: PostWhereInput) => Promise<boolean>;
+}
+
+export interface Prisma {
+  query: Query;
+  mutation: Mutation;
+  subscription: Subscription;
+  exists: Exists;
+  request: <T = any>(
+    query: string,
+    variables?: { [key: string]: any },
+  ) => Promise<T>;
+  delegate(
+    operation: 'query' | 'mutation',
+    fieldName: string,
+    args: {
+      [key: string]: any;
+    },
+    infoOrQuery?: GraphQLResolveInfo | string,
+    options?: Options,
+  ): Promise<any>;
+  delegateSubscription(
+    fieldName: string,
+    args?: {
+      [key: string]: any;
+    },
+    infoOrQuery?: GraphQLResolveInfo | string,
+    options?: Options,
+  ): Promise<AsyncIterator<any>>;
+  getAbstractResolvers(filterSchema?: GraphQLSchema | string): IResolvers;
+}
+
+export interface BindingConstructor<T> {
+  new (options: BasePrismaOptions): T;
+}
+/**
+ * Type Defs
+ */
+
+const typeDefs = `type AggregatePost {
+  count: Int!
+}
+
+type BatchPayload {
+  """The number of nodes that have been affected by the Batch operation."""
+  count: Long!
+}
+
+"""
+The \`Long\` scalar type represents non-fractional signed whole numeric values.
+Long can represent values between -(2^63) and 2^63 - 1.
+"""
+scalar Long
+
+type Mutation {
+  createPost(data: PostCreateInput!): Post!
+  updatePost(data: PostUpdateInput!, where: PostWhereUniqueInput!): Post
+  deletePost(where: PostWhereUniqueInput!): Post
+  upsertPost(where: PostWhereUniqueInput!, create: PostCreateInput!, update: PostUpdateInput!): Post!
+  updateManyPosts(data: PostUpdateInput!, where: PostWhereInput): BatchPayload!
+  deleteManyPosts(where: PostWhereInput): BatchPayload!
+}
+
+enum MutationType {
+  CREATED
+  UPDATED
+  DELETED
+}
+
+"""An object with an ID"""
+interface Node {
+  """The id of the object."""
+  id: ID!
+}
+
+"""Information about pagination in a connection."""
+type PageInfo {
+  """When paginating forwards, are there more items?"""
+  hasNextPage: Boolean!
+
+  """When paginating backwards, are there more items?"""
+  hasPreviousPage: Boolean!
+
+  """When paginating backwards, the cursor to continue."""
+  startCursor: String
+
+  """When paginating forwards, the cursor to continue."""
+  endCursor: String
+}
+
+type Post implements Node {
+  id: ID!
+  isPublished: Boolean!
+  title: String!
+  text: String!
+}
+
+"""A connection to a list of items."""
+type PostConnection {
+  """Information to aid in pagination."""
+  pageInfo: PageInfo!
+
+  """A list of edges."""
+  edges: [PostEdge]!
+  aggregate: AggregatePost!
+}
+
+input PostCreateInput {
+  isPublished: Boolean
+  title: String!
+  text: String!
+}
+
+"""An edge in a connection."""
+type PostEdge {
+  """The item at the end of the edge."""
+  node: Post!
+
+  """A cursor for use in pagination."""
+  cursor: String!
+}
+
+enum PostOrderByInput {
+  id_ASC
+  id_DESC
+  isPublished_ASC
+  isPublished_DESC
+  title_ASC
+  title_DESC
+  text_ASC
+  text_DESC
+  updatedAt_ASC
+  updatedAt_DESC
+  createdAt_ASC
+  createdAt_DESC
+}
+
+type PostPreviousValues {
+  id: ID!
+  isPublished: Boolean!
+  title: String!
+  text: String!
+}
+
+type PostSubscriptionPayload {
+  mutation: MutationType!
+  node: Post
+  updatedFields: [String!]
+  previousValues: PostPreviousValues
+}
+
+input PostSubscriptionWhereInput {
+  """Logical AND on all given filters."""
+  AND: [PostSubscriptionWhereInput!]
+
+  """Logical OR on all given filters."""
+  OR: [PostSubscriptionWhereInput!]
+
+  """Logical NOT on all given filters combined by AND."""
+  NOT: [PostSubscriptionWhereInput!]
+
+  """
+  The subscription event gets dispatched when it's listed in mutation_in
+  """
+  mutation_in: [MutationType!]
+
+  """
+  The subscription event gets only dispatched when one of the updated fields names is included in this list
+  """
+  updatedFields_contains: String
+
+  """
+  The subscription event gets only dispatched when all of the field names included in this list have been updated
+  """
+  updatedFields_contains_every: [String!]
+
+  """
+  The subscription event gets only dispatched when some of the field names included in this list have been updated
+  """
+  updatedFields_contains_some: [String!]
+  node: PostWhereInput
+}
+
+input PostUpdateInput {
+  isPublished: Boolean
+  title: String
+  text: String
+}
+
+input PostWhereInput {
+  """Logical AND on all given filters."""
+  AND: [PostWhereInput!]
+
+  """Logical OR on all given filters."""
+  OR: [PostWhereInput!]
+
+  """Logical NOT on all given filters combined by AND."""
+  NOT: [PostWhereInput!]
+  id: ID
+
+  """All values that are not equal to given value."""
+  id_not: ID
+
+  """All values that are contained in given list."""
+  id_in: [ID!]
+
+  """All values that are not contained in given list."""
+  id_not_in: [ID!]
+
+  """All values less than the given value."""
+  id_lt: ID
+
+  """All values less than or equal the given value."""
+  id_lte: ID
+
+  """All values greater than the given value."""
+  id_gt: ID
+
+  """All values greater than or equal the given value."""
+  id_gte: ID
+
+  """All values containing the given string."""
+  id_contains: ID
+
+  """All values not containing the given string."""
+  id_not_contains: ID
+
+  """All values starting with the given string."""
+  id_starts_with: ID
+
+  """All values not starting with the given string."""
+  id_not_starts_with: ID
+
+  """All values ending with the given string."""
+  id_ends_with: ID
+
+  """All values not ending with the given string."""
+  id_not_ends_with: ID
+  isPublished: Boolean
+
+  """All values that are not equal to given value."""
+  isPublished_not: Boolean
+  title: String
+
+  """All values that are not equal to given value."""
+  title_not: String
+
+  """All values that are contained in given list."""
+  title_in: [String!]
+
+  """All values that are not contained in given list."""
+  title_not_in: [String!]
+
+  """All values less than the given value."""
+  title_lt: String
+
+  """All values less than or equal the given value."""
+  title_lte: String
+
+  """All values greater than the given value."""
+  title_gt: String
+
+  """All values greater than or equal the given value."""
+  title_gte: String
+
+  """All values containing the given string."""
+  title_contains: String
+
+  """All values not containing the given string."""
+  title_not_contains: String
+
+  """All values starting with the given string."""
+  title_starts_with: String
+
+  """All values not starting with the given string."""
+  title_not_starts_with: String
+
+  """All values ending with the given string."""
+  title_ends_with: String
+
+  """All values not ending with the given string."""
+  title_not_ends_with: String
+  text: String
+
+  """All values that are not equal to given value."""
+  text_not: String
+
+  """All values that are contained in given list."""
+  text_in: [String!]
+
+  """All values that are not contained in given list."""
+  text_not_in: [String!]
+
+  """All values less than the given value."""
+  text_lt: String
+
+  """All values less than or equal the given value."""
+  text_lte: String
+
+  """All values greater than the given value."""
+  text_gt: String
+
+  """All values greater than or equal the given value."""
+  text_gte: String
+
+  """All values containing the given string."""
+  text_contains: String
+
+  """All values not containing the given string."""
+  text_not_contains: String
+
+  """All values starting with the given string."""
+  text_starts_with: String
+
+  """All values not starting with the given string."""
+  text_not_starts_with: String
+
+  """All values ending with the given string."""
+  text_ends_with: String
+
+  """All values not ending with the given string."""
+  text_not_ends_with: String
+}
+
+input PostWhereUniqueInput {
+  id: ID
+}
+
+type Query {
+  posts(where: PostWhereInput, orderBy: PostOrderByInput, skip: Int, after: String, before: String, first: Int, last: Int): [Post]!
+  post(where: PostWhereUniqueInput!): Post
+  postsConnection(where: PostWhereInput, orderBy: PostOrderByInput, skip: Int, after: String, before: String, first: Int, last: Int): PostConnection!
+
+  """Fetches an object given its ID"""
+  node(
+    """The ID of an object"""
+    id: ID!
+  ): Node
+}
+
+type Subscription {
+  post(where: PostSubscriptionWhereInput): PostSubscriptionPayload
+}
+`;
+
+export const Prisma = makePrismaBindingClass<BindingConstructor<Prisma>>({
+  typeDefs,
+});
+
+/**
+ * Types
+ */
+
+export type PostOrderByInput =
+  | 'id_ASC'
+  | 'id_DESC'
+  | 'isPublished_ASC'
+  | 'isPublished_DESC'
+  | 'title_ASC'
+  | 'title_DESC'
+  | 'text_ASC'
+  | 'text_DESC'
+  | 'updatedAt_ASC'
+  | 'updatedAt_DESC'
+  | 'createdAt_ASC'
+  | 'createdAt_DESC';
+
+export type MutationType = 'CREATED' | 'UPDATED' | 'DELETED';
+
+export interface PostWhereUniqueInput {
+  id?: ID_Input;
+}
+
+export interface PostCreateInput {
+  isPublished?: Boolean;
+  title: String;
+  text: String;
+}
+
+export interface PostUpdateInput {
+  isPublished?: Boolean;
+  title?: String;
+  text?: String;
+}
+
+export interface PostSubscriptionWhereInput {
+  AND?: PostSubscriptionWhereInput[] | PostSubscriptionWhereInput;
+  OR?: PostSubscriptionWhereInput[] | PostSubscriptionWhereInput;
+  NOT?: PostSubscriptionWhereInput[] | PostSubscriptionWhereInput;
+  mutation_in?: MutationType[] | MutationType;
+  updatedFields_contains?: String;
+  updatedFields_contains_every?: String[] | String;
+  updatedFields_contains_some?: String[] | String;
+  node?: PostWhereInput;
+}
+
+export interface PostWhereInput {
+  AND?: PostWhereInput[] | PostWhereInput;
+  OR?: PostWhereInput[] | PostWhereInput;
+  NOT?: PostWhereInput[] | PostWhereInput;
+  id?: ID_Input;
+  id_not?: ID_Input;
+  id_in?: ID_Input[] | ID_Input;
+  id_not_in?: ID_Input[] | ID_Input;
+  id_lt?: ID_Input;
+  id_lte?: ID_Input;
+  id_gt?: ID_Input;
+  id_gte?: ID_Input;
+  id_contains?: ID_Input;
+  id_not_contains?: ID_Input;
+  id_starts_with?: ID_Input;
+  id_not_starts_with?: ID_Input;
+  id_ends_with?: ID_Input;
+  id_not_ends_with?: ID_Input;
+  isPublished?: Boolean;
+  isPublished_not?: Boolean;
+  title?: String;
+  title_not?: String;
+  title_in?: String[] | String;
+  title_not_in?: String[] | String;
+  title_lt?: String;
+  title_lte?: String;
+  title_gt?: String;
+  title_gte?: String;
+  title_contains?: String;
+  title_not_contains?: String;
+  title_starts_with?: String;
+  title_not_starts_with?: String;
+  title_ends_with?: String;
+  title_not_ends_with?: String;
+  text?: String;
+  text_not?: String;
+  text_in?: String[] | String;
+  text_not_in?: String[] | String;
+  text_lt?: String;
+  text_lte?: String;
+  text_gt?: String;
+  text_gte?: String;
+  text_contains?: String;
+  text_not_contains?: String;
+  text_starts_with?: String;
+  text_not_starts_with?: String;
+  text_ends_with?: String;
+  text_not_ends_with?: String;
+}
+
+/*
+ * An object with an ID
+
+ */
+export interface Node {
+  id: ID_Output;
+}
+
+/*
+ * Information about pagination in a connection.
+
+ */
+export interface PageInfo {
+  hasNextPage: Boolean;
+  hasPreviousPage: Boolean;
+  startCursor?: String;
+  endCursor?: String;
+}
+
+export interface BatchPayload {
+  count: Long;
+}
+
+export interface PostPreviousValues {
+  id: ID_Output;
+  isPublished: Boolean;
+  title: String;
+  text: String;
+}
+
+/*
+ * A connection to a list of items.
+
+ */
+export interface PostConnection {
+  pageInfo: PageInfo;
+  edges: PostEdge[];
+  aggregate: AggregatePost;
+}
+
+export interface PostSubscriptionPayload {
+  mutation: MutationType;
+  node?: Post;
+  updatedFields?: String[];
+  previousValues?: PostPreviousValues;
+}
+
+export interface Post extends Node {
+  id: ID_Output;
+  isPublished: Boolean;
+  title: String;
+  text: String;
+}
+
+export interface AggregatePost {
+  count: Int;
+}
+
+/*
+ * An edge in a connection.
+
+ */
+export interface PostEdge {
+  node: Post;
+  cursor: String;
+}
+
+/*
+The `Boolean` scalar type represents `true` or `false`.
+*/
+export type Boolean = boolean;
+
+/*
+The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.
+*/
+export type String = string;
+
+/*
+The `Long` scalar type represents non-fractional signed whole numeric values.
+Long can represent values between -(2^63) and 2^63 - 1.
+*/
+export type Long = string;
+
+/*
+The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.
+*/
+export type ID_Input = string | number;
+export type ID_Output = string;
+
+/*
+The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. 
+*/
+export type Int = number;
diff --git a/sample/22-graphql-prisma/src/prisma/prisma.module.ts b/sample/22-graphql-prisma/src/prisma/prisma.module.ts
old mode 100755
new mode 100644
diff --git a/sample/22-graphql-prisma/src/prisma/prisma.service.ts b/sample/22-graphql-prisma/src/prisma/prisma.service.ts
old mode 100755
new mode 100644
index edf653202..dc2e22529
--- a/sample/22-graphql-prisma/src/prisma/prisma.service.ts
+++ b/sample/22-graphql-prisma/src/prisma/prisma.service.ts
@@ -1,15 +1,12 @@
-import { INestApplication, Injectable, OnModuleInit } from '@nestjs/common';
-import { PrismaClient } from '@prisma/client';
+import { Injectable } from '@nestjs/common';
+import { Prisma } from './prisma.binding';
 
 @Injectable()
-export class PrismaService extends PrismaClient implements OnModuleInit {
-  async onModuleInit() {
-    await this.$connect();
-  }
-
-  async enableShutdownHooks(app: INestApplication) {
-    this.$on('beforeExit', async () => {
-      await app.close();
+export class PrismaService extends Prisma {
+  constructor() {
+    super({
+      endpoint: 'https://eu1.prisma.sh/public-agatepuma-476/my-app/dev',
+      debug: false,
     });
   }
 }
diff --git a/sample/22-graphql-prisma/tsconfig.build.json b/sample/22-graphql-prisma/tsconfig.build.json
old mode 100755
new mode 100644
diff --git a/sample/22-graphql-prisma/tsconfig.json b/sample/22-graphql-prisma/tsconfig.json
old mode 100755
new mode 100644
diff --git a/sample/23-graphql-code-first/package-lock.json b/sample/23-graphql-code-first/package-lock.json
index 9e61a0a8b..a988bfdd9 100644
Binary files a/sample/23-graphql-code-first/package-lock.json and b/sample/23-graphql-code-first/package-lock.json differ
diff --git a/sample/23-graphql-code-first/package.json b/sample/23-graphql-code-first/package.json
index 6a811d88e..9656a8d21 100644
--- a/sample/23-graphql-code-first/package.json
+++ b/sample/23-graphql-code-first/package.json
@@ -19,40 +19,40 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server": "3.9.0",
-    "apollo-server-express": "3.9.0",
-    "class-transformer": "0.5.1",
+    "@nestjs/apollo": "10.0.2",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.2",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server": "3.6.2",
+    "apollo-server-express": "3.6.2",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
-    "graphql": "16.5.0",
+    "graphql": "16.3.0",
     "graphql-query-complexity": "0.11.0",
     "graphql-subscriptions": "2.0.0",
     "reflect-metadata": "0.1.13",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.4.2"
   }
 }
diff --git a/sample/24-serve-static/package-lock.json b/sample/24-serve-static/package-lock.json
index 869f7bcb1..79bbbed4e 100644
Binary files a/sample/24-serve-static/package-lock.json and b/sample/24-serve-static/package-lock.json differ
diff --git a/sample/24-serve-static/package.json b/sample/24-serve-static/package.json
index f618b0c8d..b91fa8539 100644
--- a/sample/24-serve-static/package.json
+++ b/sample/24-serve-static/package.json
@@ -19,35 +19,35 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/serve-static": "3.0.0",
-    "@nestjs/platform-express": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/serve-static": "2.2.2",
+    "@nestjs/platform-express": "8.2.3",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   }
 }
diff --git a/sample/25-dynamic-modules/README.md b/sample/25-dynamic-modules/README.md
index 9343fcc8a..a59ef9241 100644
--- a/sample/25-dynamic-modules/README.md
+++ b/sample/25-dynamic-modules/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [travis-image]: https://api.travis-ci.org/nestjs/nest.svg?branch=master
diff --git a/sample/25-dynamic-modules/package-lock.json b/sample/25-dynamic-modules/package-lock.json
index 0e749e602..3eaeea0b9 100644
Binary files a/sample/25-dynamic-modules/package-lock.json and b/sample/25-dynamic-modules/package-lock.json differ
diff --git a/sample/25-dynamic-modules/package.json b/sample/25-dynamic-modules/package.json
index dd483bccd..0ac6b93e7 100644
--- a/sample/25-dynamic-modules/package.json
+++ b/sample/25-dynamic-modules/package.json
@@ -19,36 +19,36 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "dotenv": "16.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "dotenv": "10.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
     "@types/dotenv": "8.2.0",
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/26-queues/README.md b/sample/26-queues/README.md
index 9343fcc8a..a59ef9241 100644
--- a/sample/26-queues/README.md
+++ b/sample/26-queues/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [travis-image]: https://api.travis-ci.org/nestjs/nest.svg?branch=master
diff --git a/sample/26-queues/package-lock.json b/sample/26-queues/package-lock.json
index 4963f4db1..74ffc81f2 100644
Binary files a/sample/26-queues/package-lock.json and b/sample/26-queues/package-lock.json differ
diff --git a/sample/26-queues/package.json b/sample/26-queues/package.json
index 98546675e..ba61b32f1 100644
--- a/sample/26-queues/package.json
+++ b/sample/26-queues/package.json
@@ -19,39 +19,39 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/bull": "0.6.0",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "bull": "4.8.4",
-    "dotenv": "16.0.1",
+    "@nestjs/bull": "0.4.2",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "bull": "3.29.3",
+    "dotenv": "10.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/bull": "3.15.8",
     "@types/dotenv": "8.2.0",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/27-scheduling/README.md b/sample/27-scheduling/README.md
index 9343fcc8a..a59ef9241 100644
--- a/sample/27-scheduling/README.md
+++ b/sample/27-scheduling/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [travis-image]: https://api.travis-ci.org/nestjs/nest.svg?branch=master
diff --git a/sample/27-scheduling/package-lock.json b/sample/27-scheduling/package-lock.json
index 95ded864d..86d3f8746 100644
Binary files a/sample/27-scheduling/package-lock.json and b/sample/27-scheduling/package-lock.json differ
diff --git a/sample/27-scheduling/package.json b/sample/27-scheduling/package.json
index 886433e40..4bc054eab 100644
--- a/sample/27-scheduling/package.json
+++ b/sample/27-scheduling/package.json
@@ -19,38 +19,38 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "@nestjs/schedule": "2.1.0",
-    "dotenv": "16.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "@nestjs/schedule": "1.0.2",
+    "dotenv": "10.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/bull": "3.15.8",
     "@types/dotenv": "8.2.0",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/28-sse/README.md b/sample/28-sse/README.md
index 9343fcc8a..a59ef9241 100644
--- a/sample/28-sse/README.md
+++ b/sample/28-sse/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [travis-image]: https://api.travis-ci.org/nestjs/nest.svg?branch=master
diff --git a/sample/28-sse/package-lock.json b/sample/28-sse/package-lock.json
index ef53831d5..dfe3c6c91 100644
Binary files a/sample/28-sse/package-lock.json and b/sample/28-sse/package-lock.json differ
diff --git a/sample/28-sse/package.json b/sample/28-sse/package.json
index 232662582..3ab54338c 100644
--- a/sample/28-sse/package.json
+++ b/sample/28-sse/package.json
@@ -19,35 +19,35 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/dotenv": "8.2.0",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/29-file-upload/e2e/app/app.e2e-spec.ts b/sample/29-file-upload/e2e/app/app.e2e-spec.ts
index 4107251ff..826b5ba8d 100644
--- a/sample/29-file-upload/e2e/app/app.e2e-spec.ts
+++ b/sample/29-file-upload/e2e/app/app.e2e-spec.ts
@@ -1,6 +1,7 @@
 import { INestApplication } from '@nestjs/common';
 import { Test } from '@nestjs/testing';
 import { readFileSync } from 'fs';
+import { join } from 'path';
 import * as request from 'supertest';
 import { AppModule } from '../../src/app.module';
 
@@ -29,28 +30,6 @@ describe('E2E FileTest', () => {
       });
   });
 
-  it('should allow for file uploads that pass validation', async () => {
-    return request(app.getHttpServer())
-      .post('/file/pass-validation')
-      .attach('file', './package.json')
-      .field('name', 'test')
-      .expect(201)
-      .expect({
-        body: {
-          name: 'test',
-        },
-        file: readFileSync('./package.json').toString(),
-      });
-  });
-
-  it('should throw for file uploads that do not pass validation', async () => {
-    return request(app.getHttpServer())
-      .post('/file/fail-validation')
-      .attach('file', './package.json')
-      .field('name', 'test')
-      .expect(400);
-  });
-
   afterAll(async () => {
     await app.close();
   });
diff --git a/sample/29-file-upload/package-lock.json b/sample/29-file-upload/package-lock.json
index 7416f8028..2f075e23a 100644
Binary files a/sample/29-file-upload/package-lock.json and b/sample/29-file-upload/package-lock.json differ
diff --git a/sample/29-file-upload/package.json b/sample/29-file-upload/package.json
index 5d80b6566..df8e1d605 100644
--- a/sample/29-file-upload/package.json
+++ b/sample/29-file-upload/package.json
@@ -19,37 +19,37 @@
     "test:e2e": "jest --config ./e2e/jest-e2e.json"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/platform-express": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/platform-express": "8.2.3",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
+    "@types/jest": "27.4.1",
     "@types/multer": "1.4.7",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/29-file-upload/src/app.controller.ts b/sample/29-file-upload/src/app.controller.ts
index 39d3af1fb..dc59cd260 100644
--- a/sample/29-file-upload/src/app.controller.ts
+++ b/sample/29-file-upload/src/app.controller.ts
@@ -2,7 +2,6 @@ import {
   Body,
   Controller,
   Get,
-  ParseFilePipeBuilder,
   Post,
   UploadedFile,
   UseInterceptors,
@@ -32,42 +31,4 @@ export class AppController {
       file: file.buffer.toString(),
     };
   }
-
-  @UseInterceptors(FileInterceptor('file'))
-  @Post('file/pass-validation')
-  uploadFileAndPassValidation(
-    @Body() body: SampleDto,
-    @UploadedFile(
-      new ParseFilePipeBuilder()
-        .addFileTypeValidator({
-          fileType: 'json',
-        })
-        .build(),
-    )
-    file: Express.Multer.File,
-  ) {
-    return {
-      body,
-      file: file.buffer.toString(),
-    };
-  }
-
-  @UseInterceptors(FileInterceptor('file'))
-  @Post('file/fail-validation')
-  uploadFileAndFailValidation(
-    @Body() body: SampleDto,
-    @UploadedFile(
-      new ParseFilePipeBuilder()
-        .addFileTypeValidator({
-          fileType: 'jpg',
-        })
-        .build(),
-    )
-    file: Express.Multer.File,
-  ) {
-    return {
-      body,
-      file: file.buffer.toString(),
-    };
-  }
 }
diff --git a/sample/30-event-emitter/package-lock.json b/sample/30-event-emitter/package-lock.json
index 2c8d4e028..e93ae381c 100644
Binary files a/sample/30-event-emitter/package-lock.json and b/sample/30-event-emitter/package-lock.json differ
diff --git a/sample/30-event-emitter/package.json b/sample/30-event-emitter/package.json
index c989c709c..548e648b9 100644
--- a/sample/30-event-emitter/package.json
+++ b/sample/30-event-emitter/package.json
@@ -19,35 +19,35 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/event-emitter": "1.2.0",
-    "@nestjs/platform-express": "9.0.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/event-emitter": "1.0.0",
+    "@nestjs/platform-express": "8.2.3",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/31-graphql-federation-code-first/gateway/README.md b/sample/31-graphql-federation-code-first/gateway/README.md
index 262b3aaa1..9fe8812ff 100644
--- a/sample/31-graphql-federation-code-first/gateway/README.md
+++ b/sample/31-graphql-federation-code-first/gateway/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
diff --git a/sample/31-graphql-federation-code-first/gateway/package-lock.json b/sample/31-graphql-federation-code-first/gateway/package-lock.json
index a7fbd8412..04cb1eb31 100644
Binary files a/sample/31-graphql-federation-code-first/gateway/package-lock.json and b/sample/31-graphql-federation-code-first/gateway/package-lock.json differ
diff --git a/sample/31-graphql-federation-code-first/gateway/package.json b/sample/31-graphql-federation-code-first/gateway/package.json
index 781d850bd..da6d62a0e 100644
--- a/sample/31-graphql-federation-code-first/gateway/package.json
+++ b/sample/31-graphql-federation-code-first/gateway/package.json
@@ -21,41 +21,41 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@apollo/gateway": "2.0.5",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server-express": "3.9.0",
-    "graphql": "16.5.0",
-    "graphql-tools": "8.3.0",
+    "@apollo/gateway": "0.46.0",
+    "@nestjs/apollo": "9.2.4",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server-express": "3.6.2",
+    "graphql": "15.7.2",
+    "graphql-tools": "8.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "ts-morph": "15.1.0"
+    "rxjs": "7.4.0",
+    "ts-morph": "12.2.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-prettier": "4.2.1",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-prettier": "4.0.0",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/31-graphql-federation-code-first/posts-application/README.md b/sample/31-graphql-federation-code-first/posts-application/README.md
index 262b3aaa1..9fe8812ff 100644
--- a/sample/31-graphql-federation-code-first/posts-application/README.md
+++ b/sample/31-graphql-federation-code-first/posts-application/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
diff --git a/sample/31-graphql-federation-code-first/posts-application/package-lock.json b/sample/31-graphql-federation-code-first/posts-application/package-lock.json
index 89a4da5ee..025537d4d 100644
Binary files a/sample/31-graphql-federation-code-first/posts-application/package-lock.json and b/sample/31-graphql-federation-code-first/posts-application/package-lock.json differ
diff --git a/sample/31-graphql-federation-code-first/posts-application/package.json b/sample/31-graphql-federation-code-first/posts-application/package.json
index 67cb5f415..5ef3c4f38 100644
--- a/sample/31-graphql-federation-code-first/posts-application/package.json
+++ b/sample/31-graphql-federation-code-first/posts-application/package.json
@@ -21,43 +21,43 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@apollo/federation": "0.36.1",
-    "@apollo/gateway": "2.0.5",
-    "@apollo/subgraph": "2.0.5",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server-express": "3.9.0",
-    "graphql": "16.5.0",
-    "graphql-tools": "8.3.0",
+    "@apollo/federation": "0.33.9",
+    "@apollo/gateway": "0.46.0",
+    "@apollo/subgraph": "0.1.5",
+    "@nestjs/apollo": "9.2.5",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server-express": "3.6.2",
+    "graphql": "15.7.2",
+    "graphql-tools": "8.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "ts-morph": "15.1.0"
+    "rxjs": "7.4.0",
+    "ts-morph": "12.2.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-prettier": "4.2.1",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-prettier": "4.0.0",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/31-graphql-federation-code-first/users-application/README.md b/sample/31-graphql-federation-code-first/users-application/README.md
index 262b3aaa1..9fe8812ff 100644
--- a/sample/31-graphql-federation-code-first/users-application/README.md
+++ b/sample/31-graphql-federation-code-first/users-application/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
diff --git a/sample/31-graphql-federation-code-first/users-application/package-lock.json b/sample/31-graphql-federation-code-first/users-application/package-lock.json
index c64f2e270..41c680a0e 100644
Binary files a/sample/31-graphql-federation-code-first/users-application/package-lock.json and b/sample/31-graphql-federation-code-first/users-application/package-lock.json differ
diff --git a/sample/31-graphql-federation-code-first/users-application/package.json b/sample/31-graphql-federation-code-first/users-application/package.json
index b8c7b697d..ede2439a5 100644
--- a/sample/31-graphql-federation-code-first/users-application/package.json
+++ b/sample/31-graphql-federation-code-first/users-application/package.json
@@ -20,43 +20,43 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@apollo/federation": "0.36.1",
-    "@apollo/gateway": "2.0.5",
-    "@apollo/subgraph": "2.0.5",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server-express": "3.9.0",
-    "graphql": "16.5.0",
-    "graphql-tools": "8.3.0",
+    "@apollo/federation": "0.33.9",
+    "@apollo/gateway": "0.46.0",
+    "@apollo/subgraph": "0.1.5",
+    "@nestjs/apollo": "9.2.5",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server-express": "3.6.2",
+    "graphql": "15.7.2",
+    "graphql-tools": "8.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "ts-morph": "15.1.0"
+    "rxjs": "7.4.0",
+    "ts-morph": "12.2.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-prettier": "4.2.1",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-prettier": "4.0.0",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/32-graphql-federation-schema-first/gateway/README.md b/sample/32-graphql-federation-schema-first/gateway/README.md
index 262b3aaa1..9fe8812ff 100644
--- a/sample/32-graphql-federation-schema-first/gateway/README.md
+++ b/sample/32-graphql-federation-schema-first/gateway/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
diff --git a/sample/32-graphql-federation-schema-first/gateway/package-lock.json b/sample/32-graphql-federation-schema-first/gateway/package-lock.json
index 9651a60a3..cb349e3d8 100644
Binary files a/sample/32-graphql-federation-schema-first/gateway/package-lock.json and b/sample/32-graphql-federation-schema-first/gateway/package-lock.json differ
diff --git a/sample/32-graphql-federation-schema-first/gateway/package.json b/sample/32-graphql-federation-schema-first/gateway/package.json
index 781d850bd..c24fea6c6 100644
--- a/sample/32-graphql-federation-schema-first/gateway/package.json
+++ b/sample/32-graphql-federation-schema-first/gateway/package.json
@@ -21,41 +21,41 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@apollo/gateway": "2.0.5",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server-express": "3.9.0",
-    "graphql": "16.5.0",
-    "graphql-tools": "8.3.0",
+    "@apollo/gateway": "0.46.0",
+    "@nestjs/apollo": "9.2.6",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server-express": "3.6.2",
+    "graphql": "15.7.2",
+    "graphql-tools": "8.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "ts-morph": "15.1.0"
+    "rxjs": "7.4.0",
+    "ts-morph": "12.2.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-prettier": "4.2.1",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-prettier": "4.0.0",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/32-graphql-federation-schema-first/posts-application/README.md b/sample/32-graphql-federation-schema-first/posts-application/README.md
index 262b3aaa1..9fe8812ff 100644
--- a/sample/32-graphql-federation-schema-first/posts-application/README.md
+++ b/sample/32-graphql-federation-schema-first/posts-application/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
diff --git a/sample/32-graphql-federation-schema-first/posts-application/package-lock.json b/sample/32-graphql-federation-schema-first/posts-application/package-lock.json
index 98970a8d2..b07ac6e28 100644
Binary files a/sample/32-graphql-federation-schema-first/posts-application/package-lock.json and b/sample/32-graphql-federation-schema-first/posts-application/package-lock.json differ
diff --git a/sample/32-graphql-federation-schema-first/posts-application/package.json b/sample/32-graphql-federation-schema-first/posts-application/package.json
index 67cb5f415..445e1d1ec 100644
--- a/sample/32-graphql-federation-schema-first/posts-application/package.json
+++ b/sample/32-graphql-federation-schema-first/posts-application/package.json
@@ -21,43 +21,43 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@apollo/federation": "0.36.1",
-    "@apollo/gateway": "2.0.5",
-    "@apollo/subgraph": "2.0.5",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server-express": "3.9.0",
-    "graphql": "16.5.0",
-    "graphql-tools": "8.3.0",
+    "@apollo/federation": "0.33.9",
+    "@apollo/gateway": "0.46.0",
+    "@apollo/subgraph": "0.1.5",
+    "@nestjs/apollo": "9.2.6",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server-express": "3.6.2",
+    "graphql": "15.7.2",
+    "graphql-tools": "8.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "ts-morph": "15.1.0"
+    "rxjs": "7.4.0",
+    "ts-morph": "12.2.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-prettier": "4.2.1",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-prettier": "4.0.0",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/32-graphql-federation-schema-first/users-application/README.md b/sample/32-graphql-federation-schema-first/users-application/README.md
index 262b3aaa1..9fe8812ff 100644
--- a/sample/32-graphql-federation-schema-first/users-application/README.md
+++ b/sample/32-graphql-federation-schema-first/users-application/README.md
@@ -1,5 +1,5 @@
 <p align="center">
-  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
+  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo_text.svg" width="320" alt="Nest Logo" /></a>
 </p>
 
 [circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
diff --git a/sample/32-graphql-federation-schema-first/users-application/package-lock.json b/sample/32-graphql-federation-schema-first/users-application/package-lock.json
index 30e51dde6..ac482ea88 100644
Binary files a/sample/32-graphql-federation-schema-first/users-application/package-lock.json and b/sample/32-graphql-federation-schema-first/users-application/package-lock.json differ
diff --git a/sample/32-graphql-federation-schema-first/users-application/package.json b/sample/32-graphql-federation-schema-first/users-application/package.json
index 9628d9320..c5358a6a3 100644
--- a/sample/32-graphql-federation-schema-first/users-application/package.json
+++ b/sample/32-graphql-federation-schema-first/users-application/package.json
@@ -20,43 +20,43 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@apollo/federation": "0.36.1",
-    "@apollo/gateway": "2.0.5",
-    "@apollo/subgraph": "2.0.5",
-    "@nestjs/apollo": "10.0.17",
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/platform-express": "9.0.1",
-    "apollo-server-express": "3.9.0",
-    "graphql": "15.8.0",
-    "graphql-tools": "8.3.0",
+    "@apollo/federation": "0.33.9",
+    "@apollo/gateway": "0.46.0",
+    "@apollo/subgraph": "0.1.5",
+    "@nestjs/apollo": "9.2.6",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.0",
+    "@nestjs/platform-express": "8.2.3",
+    "apollo-server-express": "3.6.2",
+    "graphql": "15.7.2",
+    "graphql-tools": "8.0.0",
     "reflect-metadata": "0.1.13",
     "rimraf": "3.0.2",
-    "rxjs": "7.5.5",
-    "ts-morph": "15.1.0"
+    "rxjs": "7.4.0",
+    "ts-morph": "12.2.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/jest": "28.1.4",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-prettier": "4.2.1",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "typescript": "4.7.4"
+    "@types/jest": "27.4.1",
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-prettier": "4.0.0",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "typescript": "4.3.5"
   },
   "jest": {
     "moduleFileExtensions": [
diff --git a/sample/33-graphql-mercurius/package-lock.json b/sample/33-graphql-mercurius/package-lock.json
index 1cc2299a4..7a9866999 100644
Binary files a/sample/33-graphql-mercurius/package-lock.json and b/sample/33-graphql-mercurius/package-lock.json differ
diff --git a/sample/33-graphql-mercurius/package.json b/sample/33-graphql-mercurius/package.json
index 14aad90bf..5ce073daf 100644
--- a/sample/33-graphql-mercurius/package.json
+++ b/sample/33-graphql-mercurius/package.json
@@ -19,37 +19,37 @@
     "test:e2e": "echo 'No e2e tests implemented yet.'"
   },
   "dependencies": {
-    "@nestjs/common": "9.0.1",
-    "@nestjs/core": "9.0.1",
-    "@nestjs/graphql": "10.0.18",
-    "@nestjs/mercurius": "10.0.17",
-    "@nestjs/platform-fastify": "9.0.1",
-    "class-transformer": "0.5.1",
+    "@nestjs/common": "8.2.3",
+    "@nestjs/core": "8.2.3",
+    "@nestjs/graphql": "10.0.2",
+    "@nestjs/mercurius": "10.0.0",
+    "@nestjs/platform-fastify": "8.2.6",
+    "class-transformer": "0.4.0",
     "class-validator": "0.13.2",
-    "graphql": "16.5.0",
-    "mercurius": "10.1.0",
+    "graphql": "16.3.0",
+    "mercurius": "9.2.0",
     "reflect-metadata": "0.1.13",
-    "rxjs": "7.5.5"
+    "rxjs": "7.4.0"
   },
   "devDependencies": {
-    "@nestjs/cli": "9.0.0",
-    "@nestjs/schematics": "9.0.1",
-    "@nestjs/testing": "9.0.1",
+    "@nestjs/cli": "8.1.5",
+    "@nestjs/schematics": "8.0.8",
+    "@nestjs/testing": "8.2.3",
     "@types/express": "4.17.13",
-    "@types/node": "18.0.3",
-    "@types/supertest": "2.0.12",
-    "jest": "28.1.2",
-    "prettier": "2.7.1",
-    "supertest": "6.2.4",
-    "ts-jest": "28.0.5",
-    "ts-loader": "9.3.1",
-    "ts-node": "10.8.2",
-    "tsconfig-paths": "4.0.0",
-    "@typescript-eslint/eslint-plugin": "5.30.5",
-    "@typescript-eslint/parser": "5.30.5",
-    "eslint": "8.19.0",
-    "eslint-config-prettier": "8.5.0",
-    "eslint-plugin-import": "2.26.0",
-    "typescript": "4.7.4"
+    "@types/node": "16.11.26",
+    "@types/supertest": "2.0.11",
+    "jest": "27.5.1",
+    "prettier": "2.5.1",
+    "supertest": "6.1.6",
+    "ts-jest": "27.0.7",
+    "ts-loader": "9.2.8",
+    "ts-node": "10.4.0",
+    "tsconfig-paths": "3.11.0",
+    "@typescript-eslint/eslint-plugin": "4.33.0",
+    "@typescript-eslint/parser": "4.33.0",
+    "eslint": "7.32.0",
+    "eslint-config-prettier": "8.3.0",
+    "eslint-plugin-import": "2.25.4",
+    "typescript": "4.4.2"
   }
 }
diff --git a/tools/benchmarks/get-benchmarks.ts b/tools/benchmarks/get-benchmarks.ts
index 9ea3c2dd5..eaf9a320b 100644
--- a/tools/benchmarks/get-benchmarks.ts
+++ b/tools/benchmarks/get-benchmarks.ts
@@ -23,13 +23,7 @@ async function runBenchmarkOfLib(lib: string): Promise<WrkResults> {
   const libPath = join(BENCHMARK_PATH, `${lib}.js`);
   const process = spawn('node', [libPath], {
     detached: true,
-  });
-
-  process.stdout!.on('data', data => {
-    console.log(`stdout: ${data}`);
-  });
-  process.stderr!.on('data', data => {
-    console.log(`stderr: ${data}`);
+    stdio: 'ignore',
   });
 
   process.unref();
