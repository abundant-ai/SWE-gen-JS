diff --git a/changelog_unreleased/api/18055.md b/changelog_unreleased/api/18055.md
index 8b7f949c6..e27253e8d 100644
--- a/changelog_unreleased/api/18055.md
+++ b/changelog_unreleased/api/18055.md
@@ -1,4 +1,4 @@
-#### Pass ancestors to `plugin.printer.canAttachComment()` (#18055 by @fisker)
+#### Pass ancestors to `plugin.print.canAttachComment()` (#18055 by @fisker)
 
 This prevent attaching comments to a specific child of node.
 
diff --git a/changelog_unreleased/api/18070.md b/changelog_unreleased/api/18070.md
deleted file mode 100644
index 8d04ebd39..000000000
--- a/changelog_unreleased/api/18070.md
+++ /dev/null
@@ -1,5 +0,0 @@
-#### Add support for `plugin.printer.printPrettierIgnored()` (#18070 by @fisker)
-
-For a node with `prettier-ignore` comment, Prettier prints the text of the node directly. However, this may cause problems, for example, the node needs to be parenthesized or needs to print a leading semicolon to prevent ASI issue in `--no-semi` mode.
-
-Since Prettier main, plugins can add `printPrettierIgnored()` function to the printer to customize the `prettier-ignore`d node print process. This function uses the extract same signature as [`plugin.printer.print()`](https://prettier.io/docs/plugins#print)
diff --git a/changelog_unreleased/css/18114.md b/changelog_unreleased/css/18114.md
new file mode 100644
index 000000000..8645d2adc
--- /dev/null
+++ b/changelog_unreleased/css/18114.md
@@ -0,0 +1,19 @@
+#### Remove unexpected space between font size and line height (#18114 by @kovsu)
+
+<!-- prettier-ignore -->
+```css
+/* Input */
+a {
+  font: var(--size)/1;
+}
+
+/* Prettier stable */
+a {
+  font: var(--size) / 1;
+}
+
+/* Prettier main */
+a {
+  font: var(--size)/1;
+}
+```
diff --git a/changelog_unreleased/javascript/17329.md b/changelog_unreleased/javascript/17329.md
deleted file mode 100644
index 434d8c569..000000000
--- a/changelog_unreleased/javascript/17329.md
+++ /dev/null
@@ -1,19 +0,0 @@
-#### Allow break import attributes into multiple lines (#17329 by @fisker)
-
-<!-- prettier-ignore -->
-```jsx
-// Input
-import syntaxImportAssertions from "@babel/plugin-syntax-import-assertions" with {
-  BABEL_8_BREAKING: "false",
-  USE_ESM: "true", IS_STANDALONE: "false" };
-
-// Prettier stable
-import syntaxImportAssertions from "@babel/plugin-syntax-import-assertions" with { BABEL_8_BREAKING: "false", USE_ESM: "true", IS_STANDALONE: "false" };
-
-// Prettier main
-import syntaxImportAssertions from "@babel/plugin-syntax-import-assertions" with {
-  BABEL_8_BREAKING: "false",
-  USE_ESM: "true",
-  IS_STANDALONE: "false",
-};
-```
diff --git a/changelog_unreleased/javascript/18099.md b/changelog_unreleased/javascript/18099.md
deleted file mode 100644
index 7e743e658..000000000
--- a/changelog_unreleased/javascript/18099.md
+++ /dev/null
@@ -1,18 +0,0 @@
-#### Fix comments handling for for-statements (#18099 by @fisker, @sosukesuzuki)
-
-<!-- prettier-ignore -->
-```js
-// Input
-for (x of y)
-  // Comment
-  bar();
-
-// Prettier stable
-// Comment
-for (x of y) bar();
-
-// Prettier main
-for (x of y)
-  // Comment
-  bar();
-```
diff --git a/changelog_unreleased/javascript/18108.md b/changelog_unreleased/javascript/18108.md
deleted file mode 100644
index 05e03e671..000000000
--- a/changelog_unreleased/javascript/18108.md
+++ /dev/null
@@ -1,25 +0,0 @@
-#### Improve comment printing around empty statement (#18108 by @fisker)
-
-<!-- prettier-ignore -->
-```jsx
-// Input
-for (
-  index = 0;
-  doSomething(foo[index]) !== bar && doSomething(foo[index]) !== baz;
-  index ++
-) /* No op */;
-
-// Prettier stable
-for (
-  index = 0;
-  doSomething(foo[index]) !== bar && doSomething(foo[index]) !== baz;
-  index++ /* No op */
-);
-
-// Prettier main
-for (
-  index = 0;
-  doSomething(foo[index]) !== bar && doSomething(foo[index]) !== baz;
-  index++
-) /* No op */ ;
-```
diff --git a/changelog_unreleased/less/17983.md b/changelog_unreleased/less/17983.md
deleted file mode 100644
index 1f739ea3b..000000000
--- a/changelog_unreleased/less/17983.md
+++ /dev/null
@@ -1,31 +0,0 @@
-#### Keep property/variable accessors tight (#17983 by @kovsu)
-
-<!-- prettier-ignore -->
-```less
-// Input
-.average(@x, @y) {
-  @result: ((@x + @y) / 2);
-}
-
-div {
-  padding: .average(16px, 50px)   [   @result   ];
-}
-
-// Prettier stable
-.average(@x, @y) {
-  @result: ((@x + @y) / 2);
-}
-
-div {
-  padding: .average(16px, 50px) [ @result];
-}
-
-// Prettier main
-.average(@x, @y) {
-  @result: ((@x + @y) / 2);
-}
-
-div {
-  padding: .average(16px, 50px)[@result];
-}
-```
diff --git a/changelog_unreleased/typescript/18109.md b/changelog_unreleased/typescript/18109.md
deleted file mode 100644
index 1029f9034..000000000
--- a/changelog_unreleased/typescript/18109.md
+++ /dev/null
@@ -1,32 +0,0 @@
-#### Remove unexpected blank line before union types (#18109 by @jspereiramoura, @fisker)
-
-<!-- prettier-ignore -->
-```tsx
-// Input
-type SuperLongTypeNameLoremIpsumLoremIpsumBlaBlaBlaBlaBlaBlaBlaBlaBlaBlaBlaBla =
-  Fooo1000 | Baz2000 | BarLoooooooooooooooooooooooooooooooooooooooooooooooooLong;
-type A = // comment
-  Fooo1000 | Baz2000 | BarLoooooooooooooooooooooooooooooooooooooooooooooooooLong;
-
-// Prettier stable
-type SuperLongTypeNameLoremIpsumLoremIpsumBlaBlaBlaBlaBlaBlaBlaBlaBlaBlaBlaBla =
-
-    | Fooo1000
-    | Baz2000
-    | BarLoooooooooooooooooooooooooooooooooooooooooooooooooLong;
-type A = // comment
-
-    | Fooo1000
-    | Baz2000
-    | BarLoooooooooooooooooooooooooooooooooooooooooooooooooLong;
-
-// Prettier main
-type SuperLongTypeNameLoremIpsumLoremIpsumBlaBlaBlaBlaBlaBlaBlaBlaBlaBlaBlaBla =
-  | Fooo1000
-  | Baz2000
-  | BarLoooooooooooooooooooooooooooooooooooooooooooooooooLong;
-type A =  // comment
-  | Fooo1000
-  | Baz2000
-  | BarLoooooooooooooooooooooooooooooooooooooooooooooooooLong;
-```
diff --git a/docs/plugins.md b/docs/plugins.md
index fa5cfbba1..8d7718f34 100644
--- a/docs/plugins.md
+++ b/docs/plugins.md
@@ -152,8 +152,6 @@ _(Optional)_ The preprocess function can process the input text before passing i
 function preprocess(text: string, options: object): string | Promise<string>;
 ```
 
-_Support for async preprocess first added in v3.7.0_
-
 ### `printers`
 
 Printers convert ASTs into a Prettier intermediate representation, also known as a Doc.
@@ -172,8 +170,6 @@ export const printers = {
     isBlockComment,
     printComment,
     getCommentChildNodes,
-    hasPrettierIgnore,
-    printPrettierIgnored,
     handleComments: {
       ownLine,
       endOfLine,
@@ -398,22 +394,6 @@ function getCommentChildNodes(
 
 Return `[]` if the node has no children or `undefined` to fall back on the default behavior.
 
-### (optional) `hasPrettierIgnore`
-
-```ts
-function hasPrettierIgnore(path: AstPath): boolean;
-```
-
-Returns whether or not the AST node is `prettier-ignore`d.
-
-### (optional) `printPrettierIgnored`
-
-If the AST node is `prettier-ignore`d, Prettier will slice for the text for parsing without calling `print` function by default, however plugin can also handle the `prettier-ignore`d node print by adding this property.
-
-This property have the same signature as the `print` property.
-
-_First available in v3.7.0_
-
 #### (optional) `printComment`
 
 Called whenever a comment node needs to be printed. It has the signature:
@@ -433,6 +413,12 @@ function printComment(
 function canAttachComment(node: AST, ancestors: T[]): boolean;
 ```
 
+:::note
+
+The second parameter `ancestors` first added in v3.7.0.
+
+:::
+
 This function is used for deciding whether a comment can be attached to a particular AST node. By default, _all_ AST properties are traversed searching for nodes that comments can be attached to. This function is used to prevent comments from being attached to a particular node. A typical implementation looks like
 
 ```js
@@ -446,8 +432,6 @@ function canAttachComment(node, [parent]) {
 }
 ```
 
-_The second parameter `ancestors` first added in v3.7.0._
-
 #### (optional) `isBlockComment`
 
 ```ts
diff --git a/scripts/lint-changelog.js b/scripts/lint-changelog.js
index ea751a6e0..a558d149e 100644
--- a/scripts/lint-changelog.js
+++ b/scripts/lint-changelog.js
@@ -1,11 +1,8 @@
 #!/usr/bin/env node
 
-import assert from "node:assert/strict";
 import fs from "node:fs";
 import indexToPosition from "index-to-position";
 import { outdent } from "outdent";
-import remarkParse from "remark-parse";
-import unified from "unified";
 import { CHANGELOG_CATEGORIES } from "./utils/changelog-categories.js";
 
 const CHANGELOG_DIR = "changelog_unreleased";
@@ -119,9 +116,6 @@ for (const category of CHANGELOG_CATEGORIES) {
       continue;
     }
     const [, title] = titleMatch;
-
-    validateTitle(displayPath, title);
-
     const categoryInTitle = title.split(":").shift().trim();
     if (
       [...CHANGELOG_CATEGORIES, "js"].includes(categoryInTitle.toLowerCase())
@@ -158,20 +152,3 @@ function getCommentDescription(content, comment) {
 
   return `template comment on line ${startLine}-${endLine}`;
 }
-
-// Forbid html in title
-// https://github.com/prettier/prettier/issues/17089
-function validateTitle(displayPath, title) {
-  const processor = unified().use(remarkParse);
-  const tree = processor.runSync(processor.parse(title));
-  assert.equal(tree.children.length, 1);
-  assert.equal(tree.children[0].type, "paragraph");
-  const { children } = tree.children[0];
-  for (const node of children) {
-    if (node.type === "html") {
-      showErrorMessage(
-        `[${displayPath}]: HTML "${node.value}" is restricted in title.`,
-      );
-    }
-  }
-}
diff --git a/src/index.d.ts b/src/index.d.ts
index 6f8b6a9fe..cd177ff8b 100644
--- a/src/index.d.ts
+++ b/src/index.d.ts
@@ -491,12 +491,6 @@ export interface Printer<T = any> {
     print: (path: AstPath<T>) => Doc,
     args?: unknown,
   ): Doc;
-  printPrettierIgnored?(
-    path: AstPath<T>,
-    options: ParserOptions<T>,
-    print: (path: AstPath<T>) => Doc,
-    args?: unknown,
-  ): Doc;
   embed?:
     | ((
         path: AstPath,
diff --git a/src/language-css/clean.js b/src/language-css/clean.js
index 063497b81..b54c97c7d 100644
--- a/src/language-css/clean.js
+++ b/src/language-css/clean.js
@@ -198,15 +198,13 @@ function clean(original, cloned, parent) {
     }
   }
 
-  // We parse `@var[ foo ]`, `@var[foo]`, and `var [ @foo ]` differently
+  // We parse `@var[ foo ]` and `@var[foo]` differently
   if (
     original.type === "value-comma_group" &&
     original.groups.some(
       (node) =>
-        (node.type === "value-atword" &&
-          (node.value.endsWith("[") || node.value.endsWith("]"))) ||
-        (node.type === "value-word" &&
-          (node.value.startsWith("]") || node.value.startsWith("["))),
+        (node.type === "value-atword" && node.value.endsWith("[")) ||
+        (node.type === "value-word" && node.value.startsWith("]")),
     )
   ) {
     return {
diff --git a/src/language-css/print/comma-separated-value-group.js b/src/language-css/print/comma-separated-value-group.js
index 973380c86..00237a00d 100644
--- a/src/language-css/print/comma-separated-value-group.js
+++ b/src/language-css/print/comma-separated-value-group.js
@@ -191,9 +191,9 @@ function printCommaSeparatedValueGroup(path, options, print) {
       iNode.type === "value-atword" &&
       (iNode.value === "" ||
         /*
-        @var[ @notVarNested ][notVar]
-        ^^^^^
-        */
+            @var[ @notVarNested ][notVar]
+            ^^^^^
+            */
         iNode.value.endsWith("["))
     ) {
       continue;
@@ -212,38 +212,6 @@ function printCommaSeparatedValueGroup(path, options, print) {
       continue;
     }
 
-    // Less property/variable lookup
-    // https://lesscss.org/features/#detached-rulesets-feature-property-variable-accessors
-    if (options.parser === "less") {
-      // `var [@result]`
-      //      ^
-      if (iNextNode?.type === "value-word" && iNextNode.value === "[") {
-        continue;
-      }
-
-      // `var[ @result]`
-      //     ^
-      // `@var [ @@foo ] [ bar ]`
-      //                 ^
-      if (
-        iNode.type === "value-word" &&
-        iNode.value === "[" &&
-        (iNextNode?.type === "value-atword" || iNextNode?.type === "value-word")
-      ) {
-        continue;
-      }
-
-      // `@var [ @@foo ][ bar ]`
-      //               ^^
-      if (
-        iNode.type === "value-word" &&
-        iNode.value === "][" &&
-        iNextNode?.type === "value-word"
-      ) {
-        continue;
-      }
-    }
-
     // Ignore escape `\`
     if (
       iNode.type !== "value-string" &&
@@ -337,17 +305,6 @@ function printCommaSeparatedValueGroup(path, options, print) {
       isColorAdjusterFuncNode(parentParentNode) &&
       !hasEmptyRawBefore(iNextNode);
 
-    const requireSpaceBeforeOperator =
-      iNextNextNode?.type === "value-func" ||
-      (iNextNextNode && isWordNode(iNextNextNode)) ||
-      iNode.type === "value-func" ||
-      isWordNode(iNode);
-    const requireSpaceAfterOperator =
-      iNextNode.type === "value-func" ||
-      isWordNode(iNextNode) ||
-      iPrevNode?.type === "value-func" ||
-      (iPrevNode && isWordNode(iPrevNode));
-
     // Space before unary minus followed by a function call.
     if (
       options.parser === "scss" &&
@@ -360,6 +317,17 @@ function printCommaSeparatedValueGroup(path, options, print) {
       continue;
     }
 
+    const requireSpaceBeforeOperator =
+      iNextNextNode?.type === "value-func" ||
+      (iNextNextNode && isWordNode(iNextNextNode)) ||
+      iNode.type === "value-func" ||
+      isWordNode(iNode);
+    const requireSpaceAfterOperator =
+      iNextNode.type === "value-func" ||
+      isWordNode(iNextNode) ||
+      iPrevNode?.type === "value-func" ||
+      (iPrevNode && isWordNode(iPrevNode));
+
     // Formatting `/`, `+`, `-` sign
     if (
       !(isMultiplicationNode(iNextNode) || isMultiplicationNode(iNode)) &&
@@ -441,6 +409,28 @@ function printCommaSeparatedValueGroup(path, options, print) {
       continue;
     }
 
+    // Formatting `font` property
+    if (
+      declAncestorProp &&
+      (declAncestorProp === "font" || declAncestorProp.startsWith("--"))
+    ) {
+      if (
+        isDivisionNode(iNextNode) &&
+        hasEmptyRawBefore(iNextNode) &&
+        isPossibleFontSize(iNode)
+      ) {
+        continue;
+      }
+
+      if (
+        isDivisionNode(iNode) &&
+        hasEmptyRawBefore(iNode) &&
+        isPossibleFontSize(iPrevNode)
+      ) {
+        continue;
+      }
+    }
+
     // Add `space` before next math operation
     // Note: `grip` property have `/` delimiter and it is not math operation, so
     // `grid` property handles above
@@ -517,4 +507,24 @@ function printCommaSeparatedValueGroup(path, options, print) {
   return group(indent(fill(parts)));
 }
 
+function isPossibleFontSize(node) {
+  if (node?.type === "value-number") {
+    return true;
+  }
+
+  if (node?.type !== "value-func") {
+    return false;
+  }
+
+  const value = node.value.toLowerCase();
+  return (
+    value === "var" ||
+    value === "calc" ||
+    value === "min" ||
+    value === "max" ||
+    value === "clamp" ||
+    value.startsWith("--")
+  );
+}
+
 export default printCommaSeparatedValueGroup;
diff --git a/src/language-css/utils/index.js b/src/language-css/utils/index.js
index 04b7816be..b2354bdca 100644
--- a/src/language-css/utils/index.js
+++ b/src/language-css/utils/index.js
@@ -150,7 +150,7 @@ function isMultiplicationNode(node) {
 }
 
 function isDivisionNode(node) {
-  return node.type === "value-operator" && node.value === "/";
+  return node?.type === "value-operator" && node.value === "/";
 }
 
 function isAdditionNode(node) {
@@ -231,7 +231,7 @@ function hasParensAroundNode(node) {
 }
 
 function hasEmptyRawBefore(node) {
-  return node.raws?.before === "";
+  return node?.raws?.before === "";
 }
 
 function isKeyValuePairNode(node) {
diff --git a/src/language-js/clean.js b/src/language-js/clean.js
index d49d36539..6fc821c41 100644
--- a/src/language-js/clean.js
+++ b/src/language-js/clean.js
@@ -1,6 +1,5 @@
 import {
   isArrayExpression,
-  isMeaningfulEmptyStatement,
   isNumericLiteral,
   isStringLiteral,
 } from "./utils/index.js";
@@ -27,7 +26,7 @@ const removeTemplateElementsValue = (node) => {
   }
 };
 
-function clean(original, cloned, parent) {
+function clean(original, cloned) {
   if (original.type === "Program") {
     delete cloned.sourceType;
   }
@@ -40,10 +39,7 @@ function clean(original, cloned, parent) {
   }
 
   // We remove extra `;` and add them when needed
-  if (
-    original.type === "EmptyStatement" &&
-    !isMeaningfulEmptyStatement({ node: original, parent })
-  ) {
+  if (original.type === "EmptyStatement") {
     return null;
   }
 
diff --git a/src/language-js/comments/handle-comments.js b/src/language-js/comments/handle-comments.js
index c0779edb0..213434f15 100644
--- a/src/language-js/comments/handle-comments.js
+++ b/src/language-js/comments/handle-comments.js
@@ -840,11 +840,10 @@ function handleOnlyComments({ comment, enclosingNode, ast, isLastComment }) {
   return false;
 }
 
-function handleForComments({ comment, enclosingNode, followingNode }) {
+function handleForComments({ comment, enclosingNode }) {
   if (
-    (enclosingNode?.type === "ForInStatement" ||
-      enclosingNode?.type === "ForOfStatement") &&
-    followingNode !== enclosingNode.body
+    enclosingNode?.type === "ForInStatement" ||
+    enclosingNode?.type === "ForOfStatement"
   ) {
     addLeadingComment(enclosingNode, comment);
     return true;
diff --git a/src/language-js/comments/printer-methods.js b/src/language-js/comments/printer-methods.js
index a3bc7f412..daf0ab056 100644
--- a/src/language-js/comments/printer-methods.js
+++ b/src/language-js/comments/printer-methods.js
@@ -4,7 +4,6 @@ import {
   getFunctionParameters,
   hasNodeIgnoreComment,
   isJsxElement,
-  isMeaningfulEmptyStatement,
   isMethod,
   isUnionType,
 } from "../utils/index.js";
@@ -15,6 +14,7 @@ import {
  */
 
 const isNodeCantAttachComment = createTypeCheckFunction([
+  "EmptyStatement",
   "TemplateElement",
   // There is no similar node in Babel AST
   // ```ts
@@ -84,20 +84,12 @@ const isClassMethodCantAttachComment = (node, [parent]) =>
 @returns {boolean}
 */
 function canAttachComment(node, ancestors) {
-  if (
+  return !(
     isNodeCantAttachComment(node) ||
     isChildWontPrint(node, ancestors) ||
     // @ts-expect-error -- safe
     isClassMethodCantAttachComment(node, ancestors)
-  ) {
-    return false;
-  }
-
-  if (node.type === "EmptyStatement") {
-    return isMeaningfulEmptyStatement({ node, parent: ancestors[0] });
-  }
-
-  return true;
+  );
 }
 
 /**
diff --git a/src/language-js/print/assignment.js b/src/language-js/print/assignment.js
index 534cd44dd..cbe8428a1 100644
--- a/src/language-js/print/assignment.js
+++ b/src/language-js/print/assignment.js
@@ -142,7 +142,6 @@ function chooseLayout(path, options, print, leftDoc, rightPropertyName) {
     node.type === "ImportAttribute" ||
     (rightNode.type === "CallExpression" &&
       rightNode.callee.name === "require") ||
-    isUnionType(rightNode) ||
     // do not put values on a separate line from the key in json
     options.parser === "json5" ||
     options.parser === "jsonc" ||
diff --git a/src/language-js/print/estree.js b/src/language-js/print/estree.js
index 2ccd0309c..d8dd34d1b 100644
--- a/src/language-js/print/estree.js
+++ b/src/language-js/print/estree.js
@@ -18,7 +18,6 @@ import {
   isArrayExpression,
   isCallExpression,
   isLiteral,
-  isMeaningfulEmptyStatement,
   isMemberExpression,
   isMethod,
   isNextLineEmpty,
@@ -102,6 +101,8 @@ function printEstree(path, options, print, args) {
     // Babel extension.
     case "File":
       return printHtmlBinding(path, options, print) ?? print("program");
+    case "EmptyStatement":
+      return "";
     case "ExpressionStatement":
       return printExpressionStatement(path, options, print);
 
@@ -492,11 +493,11 @@ function printEstree(path, options, print, args) {
         options.semi ? ";" : "",
       ];
     case "LabeledStatement":
-      return [
-        print("label"),
-        `:${node.body.type === "EmptyStatement" && !hasComment(node.body, CommentCheckFlags.Leading) ? "" : " "}`,
-        print("body"),
-      ];
+      if (node.body.type === "EmptyStatement") {
+        return [print("label"), ":;"];
+      }
+
+      return [print("label"), ": ", print("body")];
     case "TryStatement":
       return [
         "try ",
@@ -626,11 +627,6 @@ function printEstree(path, options, print, args) {
     case "VoidPattern":
       return "void";
 
-    case "EmptyStatement":
-      if (isMeaningfulEmptyStatement(path)) {
-        return ";";
-      }
-    // Fall through
     case "InterpreterDirective": // Printed as comment
     default:
       /* c8 ignore next */
diff --git a/src/language-js/print/index.js b/src/language-js/print/index.js
index fb8b097f6..1db75c1d1 100644
--- a/src/language-js/print/index.js
+++ b/src/language-js/print/index.js
@@ -1,7 +1,7 @@
 import { group, indent, line } from "../../document/builders.js";
 import { inheritLabel } from "../../document/utils.js";
+import printIgnored from "../../main/print-ignored.js";
 import isNonEmptyArray from "../../utils/is-non-empty-array.js";
-import { locEnd, locStart } from "../loc.js";
 import pathNeedsParens from "../needs-parens.js";
 import { createTypeCheckFunction } from "../utils/index.js";
 import isIgnored from "../utils/is-ignored.js";
@@ -19,6 +19,10 @@ import { printTypescript } from "./typescript.js";
  */
 
 function printWithoutParentheses(path, options, print, args) {
+  if (isIgnored(path)) {
+    return printIgnored(path, options);
+  }
+
   for (const printer of [
     printAngular,
     printJsx,
@@ -61,15 +65,12 @@ function print(path, options, print, args) {
     options.__onHtmlBindingRoot?.(path.node, options);
   }
 
-  const { node } = path;
-
-  const doc = isIgnored(path)
-    ? options.originalText.slice(locStart(node), locEnd(node))
-    : printWithoutParentheses(path, options, print, args);
+  const doc = printWithoutParentheses(path, options, print, args);
   if (!doc) {
     return "";
   }
 
+  const { node } = path;
   if (shouldPrintDirectly(node)) {
     return doc;
   }
diff --git a/src/language-js/print/misc.js b/src/language-js/print/misc.js
index e8ad0e422..bf08be750 100644
--- a/src/language-js/print/misc.js
+++ b/src/language-js/print/misc.js
@@ -1,10 +1,5 @@
 import { indent, line } from "../../document/builders.js";
-import {
-  CommentCheckFlags,
-  hasComment,
-  isCallExpression,
-  isMemberExpression,
-} from "../utils/index.js";
+import { isCallExpression, isMemberExpression } from "../utils/index.js";
 import { printTypeAnnotationProperty } from "./type-annotation.js";
 
 /**
@@ -101,7 +96,7 @@ function printBindExpressionCallee(path, options, print) {
 
 function adjustClause(node, clause, forceSpace) {
   if (node.type === "EmptyStatement") {
-    return hasComment(node, CommentCheckFlags.Leading) ? [" ", clause] : clause;
+    return ";";
   }
 
   if (node.type === "BlockStatement" || forceSpace) {
diff --git a/src/language-js/print/module.js b/src/language-js/print/module.js
index f78761505..a97402537 100644
--- a/src/language-js/print/module.js
+++ b/src/language-js/print/module.js
@@ -7,7 +7,6 @@ import {
   line,
   softline,
 } from "../../document/builders.js";
-import { removeLines } from "../../document/utils.js";
 import { printDanglingComments } from "../../main/comments/print.js";
 import isNonEmptyArray from "../../utils/is-non-empty-array.js";
 import UnexpectedNodeError from "../../utils/unexpected-node-error.js";
@@ -24,15 +23,11 @@ import {
 } from "../utils/index.js";
 import { printDecoratorsBeforeExport } from "./decorators.js";
 import { printDeclareToken } from "./misc.js";
-import { printObject } from "./object.js";
 
 /**
  * @import {Doc} from "../../document/builders.js"
  */
 
-/*
-- `ImportDeclaration`
-*/
 function printImportDeclaration(path, options, print) {
   const { node } = path;
   /** @type{Doc[]} */
@@ -54,8 +49,8 @@ const isDefaultExport = (node) =>
 /*
 - `ExportDefaultDeclaration`
 - `ExportNamedDeclaration`
-- `ExportAllDeclaration`
 - `DeclareExportDeclaration`(flow)
+- `ExportAllDeclaration`
 - `DeclareExportAllDeclaration`(flow)
 */
 function printExportDeclaration(path, options, print) {
@@ -276,34 +271,6 @@ function getImportAttributesKeyword(node, options) {
   return isNonEmptyArray(node.attributes) ? "with" : undefined;
 }
 
-const isSingleTypeImportAttributes = (node) => {
-  const { attributes } = node;
-
-  if (attributes.length !== 1) {
-    return false;
-  }
-
-  const [attribute] = attributes;
-  const { type, key, value } = attribute;
-  return (
-    type === "ImportAttribute" &&
-    ((key.type === "Identifier" && key.name === "type") ||
-      (isStringLiteral(key) && key.value === "type")) &&
-    isStringLiteral(value) &&
-    !hasComment(attribute) &&
-    !hasComment(key) &&
-    !hasComment(value)
-  );
-};
-
-/*
-- `ImportDeclaration`
-- `ExportDefaultDeclaration`
-- `ExportNamedDeclaration`
-- `ExportAllDeclaration`
-- `DeclareExportDeclaration` (Flow)
-- `DeclareExportAllDeclaration` (Flow)
-*/
 function printImportAttributes(path, options, print) {
   const { node } = path;
 
@@ -316,12 +283,23 @@ function printImportAttributes(path, options, print) {
     return "";
   }
 
-  let attributesDoc = printObject(path, options, print);
-  if (isSingleTypeImportAttributes(node)) {
-    attributesDoc = removeLines(attributesDoc);
+  /** @type{Doc[]} */
+  const parts = [` ${keyword} {`];
+
+  if (isNonEmptyArray(node.attributes)) {
+    if (options.bracketSpacing) {
+      parts.push(" ");
+    }
+
+    parts.push(join(", ", path.map(print, "attributes")));
+
+    if (options.bracketSpacing) {
+      parts.push(" ");
+    }
   }
+  parts.push("}");
 
-  return [` ${keyword} `, attributesDoc];
+  return parts;
 }
 
 function printModuleSpecifier(path, options, print) {
diff --git a/src/language-js/print/object.js b/src/language-js/print/object.js
index e0f38641f..eb7c004c6 100644
--- a/src/language-js/print/object.js
+++ b/src/language-js/print/object.js
@@ -1,4 +1,3 @@
-import * as assert from "#universal/assert";
 import {
   group,
   hardline,
@@ -12,10 +11,8 @@ import hasNewline from "../../utils/has-newline.js";
 import hasNewlineInRange from "../../utils/has-newline-in-range.js";
 import isNonEmptyArray from "../../utils/is-non-empty-array.js";
 import { locEnd, locStart } from "../loc.js";
-import getTextWithoutComments from "../utils/get-text-without-comments.js";
 import {
   CommentCheckFlags,
-  createTypeCheckFunction,
   getComments,
   hasComment,
   isNextLineEmpty,
@@ -29,39 +26,10 @@ import { printTypeAnnotationProperty } from "./type-annotation.js";
 
 /** @import {Doc} from "../../document/builders.js" */
 
-const isPrintingImportAttributes = createTypeCheckFunction([
-  "ImportDeclaration",
-  "ExportDefaultDeclaration",
-  "ExportNamedDeclaration",
-  "ExportAllDeclaration",
-  "DeclareExportDeclaration",
-  "DeclareExportAllDeclaration",
-]);
-
-/*
-- `ObjectExpression`
-- `ObjectPattern`
-- `RecordExpression`
-- `ImportDeclaration`
-- `ExportDefaultDeclaration`
-- `ExportNamedDeclaration`
-- `ExportAllDeclaration`
-- `ObjectTypeAnnotation` (Flow)
-- `EnumBooleanBody` (Flow)
-- `EnumNumberBody` (Flow)
-- `EnumBigIntBody` (Flow)
-- `EnumStringBody` (Flow)
-- `EnumSymbolBody` (Flow)
-- `DeclareExportDeclaration` (Flow)
-- `DeclareExportAllDeclaration` (Flow)
-- `TSInterfaceBody` (TypeScript)
-- `TSTypeLiteral` (TypeScript)
-- `TSEnumDeclaration`(TypeScript)
-*/
 function printObject(path, options, print) {
   const { node } = path;
 
-  const isFlowTypeAnnotation = node.type === "ObjectTypeAnnotation";
+  const isTypeAnnotation = node.type === "ObjectTypeAnnotation";
   const isEnumBody =
     node.type === "TSEnumBody" ||
     node.type === "EnumBooleanBody" ||
@@ -69,22 +37,15 @@ function printObject(path, options, print) {
     node.type === "EnumBigIntBody" ||
     node.type === "EnumStringBody" ||
     node.type === "EnumSymbolBody";
-  const isInterfaceBody = node.type === "TSInterfaceBody";
-  const isImportAttributes = isPrintingImportAttributes(node);
-
-  const fields = [];
-  if (node.type === "TSTypeLiteral" || isEnumBody) {
-    fields.push("members");
-  } else if (isInterfaceBody) {
-    fields.push("body");
-  } else if (isImportAttributes) {
-    fields.push("attributes");
-  } else {
-    fields.push("properties");
-
-    if (isFlowTypeAnnotation) {
-      fields.push("indexers", "callProperties", "internalSlots");
-    }
+  const fields = [
+    node.type === "TSTypeLiteral" || isEnumBody
+      ? "members"
+      : node.type === "TSInterfaceBody"
+        ? "body"
+        : "properties",
+  ];
+  if (isTypeAnnotation) {
+    fields.push("indexers", "callProperties", "internalSlots");
   }
 
   // Unfortunately, things grouped together in the ast can be
@@ -107,13 +68,13 @@ function printObject(path, options, print) {
 
   const { parent, key } = path;
   const isFlowInterfaceLikeBody =
-    isFlowTypeAnnotation &&
+    isTypeAnnotation &&
     key === "body" &&
     (parent.type === "InterfaceDeclaration" ||
       parent.type === "DeclareInterface" ||
       parent.type === "DeclareClass");
   const shouldBreak =
-    isInterfaceBody ||
+    node.type === "TSInterfaceBody" ||
     isEnumBody ||
     isFlowInterfaceLikeBody ||
     (node.type === "ObjectPattern" &&
@@ -134,11 +95,15 @@ function printObject(path, options, print) {
     (node.type !== "ObjectPattern" &&
       options.objectWrap === "preserve" &&
       propsAndLoc.length > 0 &&
-      hasNewLineAfterLeftBrace(node, propsAndLoc[0], options));
+      hasNewlineInRange(
+        options.originalText,
+        locStart(node),
+        propsAndLoc[0].loc,
+      ));
 
   const separator = isFlowInterfaceLikeBody
     ? ";"
-    : isInterfaceBody || node.type === "TSTypeLiteral"
+    : node.type === "TSInterfaceBody" || node.type === "TSTypeLiteral"
       ? options.semi
         ? ";"
         : ifBreak("", ";")
@@ -215,20 +180,19 @@ function printObject(path, options, print) {
       printTypeAnnotationProperty(path, print),
     ]);
   } else {
-    const spacing = options.bracketSpacing ? line : softline;
     content = [
       isFlowInterfaceLikeBody && isNonEmptyArray(node.properties)
         ? printHardlineAfterHeritage(parent)
         : "",
       leftBrace,
-      indent([spacing, ...props]),
+      indent([options.bracketSpacing ? line : softline, ...props]),
       ifBreak(
         canHaveTrailingSeparator &&
           (separator !== "," || shouldPrintComma(options))
           ? separator
           : "",
       ),
-      spacing,
+      options.bracketSpacing ? line : softline,
       rightBrace,
       printOptionalToken(path),
       printTypeAnnotationProperty(path, print),
@@ -280,27 +244,4 @@ function shouldHugTheOnlyParameter(node, name) {
   );
 }
 
-function hasNewLineAfterLeftBrace(node, firstPropertyAndLoc, options) {
-  const text = options.originalText;
-  let leftBraceIndex = locStart(node);
-  const firstPropertyStart = firstPropertyAndLoc.loc;
-
-  if (isPrintingImportAttributes(node)) {
-    const start = locStart(node);
-    const textBeforeAttributes = getTextWithoutComments(
-      options,
-      start,
-      firstPropertyStart,
-    );
-    leftBraceIndex = start + textBeforeAttributes.lastIndexOf("{");
-  }
-
-  /* c8 ignore next 3 */
-  if (process.env.NODE_ENV !== "production") {
-    assert.equal(text.charAt(leftBraceIndex), "{");
-  }
-
-  return hasNewlineInRange(text, leftBraceIndex, firstPropertyStart);
-}
-
 export { printObject };
diff --git a/src/language-js/printer.js b/src/language-js/printer.js
index 489de3a53..117fedb92 100644
--- a/src/language-js/printer.js
+++ b/src/language-js/printer.js
@@ -13,9 +13,5 @@ export {
 } from "./comments/printer-methods.js";
 export { default as embed } from "./embed/index.js";
 export { insertPragma } from "./pragma.js";
-export {
-  default as print,
-  default as printPrettierIgnored,
-} from "./print/index.js";
+export { default as print } from "./print/index.js";
 export { default as getVisitorKeys } from "./traverse/get-visitor-keys.js";
-export { default as hasPrettierIgnore } from "./utils/is-ignored.js";
diff --git a/src/language-js/traverse/visitor-keys.evaluate.js b/src/language-js/traverse/visitor-keys.evaluate.js
index 08471fb4b..c2e147aa6 100644
--- a/src/language-js/traverse/visitor-keys.evaluate.js
+++ b/src/language-js/traverse/visitor-keys.evaluate.js
@@ -24,6 +24,7 @@ const additionalVisitorKeys = {
   NeverTypeAnnotation: [],
   SatisfiesExpression: ["expression", "typeAnnotation"],
   TupleTypeAnnotation: ["elementTypes"],
+  TypePredicate: ["asserts"],
   UndefinedTypeAnnotation: [],
   UnknownTypeAnnotation: [],
 };
diff --git a/src/language-js/utils/get-text-without-comments.js b/src/language-js/utils/get-text-without-comments.js
index bbff70c46..936661a56 100644
--- a/src/language-js/utils/get-text-without-comments.js
+++ b/src/language-js/utils/get-text-without-comments.js
@@ -16,17 +16,15 @@ function getTextWithoutComments(options, start, end) {
       continue;
     }
 
-    const startIndex = commentStart - start;
-    const endIndex = commentEnd - start;
-
+    const commentLength = commentEnd - commentStart;
     text =
-      text.slice(0, startIndex) +
-      text.slice(startIndex, endIndex).replaceAll(/[^\n]/gu, " ") +
-      text.slice(endIndex);
+      text.slice(0, commentStart - start) +
+      " ".repeat(commentLength) +
+      text.slice(commentEnd - start);
   }
 
   if (process.env.NODE_ENV !== "production") {
-    assert.equal(text.length, end - start);
+    assert.ok(text.length === end - start);
   }
 
   return text;
diff --git a/src/language-js/utils/index.js b/src/language-js/utils/index.js
index bbd1bc05b..c6644e2cd 100644
--- a/src/language-js/utils/index.js
+++ b/src/language-js/utils/index.js
@@ -15,9 +15,9 @@ import isNodeMatches from "./is-node-matches.js";
 import isTsKeywordType from "./is-ts-keyword-type.js";
 
 /**
-@import * as Estree from "../types/estree.js"
-@import AstPath from "../../common/ast-path.js"
-*/
+ * @import * as Estree from "../types/estree.js"
+ * @import AstPath from "../../common/ast-path.js"
+ */
 
 /**
  * @param {Estree.Node} node
@@ -1144,5 +1144,4 @@ export {
   shouldPrintComma,
   startsWithNoLookaheadToken,
 };
-export { default as isMeaningfulEmptyStatement } from "./is-meaningful-empty-statement.js";
 export { default as isNodeMatches } from "./is-node-matches.js";
diff --git a/src/language-js/utils/is-meaningful-empty-statement.js b/src/language-js/utils/is-meaningful-empty-statement.js
deleted file mode 100644
index e5d1242a2..000000000
--- a/src/language-js/utils/is-meaningful-empty-statement.js
+++ /dev/null
@@ -1,26 +0,0 @@
-/* The argument is a duck type of AstPath, so we can use it in comment attach and ast massage */
-function isMeaningfulEmptyStatement({ node, parent }) {
-  if (node?.type !== "EmptyStatement") {
-    return false;
-  }
-
-  if (parent.type === "IfStatement") {
-    return parent.consequent === node || parent.alternate === node;
-  }
-
-  if (
-    parent.type === "DoWhileStatement" ||
-    parent.type === "ForInStatement" ||
-    parent.type === "ForOfStatement" ||
-    parent.type === "ForStatement" ||
-    parent.type === "LabeledStatement" ||
-    parent.type === "WithStatement" ||
-    parent.type === "WhileStatement"
-  ) {
-    return parent.body === node;
-  }
-
-  return false;
-}
-
-export default isMeaningfulEmptyStatement;
diff --git a/src/main/ast-to-doc.js b/src/main/ast-to-doc.js
index 98590efeb..27fd96d51 100644
--- a/src/main/ast-to-doc.js
+++ b/src/main/ast-to-doc.js
@@ -108,7 +108,7 @@ function callPluginPrintFunction(path, options, printPath, args, embeds) {
 
   // Escape hatch
   if (printer.hasPrettierIgnore?.(path)) {
-    doc = printIgnored(path, options, printPath, args);
+    doc = printIgnored(path, options);
   } else if (embeds.has(node)) {
     doc = embeds.get(node);
   } else {
diff --git a/src/main/print-ignored.js b/src/main/print-ignored.js
index 27d8fcb1d..0af80290d 100644
--- a/src/main/print-ignored.js
+++ b/src/main/print-ignored.js
@@ -1,4 +1,4 @@
-function printIgnored(path, options, printPath, args) {
+function printIgnored(path, options) {
   const {
     originalText,
     [Symbol.for("comments")]: comments,
@@ -17,11 +17,7 @@ function printIgnored(path, options, printPath, args) {
     }
   }
 
-  const { printPrettierIgnored } = options.printer;
-
-  return printPrettierIgnored
-    ? printPrettierIgnored(path, options, printPath, args)
-    : originalText.slice(start, end);
+  return originalText.slice(start, end);
 }
 
 export default printIgnored;
diff --git a/src/utils/ast-utils.js b/src/utils/ast-utils.js
index 7d73e9dfe..f204bfe38 100644
--- a/src/utils/ast-utils.js
+++ b/src/utils/ast-utils.js
@@ -1,14 +1,15 @@
 import isObject from "./is-object.js";
 
 /**
-@import {GetVisitorKeys, Node} from "../utils/create-get-visitor-keys.js"
-@typedef {(node: Node) => boolean} Predicate
-*/
+ * @typedef {NonNullable<object>} Node
+ * @typedef {(unknown) => string[]} GetVisitorKeys
+ * @typedef {(unknown) => boolean} Predicate
+ */
 
 /**
-@param {Node} node
-@param {{getVisitorKeys: GetVisitorKeys, filter?: Predicate}} options
-*/
+ * @param {Node} node
+ * @param {{getVisitorKeys: GetVisitorKeys, filter?: Predicate}} options
+ */
 function* getChildren(node, options) {
   const { getVisitorKeys, filter = () => true } = options;
   const isMatchedNode = (node) => isObject(node) && filter(node);
@@ -29,9 +30,9 @@ function* getChildren(node, options) {
 }
 
 /**
-@param {Node} node
-@param {{getVisitorKeys: GetVisitorKeys, filter?: Predicate}} options
-*/
+ * @param {Node} node
+ * @param {{getVisitorKeys: GetVisitorKeys, filter?: Predicate}} options
+ */
 function* getDescendants(node, options) {
   const queue = [node];
   for (let index = 0; index < queue.length; index++) {
@@ -45,17 +46,17 @@ function* getDescendants(node, options) {
 }
 
 /**
-@param {Node} node
-@param {{getVisitorKeys: GetVisitorKeys}} options
-*/
+ * @param {Node} node
+ * @param {{getVisitorKeys: GetVisitorKeys}} options
+ */
 function isLeaf(node, options) {
   return getChildren(node, options).next().done;
 }
 
 /**
-@param {Node} node
-@param {{getVisitorKeys: GetVisitorKeys, predicate: Predicate}} options
-*/
+ * @param {Node} node
+ * @param {{getVisitorKeys: GetVisitorKeys, predicate: Predicate}} options
+ */
 function hasDescendant(node, { getVisitorKeys, predicate }) {
   for (const descendant of getDescendants(node, { getVisitorKeys })) {
     if (predicate(descendant)) {
diff --git a/src/utils/create-get-visitor-keys.js b/src/utils/create-get-visitor-keys.js
index 3a4664ecf..de6920a2d 100644
--- a/src/utils/create-get-visitor-keys.js
+++ b/src/utils/create-get-visitor-keys.js
@@ -1,20 +1,8 @@
 import toFastProperties from "to-fast-properties";
 
-/**
-@typedef {(node: Node) => VisitorKeys} GetVisitorKeys
-@typedef {NonNullable<object>} Node
-@typedef {readonly string[]} VisitorKeys
-*/
-
-/**
-@param {Record<string, VisitorKeys>} visitorKeys
-@param {string} [typeProperty="type"]
-@returns {GetVisitorKeys}
-*/
 function createGetVisitorKeys(visitorKeys, typeProperty = "type") {
   toFastProperties(visitorKeys);
 
-  /** @type {GetVisitorKeys} */
   function getVisitorKeys(node) {
     const type = node[typeProperty];
 
diff --git a/website/package.json b/website/package.json
index 0edb03070..ad24df76a 100644
--- a/website/package.json
+++ b/website/package.json
@@ -35,7 +35,7 @@
     "@vitejs/plugin-react": "5.0.3",
     "concurrently": "9.2.1",
     "js-yaml": "4.1.0",
-    "vite": "7.1.11"
+    "vite": "7.1.5"
   },
   "browserslist": {
     "production": [
diff --git a/website/yarn.lock b/website/yarn.lock
index 8fc0bdfd2..185a99a71 100644
--- a/website/yarn.lock
+++ b/website/yarn.lock
@@ -12359,7 +12359,7 @@ __metadata:
     react-dom: "npm:18.3.1"
     react-markdown: "npm:10.1.0"
     react-tweet: "npm:3.2.2"
-    vite: "npm:7.1.11"
+    vite: "npm:7.1.5"
   languageName: unknown
   linkType: soft
 
@@ -13687,9 +13687,9 @@ __metadata:
   languageName: node
   linkType: hard
 
-"vite@npm:7.1.11":
-  version: 7.1.11
-  resolution: "vite@npm:7.1.11"
+"vite@npm:7.1.5":
+  version: 7.1.5
+  resolution: "vite@npm:7.1.5"
   dependencies:
     esbuild: "npm:^0.25.0"
     fdir: "npm:^6.5.0"
@@ -13738,7 +13738,7 @@ __metadata:
       optional: true
   bin:
     vite: bin/vite.js
-  checksum: 10/b75ce7a38beeba7800751938df4fe2638cfb77509647329ac824332af51831eaed52ab0a0bae1d9162ac41ef59fff1c754e0acf7e1470dfa7d3da51fc3bf0985
+  checksum: 10/59edeef7e98757a668b2ad8a1731a5657fa83e22a165a36b7359225ea98a9be39b2f486710c0cf5085edb85daee7c8b6b6b0bd85d0ef32a1aa84aef71aabd0f0
   languageName: node
   linkType: hard
 
