diff --git a/packages/mermaid/src/diagram-api/detectType.ts b/packages/mermaid/src/diagram-api/detectType.ts
index aed8ca964..ba78dbe55 100644
--- a/packages/mermaid/src/diagram-api/detectType.ts
+++ b/packages/mermaid/src/diagram-api/detectType.ts
@@ -71,9 +71,10 @@ export const registerLazyLoadedDiagrams = (...diagrams: ExternalDiagramDefinitio
 
 export const addDetector = (key: string, detector: DiagramDetector, loader?: DiagramLoader) => {
   if (detectors[key]) {
-    log.warn(`Detector with key ${key} already exists. Overwriting.`);
+    log.error(`Detector with key ${key} already exists`);
+  } else {
+    detectors[key] = { detector, loader };
   }
-  detectors[key] = { detector, loader };
   log.debug(`Detector with key ${key} added${loader ? ' with loader' : ''}`);
 };
 
diff --git a/packages/mermaid/src/diagram-api/diagramAPI.ts b/packages/mermaid/src/diagram-api/diagramAPI.ts
index 5ea3825ef..7ca9d5804 100644
--- a/packages/mermaid/src/diagram-api/diagramAPI.ts
+++ b/packages/mermaid/src/diagram-api/diagramAPI.ts
@@ -49,7 +49,7 @@ export const registerDiagram = (
   detector?: DiagramDetector
 ) => {
   if (diagrams[id]) {
-    log.warn(`Diagram with id ${id} already registered. Overwriting.`);
+    throw new Error(`Diagram ${id} already registered.`);
   }
   diagrams[id] = diagram;
   if (detector) {
diff --git a/packages/mermaid/src/diagram.spec.ts b/packages/mermaid/src/diagram.spec.ts
index c73fb0a3b..d116399ac 100644
--- a/packages/mermaid/src/diagram.spec.ts
+++ b/packages/mermaid/src/diagram.spec.ts
@@ -2,32 +2,9 @@ import { describe, test, expect } from 'vitest';
 import { Diagram, getDiagramFromText } from './Diagram.js';
 import { addDetector } from './diagram-api/detectType.js';
 import { addDiagrams } from './diagram-api/diagram-orchestration.js';
-import type { DiagramLoader } from './diagram-api/types.js';
 
 addDiagrams();
 
-const getDummyDiagram = (id: string, title?: string): Awaited<ReturnType<DiagramLoader>> => {
-  return {
-    id,
-    diagram: {
-      db: {
-        getDiagramTitle: () => title ?? id,
-      },
-      parser: {
-        parse: () => {
-          // no-op
-        },
-      },
-      renderer: {
-        draw: () => {
-          // no-op
-        },
-      },
-      styles: {},
-    },
-  };
-};
-
 describe('diagram detection', () => {
   test('should detect inbuilt diagrams', async () => {
     const graph = (await getDiagramFromText('graph TD; A-->B')) as Diagram;
@@ -44,25 +21,30 @@ describe('diagram detection', () => {
     addDetector(
       'loki',
       (str) => str.startsWith('loki'),
-      () => Promise.resolve(getDummyDiagram('loki'))
+      () =>
+        Promise.resolve({
+          id: 'loki',
+          diagram: {
+            db: {},
+            parser: {
+              parse: () => {
+                // no-op
+              },
+            },
+            renderer: {
+              draw: () => {
+                // no-op
+              },
+            },
+            styles: {},
+          },
+        })
     );
-    const diagram = await getDiagramFromText('loki TD; A-->B');
+    const diagram = (await getDiagramFromText('loki TD; A-->B')) as Diagram;
     expect(diagram).toBeInstanceOf(Diagram);
     expect(diagram.type).toBe('loki');
   });
 
-  test('should allow external diagrams to override internal ones with same ID', async () => {
-    const title = 'overridden';
-    addDetector(
-      'flowchart-elk',
-      (str) => str.startsWith('flowchart-elk'),
-      () => Promise.resolve(getDummyDiagram('flowchart-elk', title))
-    );
-    const diagram = await getDiagramFromText('flowchart-elk TD; A-->B');
-    expect(diagram).toBeInstanceOf(Diagram);
-    expect(diagram.db.getDiagramTitle?.()).toBe(title);
-  });
-
   test('should throw the right error for incorrect diagram', async () => {
     await expect(getDiagramFromText('graph TD; A-->')).rejects.toThrowErrorMatchingInlineSnapshot(`
       "Parse error on line 2:
diff --git a/packages/mermaid/src/mermaid.ts b/packages/mermaid/src/mermaid.ts
index 99c3b7491..a6d495471 100644
--- a/packages/mermaid/src/mermaid.ts
+++ b/packages/mermaid/src/mermaid.ts
@@ -15,7 +15,6 @@ import { isDetailedError } from './utils.js';
 import type { DetailedError } from './utils.js';
 import type { ExternalDiagramDefinition } from './diagram-api/types.js';
 import type { UnknownDiagramError } from './errors.js';
-import { addDiagrams } from './diagram-api/diagram-orchestration.js';
 
 export type {
   MermaidConfig,
@@ -244,7 +243,6 @@ const registerExternalDiagrams = async (
     lazyLoad?: boolean;
   } = {}
 ) => {
-  addDiagrams();
   registerLazyLoadedDiagrams(...diagrams);
   if (lazyLoad === false) {
     await loadRegisteredDiagrams();
