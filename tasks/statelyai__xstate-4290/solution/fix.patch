diff --git a/.changeset/olive-sheep-fetch.md b/.changeset/olive-sheep-fetch.md
new file mode 100644
index 0000000000..82f160ae2e
--- /dev/null
+++ b/.changeset/olive-sheep-fetch.md
@@ -0,0 +1,5 @@
+---
+'xstate': minor
+---
+
+An error will now be thrown if an incompatible state value is passed to `machine.resolveState({ value })`.
diff --git a/examples/express-workflow/index.ts b/examples/express-workflow/index.ts
index 8d4914db67..c924557797 100644
--- a/examples/express-workflow/index.ts
+++ b/examples/express-workflow/index.ts
@@ -1,5 +1,5 @@
-import { createActor } from "xstate";
-import bodyParser from "body-parser";
+import { createActor } from 'xstate';
+import bodyParser from 'body-parser';
 
 function generateActorId() {
   return Math.random().toString(36).substring(2, 8);
@@ -7,8 +7,8 @@ function generateActorId() {
 
 const persistedStates: Record<string, unknown> = {};
 
-import express from "express";
-import { machine } from "./machine";
+import express from 'express';
+import { machine } from './machine';
 
 const app = express();
 
@@ -19,7 +19,7 @@ app.use(bodyParser.json());
 // - Starts the actor
 // - Persists the actor state
 // - Returns the actor ID in the response
-app.post("/workflows", (req, res) => {
+app.post('/workflows', (req, res) => {
   const workflowId = generateActorId(); // generate a unique ID
   const actor = createActor(machine).start();
 
@@ -35,12 +35,12 @@ app.post("/workflows", (req, res) => {
 // - Sends the event from the request body to the actor
 // - Persists the updated state
 // - Returns the updated state in the response
-app.post("/workflows/:workflowId", (req, res) => {
+app.post('/workflows/:workflowId', (req, res) => {
   const { workflowId } = req.params;
   const snapshot = persistedStates[workflowId];
 
   if (!snapshot) {
-    return res.status(404).send("Actor not found");
+    return res.status(404).send('Actor not found');
   }
 
   const event = req.body;
@@ -60,18 +60,18 @@ app.post("/workflows/:workflowId", (req, res) => {
 // - Gets the actor ID from request params
 // - Gets the persisted state for that actor
 // - Returns the persisted state in the response
-app.get("/workflows/:workflowId", (req, res) => {
+app.get('/workflows/:workflowId', (req, res) => {
   const { workflowId } = req.params;
   const persistedState = persistedStates[workflowId];
 
   if (!persistedState) {
-    return res.status(404).send("Actor not found");
+    return res.status(404).send('Actor not found');
   }
 
   res.json(persistedState);
 });
 
-app.get("/", (_, res) => {
+app.get('/', (_, res) => {
   res.send(`
     <html>
       <body style="font-family: sans-serif;">
@@ -88,5 +88,5 @@ app.get("/", (_, res) => {
 });
 
 app.listen(4242, () => {
-  console.log("Server listening on port 4242");
+  console.log('Server listening on port 4242');
 });
diff --git a/examples/todomvc-react/readme.md b/examples/todomvc-react/readme.md
index 1f01e44841..46d0d2e8a9 100644
--- a/examples/todomvc-react/readme.md
+++ b/examples/todomvc-react/readme.md
@@ -17,10 +17,10 @@ You may run the example locally with:
     pnpm run dev
 ```
 
-__OR__
+**OR**
 
 [Open in CodeSandbox](https://codesandbox.io/p/sandbox/github/statelyai/xstate/tree/main/examples/todomvc-react)
 
-__OR__
+**OR**
 
 [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/statelyai/xstate/tree/main/examples/todomvc-react)
diff --git a/packages/core/src/stateUtils.ts b/packages/core/src/stateUtils.ts
index c98ebf49ce..62c5af12d0 100644
--- a/packages/core/src/stateUtils.ts
+++ b/packages/core/src/stateUtils.ts
@@ -626,7 +626,13 @@ export function getStateNodes<
   TEvent extends EventObject
 >(stateNode: AnyStateNode, stateValue: StateValue): Array<AnyStateNode> {
   if (typeof stateValue === 'string') {
-    return [stateNode, stateNode.states[stateValue]];
+    const childStateNode = stateNode.states[stateValue];
+    if (!childStateNode) {
+      throw new Error(
+        `State '${stateValue}' does not exist on '${stateNode.id}'`
+      );
+    }
+    return [stateNode, childStateNode];
   }
 
   const childStateKeys = Object.keys(stateValue);
