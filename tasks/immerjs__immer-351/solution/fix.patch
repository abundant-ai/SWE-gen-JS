diff --git a/bili.config.ts b/bili.config.ts
index 8a362c6..81ac16c 100644
--- a/bili.config.ts
+++ b/bili.config.ts
@@ -15,13 +15,6 @@ const config: Config = {
         minimal: true,
         babelrc: false
     },
-    plugins: {
-        buble: {
-            transforms: {
-                generator: false
-            }
-        }
-    },
     extendConfig(config, {format}) {
         if (format === "umd") {
             config.output.minify = true
diff --git a/src/common.js b/src/common.js
index c6a9b92..34017c3 100644
--- a/src/common.js
+++ b/src/common.js
@@ -109,7 +109,8 @@ export function each(value, cb) {
 }
 
 export function isEnumerable(base, prop) {
-    return Object.getOwnPropertyDescriptor(base, prop).enumerable
+    const desc = Object.getOwnPropertyDescriptor(base, prop)
+    return !!desc && desc.enumerable
 }
 
 export function has(thing, prop) {
diff --git a/src/proxy.js b/src/proxy.js
index 311c8ce..b185851 100644
--- a/src/proxy.js
+++ b/src/proxy.js
@@ -185,6 +185,7 @@ const mapTraps = {
     }
 }
 const mapGetters = {
+    [DRAFT_STATE]: state => state,
     size: state => source(state).size,
     has(state, prop) {
         state = source(state)
@@ -193,7 +194,8 @@ const mapGetters = {
     set: state => (key, value) => {
         markChanged(state)
         state.assigned[key] = true
-        return state.copy.set(key, value)
+        state.copy.set(key, value)
+        return state.draft
     },
     delete: state => key => {
         markChanged(state)
